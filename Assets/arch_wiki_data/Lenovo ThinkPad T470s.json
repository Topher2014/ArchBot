{
  "title": "Lenovo ThinkPad T470s",
  "url": "https://wiki.archlinux.org/title/Lenovo_ThinkPad_T470s",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nGPU |  | Yes\nWireless |  | Yes\nMobile broadband | 1199:9079 | Yes\nAudio |  | Yes\nTrackPoint |  | Yes\nTouchpad |  | Yes\nSmartcard reader | 058f:9540 | Yes\nBluetooth | 0bda:0316 | Yes\nFingerprint reader | 138a:0097 | Yes\n\nThis article covers the installation and configuration of Arch Linux on a Lenovo Thinkpad T470s.\n\nFor a general overview of laptop-related articles and recommendations, see Laptop.\n\n"
    },
    {
      "title": "Firmware",
      "level": 2,
      "content": "As of writing, the current BIOS version is 1.54. By visiting the downloads section (for the type HG/HF T470s) an ISO can be downloaded and burned to disk which will perform the update [1]\n\nThis laptop is unique in that it retains the Thinkpad dock connection as well as provides docking ability over USB-C. We have tested with the Thinkpad Ultra Dock and are able to utilize multiple HiDPI monitors via individual connections (e.g. no display port chaining). There are published firmware updates for the dock that require Windows to install. DisplayPort chaining works via USB-C to DisplayPort adapter.\n\n"
    },
    {
      "title": "Via a USB key",
      "level": 4,
      "content": "In order to update the BIOS/UEFI using a USB key, download the \"BIOS Update (Bootable CD)\" ISO from [2] and follow the instructions on Flashing BIOS from Linux#Bootable optical disk emulation.\n\n"
    },
    {
      "title": "Using fwupd",
      "level": 4,
      "content": "1. Install fwupd\n1. Get the official update utility from [3] and follow the instructions from the same page.\n\n"
    },
    {
      "title": "Kernel and hardware support",
      "level": 2,
      "content": "Hardware video acceleration with Kaby Lake seems to work fine via VA-API.\n\n"
    },
    {
      "title": "Mobile broadband",
      "level": 2,
      "content": "The mobile broadband card is a Sierra EM7455. It works with Google's Project Fi.\n\n"
    },
    {
      "title": "Fingerprint reader",
      "level": 3,
      "content": "As of December 2024, the fingerprint reader is still under prototype development, but works just fine.\n\nWhile fprintd does not yet support the sensor, it can be set up using python-validityAUR and open-fprintdAUR - install the packages and configure the sensor as described in fprint#Configuration.\n\nDo note that some packages have a hard dependency on fprintd (e.g. pam-fprint-grosshackAUR) - for those you will have to edit the PKGBUILDs to remove the dependency and build the packages manually.\n\n"
    },
    {
      "title": "Fan does not spin down after suspend-resume",
      "level": 3,
      "content": "On gnome-shell via wayland, suspend-resume results in the fan holding at 100% without ever spinning down. Alternatively if you use xorg this does not seem to happen. This issue has been resolved in BIOS/UEFI version 1.20.\n\n"
    },
    {
      "title": "HDMI audio does not work with PulseAudio",
      "level": 3,
      "content": "The Intel HD audio module manages both the internal analog audio devices (e.g. speakers, mic, headphone jack) and the HDMI / DisplayPort audio outputs. Which inputs / outputs are used is selectable via the card profile. The profile selection can be changed using the pavucontrol application in the Configuration tab.\n\nAnalog Stereo Duplex is the default, using the internal speakers / headphone jack and the internal microphone. To feed audio out the internal HDMI port while still using the internal microphone for input, select Digital Stereo (HDMI 2) Output + Analog Stereo Input.\n\nPulseAudio will remember this selection and auto switch to/from it based on the status of the HDMI port.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- ThinkWiki page\n- Product Specifications Reference (PSREF)\n- Lenovo Support Page\n\n"
    }
  ]
}