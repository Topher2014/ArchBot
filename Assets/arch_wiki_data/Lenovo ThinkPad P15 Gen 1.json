{
  "title": "Lenovo ThinkPad P15 Gen 1",
  "url": "https://wiki.archlinux.org/title/Lenovo_ThinkPad_P15_Gen_1",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nTouchpad |  | Yes\nTrackpoint |  | Yes\nKeyboard |  | Yes\nGPU (NVIDIA) | 10de:1fb9 | Yes\nGPU (Intel) | 8086:9bc4 | Yes\nWebcam | 04f2:b6be | Yes\nEthernet | 8086:06f0 | Yes\nBluetooth | 8087:0026 | Yes\nSD-card reader |  | Yes\nAudio | 8086:06c8 | Yes\nWireless | 8086:06f0 | Yes\nFingerprint reader | 06cb:00bd | Yes\n\n"
    },
    {
      "title": "Discrete GPU",
      "level": 2,
      "content": "This model uses PRIME for combining the integrated and the dedicated GPU. As the external graphic ports are wired to the discrete GPU, drivers for the discrete GPU need to be present in order to use them. However, no special X.org configuration should be necessary, as xrandr should detect the ports automatically. If not, follow the instructions in PRIME#Reverse PRIME.\n\n"
    },
    {
      "title": "Disabling discrete GPU via acpi",
      "level": 3,
      "content": "The built in GPU can be disable and re-enabled on the fly via acpi call. This can significantly reduce power consumption and increase battery live up to a factor of 5.\n\nSee Hybrid graphics#Using acpi_call, the specific ACPI call for this device is \\_SB.PCI0.PEG0.PEGP._OFF.\n\n"
    },
    {
      "title": "Fan control",
      "level": 2,
      "content": "The default operation of fans is noisy, as they are basically at medium power all the time. The thinkfanAUR program can be used to create a quieter operation, while retaining reasonable temperatures.\n\nHere is an example /etc/thinkfan.conf configuration:\n\n```\n/etc/thinkfan.conf\n```\n\n```\nsensors:\n  # NVIDIA GPU\n  - nvml: 01:00.0\n\n  # acpitz\n  # crit = 128°C\n  - hwmon: /sys/class/hwmon\n    name: acpitz\n    indices: [1]\n    correction: [0]\n\n  # pch_cometlake\n  - hwmon: /sys/devices/virtual/thermal/thermal_zone7\n    name: pch_cometlake\n    indices: [1]\n    correction: [0]\n\n  # nvme\n  # high = 85°C\n  - hwmon: /sys/devices/pci0000:00/0000:00:1b.0/0000:02:00.0/hwmon\n    name: nvme\n    indices: [2, 3]\n    correction: [0, 0]\n\n  # nvme\n  # high = 85°C\n  - hwmon: /sys/devices/pci0000:00/0000:00:1d.0/0000:55:00.0/hwmon\n    name: nvme\n    indices: [2, 3]\n    correction: [0, 0]\n\n  # coretemp\n  # high = 100°C, crit = 100°C.\n  - hwmon: /sys/devices/platform/coretemp.0/hwmon\n    name: coretemp\n    indices: [1, 2, 3, 4, 5, 6, 7, 8, 9]\n    correction: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n  # thinkpad\n  - hwmon: /sys/devices/platform/thinkpad_hwmon/hwmon\n    name: thinkpad\n    indices: [1, 2, 3, 4, 5, 6]\n    correction: [0, 0, 0, 0, 0, 0]\n\n  # thinkpad\n  - hwmon: /sys/devices/platform/thinkpad_hwmon/hwmon\n    name: thinkpad\n    indices: [7]\n    correction: [0]\n\n  # thinkpad\n  - hwmon: /sys/devices/platform/thinkpad_hwmon/hwmon\n    name: thinkpad\n    optional: true\n    indices: [8]\n    correction: [0]\n\n  # iwlwifi_1\n  - hwmon: /sys/class/hwmon\n    name: iwlwifi_1\n    optional: true\n    indices: [1]\n    correction: [0]\n\nfans:\n  - tpacpi: /proc/acpi/ibm/fan\n\nlevels:\n  - [0, 0, 60]\n  - [2, 60, 65]\n  - [3, 65, 70]\n  - [5, 70, 75]\n  - [6, 75, 80]\n  - [7, 80, 85]\n  - [\"level disengaged\", 85, 255]\n```\n\n"
    },
    {
      "title": "Enabling Turbo boost",
      "level": 2,
      "content": "By default, the CPU power governor does not allow CPU frequencies to reach turbo boost speeds. This can be fixed via, for instance, cpupower-guiAUR.\n\nThis can be changed by modifying the file /etc/cpupower_gui.conf:\n\n```\n/etc/cpupower_gui.conf\n```\n\n```\n[Profile]\n#This setting was: profile = Balanced\nprofile = Performance\n```\n\nThen start/enable cpupower-gui.service.\n\n"
    },
    {
      "title": "Firmware",
      "level": 2,
      "content": "This Device has fwupd support.\n\n"
    }
  ]
}