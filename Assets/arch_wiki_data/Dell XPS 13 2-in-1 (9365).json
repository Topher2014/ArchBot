{
  "title": "Dell XPS 13 2-in-1 (9365)",
  "url": "https://wiki.archlinux.org/title/Dell_XPS_13_2-in-1_(9365)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nTouchpad |  | Yes\nKeyboard |  | Yes\nTouchscreen |  | Yes\nGPU | 8086:591e | Yes\nWebcam | 0bda:58c8 | Yes\nBluetooth | 8087:0a2b | Yes\nSD-card reader | 10ec:525a | Yes\nAudio | 8086:9d71 | Yes\nWireless | 8086:24fd | Yes\nFingerprint reader | 138a:0091 | Yes\n\nThe Dell XPS 13 2-in-1 (9365) is the early 2017 model. It can be used like a tablet when folding the display on the back. The touchscreen works out of the box.\n\n"
    },
    {
      "title": "BIOS configuration",
      "level": 3,
      "content": "Bios can be accessed with F2 or F12 on DELL logo boot screen.\n\nWith Bios version 1.1.0 or 1.3.1 to 2.1.2 you have to set sata operation to AHCI first and then uncheck in Advanced Boot options -> Legacy ROM.[1]\n\n- In RAID mode the BIOS/UEFI is able to see the internal drive and is able to boot from it. It is possible to boot Archiso in RAID mode, but it cannot see the internal drive.\n- In AHCI mode the BIOS/UEFI with Legacy ROM activated is not able to see the internal drive. If you try to boot it will fail and display an error that no harddrive is installed.\n- In AHCI mode the BIOS/UEFI with Legacy ROM deactivated is able to see the internal drive and therefore boot from it and Archiso is able to see the drive too. With these settings you can install and boot arch.\n\nIt is also needed to set the following settings [2] :\n\n- UEFI network stack - disabled\n- Secure Boot - disabled\n- SATA operations - AHCI\n- Legacy ROM - disabled\n- POST Behaviour : Fastboot - minimal (if not, BIOS is really slow, and cannot boot to any mediums)\n\n- Some changes in BIOS might reset other settings. Check your BIOS settings twice.\n- Those settings are working as of 2018/11/28\n\n"
    },
    {
      "title": "Accessibility",
      "level": 2,
      "content": "The UEFI settings menu requires the use of a mouse.\n\n"
    },
    {
      "title": "Firmware",
      "level": 2,
      "content": "fwupd does support this device.\n\n"
    },
    {
      "title": "Secure Boot",
      "level": 3,
      "content": "The UEFI supports custom keys.\n\n"
    },
    {
      "title": "Firmware data path",
      "level": 3,
      "content": "The BIOS stores logs in esp/EFI/Dell.\n\n"
    },
    {
      "title": "Logs",
      "level": 4,
      "content": "esp/EFI/Dell/logs contains XML files which contain diagnostics data (SupportAssist). It appears that there will only be two logs at the same time, diags_previous.xml and diags_current.xml. Those files will be created when an error happened.\n\nExample log (diags_previous.xml):\n\n```\ndiags_previous.xml\n```\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <SupportAssistPrebootDiagnosticLog>\n    <Schema>1.0.0</Schema>\n    <LogNumber>47</LogNumber>\n    <LogTimeStamp>03/07/2024 18:18:49</LogTimeStamp>\n    <ePSA_Data>\n      <Result>Not Reported</Result>\n      <ReturnCode>BOOT_HOST_OS</ReturnCode>\n      <ePSAFullVersion>2.27</ePSAFullVersion>\n      <ePSAInvocationCount>1</ePSAInvocationCount>\n    </ePSA_Data>\n    <BIOS_Data>\n      <ErrorCategory>BATTERY</ErrorCategory>\n      <ErrorMessage><![CDATA[WARNING: Battery is critically low.\n]]></ErrorMessage>\n      <FRU_String><![CDATA[Unknown Battery]]></FRU_String>\n      <SOS_Available>FALSE</SOS_Available>\n      <TimeOutSeconds>0</TimeOutSeconds>\n    </BIOS_Data>\n  </SupportAssistPrebootDiagnosticLog>\n```\n\nAnother example log (diags_current.xml):\n\n```\ndiags_current.xml\n```\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <SupportAssistPrebootDiagnosticLog>\n    <Schema>1.0.0</Schema>\n    <LogNumber>48</LogNumber>\n    <LogTimeStamp>01/01/2012 00:00:44</LogTimeStamp>\n    <ePSA_Data>\n      <Result>Not Reported</Result>\n      <ReturnCode>BOOT_HOST_OS</ReturnCode>\n      <ePSAFullVersion>2.27</ePSAFullVersion>\n      <ePSAInvocationCount>1</ePSAInvocationCount>\n    </ePSA_Data>\n    <BIOS_Data>\n      <ErrorCategory>DISPLAY_ONLY</ErrorCategory>\n      <ErrorMessage><![CDATA[Time-of-day not set - please run SETUP program.\n]]></ErrorMessage>\n      <SOS_Available>FALSE</SOS_Available>\n      <TimeOutSeconds>0</TimeOutSeconds>\n    </BIOS_Data>\n  </SupportAssistPrebootDiagnosticLog>\n```\n\n"
    },
    {
      "title": "Suspend issues",
      "level": 3,
      "content": "This model only supports the S0ix sleep mode, see Power management/Suspend and hibernate#Changing suspend method.\n\n"
    },
    {
      "title": "Screen not rotating",
      "level": 3,
      "content": "You need to install iio-sensor-proxy for automatic screen rotation to work.\n\n"
    },
    {
      "title": "Reduce throttling",
      "level": 3,
      "content": "On battery the device runs noticeably slower. This goes even as far as that scrolling a web browser can get stuttery while perfectly fluid when connected to a charger. It might be an issue with the performance preference of the CPU. If\n\n```\n$ cat /sys/devices/system/cpu/cpufreq/policy?/energy_performance_preference\n```\n\nreports default or balance_power it can cause the CPU to be limited in its maximum clockspeed and performance. This is expected from 'balance_power'. 'default' means the manufacturer's own settings are active but those seem to limit performance on battery quite a lot. You can change it to 'balance_performance' or 'performance' to get a higher performance at a increased power consumption. When you try the different options and use a stress test you can observe that on 'default', 'balance_power' and 'power' the maximum CPU frequency is limited. 'balance performance' should still allow for maximum frequency while still allowing some power saving. You can change it permanently with\n\n```\n/etc/tmpfiles.d/energy_performance_preference.conf\n```\n\n```\nw /sys/devices/system/cpu/cpufreq/policy?/energy_performance_preference - - - - balance_performance\n```\n\nA way to save some power is to increase the energy performance bias.\n\n```\n/etc/tmpfiles.d/energy_performance_bias.conf\n```\n\n```\nw /sys/devices/system/cpu/cpu?/power/energy_perf_bias - - - - 15\n```\n\nIt controls how aggressive power saving mechanisms work without decreasing performance too much.\n\n"
    },
    {
      "title": "Function Keys",
      "level": 2,
      "content": "Table content:\nKey | Visible?1 | Marked?2 | Effect\nFn+Esc | No | Yes | Enables Fn lock\nFn+F1 | No | Yes | XF86AudioMute\nFn+F2 | No | Yes | XF86AudioLowerVolume\nFn+F3 | No | Yes | XF86AudioRaiseVolume\nFn+F4 | No | Yes | XF86AudioPrev\nFn+F5 | No | Yes | XF86AudioPlay\nFn+F6 | No | Yes | XF86AudioNext\nFn+F3 | No | Yes | XF86AudioRaiseVolume\nFn+F3 | No | Yes | XF86AudioRaiseVolume\nFn+F9 | Yes | Yes | XF86Search\nFn+F10 | No | Yes | Toggles keyboard backlight\nFn+F11 | No | Yes | Print screen\nFn+F12 | No | Yes | Insert\nFn+F12 | No | Yes | XF86RFKill\n\n1. The key is visible to xev and similar tools\n1. The physical key has a symbol on it, which describes its function\n1. systemd-logind handles this by default\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Official specification sheet: https://i.dell.com/sites/doccontent/shared-content/data-sheets/en/Documents/XPS-9365-2-in-1-spec-sheet.pdf\n- Official service manual: https://dl.dell.com/topicspdf/xps-13-9365-2-in-1-laptop_service-manual_en-us.pdf\n\n"
    }
  ]
}