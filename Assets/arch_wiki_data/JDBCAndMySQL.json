{
  "title": "JDBCAndMySQL",
  "url": "https://wiki.archlinux.org/title/JDBCAndMySQL",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "This document describes how to set up your Arch system so that MySQL databases can be accessed via Java programs.\n\n"
    },
    {
      "title": "Installing MySQL",
      "level": 3,
      "content": "Install a MySQL implementation.\n\nTo allow for network access, make sure that /etc/mysql/my.cnf has the following line commented out, as shown here:\n\n```\n#skip-networking\n```\n\nYour MySQL version may use the following line instead to restrict network access:\n\n```\nbind-address = *\n```\n\nThen, start the MySQL service.\n\n"
    },
    {
      "title": "Installing JDBC",
      "level": 3,
      "content": "Install a JDBC driver according to your MySQL variant:\n\n- mariadb-jdbcAUR - for the Arch Linux endorsed server\n- mysql-connector-javaAUR - for the Oracle variant\n\n"
    },
    {
      "title": "Testing",
      "level": 2,
      "content": "To access MySQL's command line tool, run:\n\n```\n$ mysql\n```\n\n"
    },
    {
      "title": "Creating the test database",
      "level": 3,
      "content": "The following commands create a database test, and grant all privileges to user foo identified by password bar. Change the variables at your discretion.\n\n```\ncreate database test;\ngrant all privileges on test.* to foo@localhost identified by \"bar\";\nflush privileges;\n```\n\nAfterwards, use Ctrl + d to exit the command line tool.\n\n"
    },
    {
      "title": "Creating the test program",
      "level": 3,
      "content": "Use a text editor to create the file DBDemo.java with the following code in it. You will need to change the username and password accordingly.\n\n```\nimport java.sql.*;\n\npublic class DBDemo {\n  public static void main(String[] args) throws SQLException, ClassNotFoundException {\n    // Load the JDBC driver\n    Class.forName(\"org.mariadb.jdbc.Driver\");\n    System.out.println(\"Driver loaded\");\n\n    // Try to connect\n    Connection connection = DriverManager.getConnection\n      (\"jdbc:mariadb://localhost/test\", \"foo\", \"bar\");\n\n    System.out.println(\"It works!\");\n\n    connection.close();\n  }\n}\n```\n\nIf using Oracle MySQL (as opposed to MariaDB), the above class name should be set to com.mysql.jdbc.Driver.\n\n"
    },
    {
      "title": "Running the program",
      "level": 3,
      "content": "To compile and run the program (you will need jre-openjdk), execute:\n\n```\n$ javac DBDemo.java\n$ java -classpath /usr/share/java/mariadb-jdbc/mariadb-java-client.jar:. DBDemo\n```\n\nIf all was configured correctly, you should see:\n\n```\nDriver loaded\nIt works!\n```\n\n"
    }
  ]
}