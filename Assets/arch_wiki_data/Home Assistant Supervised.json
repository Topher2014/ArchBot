{
  "title": "Home Assistant Supervised",
  "url": "https://wiki.archlinux.org/title/Home_Assistant_Supervised",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- Home Assistant\n- AppArmor\n\nHome Assistant is an open source home automation software that puts local control and privacy first. Powered by a worldwide community of tinkerers and DIY enthusiasts. Supervised is a type of installation that provides the ability to use more features, like Addons installation from UI.\n\n"
    },
    {
      "title": "Install",
      "level": 2,
      "content": "Install the homeassistant-supervisedAUR package.\n\nAnd guarantee that AppArmor is correctly installed and configured.\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "Supervised configuration files are stored at /var/lib/homeassistant/. If no configuration exists, a default configuration will be written at startup. To access just Home Assistant's configuration files go to /var/lib/homeassistant/homeassistant/.\n\n"
    },
    {
      "title": "If installed before v3.0.0",
      "level": 3,
      "content": "Supervised configuration files were changed from /usr/lib/hassio/ to /var/lib/homeassistant/. You can keep the old configuration. You can change the location by setting the data value in the config file /etc/hassio.json.\n\n"
    },
    {
      "title": "Usage",
      "level": 2,
      "content": "To start Home Assistant, start/enable hassio-apparmor.service and hassio-supervisor.service.\n\nThe first start may take up to 20 minutes because the required packages will be downloaded and installed.[1].\n\nBy default, the web interface is available at http://localhost:8123.\n\n"
    },
    {
      "title": "Troubleshooting",
      "level": 2,
      "content": "Before doing anything, check if supervisor is Connected and the installation Healthy. You can do that by accessing the Observable Plugin, which can be accessed at http://localhost:4357.\n\n"
    },
    {
      "title": "Supervisor not connected",
      "level": 3,
      "content": "1. Check if hassio-supervisor.service is started/enabled.\n1. Check if your supervisor container is up and running.\n\n```\n# docker ps | grep hassio_supervisor\n```\n\n"
    },
    {
      "title": "Supervisor connected but installation Unhealth",
      "level": 3,
      "content": "1. Check if your AppArmor#Display current status is correctly installed and configured.\n1. Check if you start/enable hassio-apparmor.service service.\n1. Look at Supervisor logs for additional information:\n\n```\n# docker logs -f hassio_supervisor\n```\n\n"
    },
    {
      "title": "file /etc/hassio.json does not exist",
      "level": 3,
      "content": "Make sure you have the /etc/hassio.json configuration file.\n\nIf not, create it and fill it with sample data:\n\n```\n{\n    \"supervisor\": \"ghcr.io/home-assistant/amd64-hassio-supervisor\",\n    \"machine\": \"generic-x86-64\",\n    \"data\": \"/var/lib/homeassistant\"\n}\n```\n\n"
    }
  ]
}