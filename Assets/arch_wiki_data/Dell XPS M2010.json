{
  "title": "Dell XPS M2010",
  "url": "https://wiki.archlinux.org/title/Dell_XPS_M2010",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nFrom Wikipedia:\n\nIt also made an appearance in the 2008 Iron Man film.\n\n"
    },
    {
      "title": "Sound",
      "level": 3,
      "content": "Internal speakers will not work out of the box. (See discussions on the Linux Laptop Wiki, among other places.)\n\nA workaround is described at [1].\n\nFor the record, the workaround involves running the following commands:\n\n```\nhda-verb /dev/snd/hwC0D0 0x1 set_gpio_data 5\nhda-verb /dev/snd/hwC0D0 0x1 set_gpio_dir 5\nhda-verb /dev/snd/hwC0D0 0x1 set_gpio_mask 5\n```\n\nSpeaker output works as expected after this.\n\n"
    },
    {
      "title": "Running the workaround automatically with systemd",
      "level": 4,
      "content": "Using systemd, it is possible to set up a script to run these commands automatically at boot.\n\nFirst, create the relevant script and save it somewhere (e.g., in /usr/local/bin):\n\n```\n/usr/local/bin/M2010-sound\n```\n\n```\n#!/bin/sh\nhda-verb /dev/snd/hwC0D0 0x1 set_gpio_data 5\nhda-verb /dev/snd/hwC0D0 0x1 set_gpio_dir 5\nhda-verb /dev/snd/hwC0D0 0x1 set_gpio_mask 5\n```\n\nMake it executable.\n\nCreate a new systemd unit (e.g., in /etc/systemd/system) that calls your script:\n\n```\n/etc/systemd/system/M2010-sound.service\n```\n\n```\n[Unit]\nDescription=M2010 Speaker Configuration\nAfter=sound.target\nRequires=sound.target\n\n[Service]\nExecStart=/usr/local/bin/M2010-sound\n\n[Install]\nWantedBy=multi-user.target\n```\n\nEnable the new service.\n\nTo test the workaround, either reboot or start the service. However, note that running the commands a second time during the same session might cause the speakers to stop working; they should work again after a reboot.\n\n"
    },
    {
      "title": "Temperature monitoring and fan control (i8k)",
      "level": 3,
      "content": "The i8k module appears to work for temperature monitoring and fan control, but it needs to be loaded explicitly.\n\nFirst, create a new .conf file in /etc/modules-load.d specifying i8k as a module to load:\n\n```\n/etc/modules-load.d/i8k.conf\n```\n\n```\ni8k\n```\n\nNext, specify the module load options in a .conf file in /etc/modprobe.d. The fan RPM values shown by default appear to be erroneous, so we change the fan_mult option here (see [2]):\n\n```\n/etc/modprobe.d/i8k.conf\n```\n\n```\noptions i8k force=1 fan_mult=1\n```\n\nThe i8k module should now be loaded automatically at boot.\n\nTo make system-wide changes to the configuration for i8kmon, you can simply edit /etc/i8kutils/i8kmon.conf -- You do not need to create a configuration file anywhere else.\n\nNote: Within i8k, the left value appears to control the right fan (GPU) while the right value appears to control the left fan (CPU) for the M2010.\n\n"
    },
    {
      "title": "Keyboard",
      "level": 3,
      "content": "The M2010 Bluetooth keyboard/touchpad works out of the box.\n\n"
    },
    {
      "title": "Graphics",
      "level": 3,
      "content": "The ATI Mobility Radeon X1800 works with 3D acceleration using the radeon module.\n\nInstall xf86-video-ati.\n\n"
    },
    {
      "title": "Network",
      "level": 3,
      "content": "Ethernet (Broadcom Corporation NetXtreme BCM5753 Gigabit Ethernet PCI Express) works out of the box with module tg3.\n\nWireless (Intel Corporation PRO/Wireless 4965 AG or AGN) works out of the box with module iwl4965.\n\n"
    },
    {
      "title": "Webcam",
      "level": 3,
      "content": "The webcam does not work out of the box (picture is garbled). [3] suggests that it is possible to get it to work; further testing is needed to get it up and running on more modern configurations.\n\n"
    },
    {
      "title": "Hardware (Untested)",
      "level": 2,
      "content": "The following devices/functions were not tested:\n\n- Other Bluetooth devices\n- Card reader\n- Fan control (i8k)\n- Internal modem\n\n"
    }
  ]
}