{
  "title": "Perf",
  "url": "https://wiki.archlinux.org/title/Perf",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Due to performance regressions, unoptimized new features or simply unknown factors affecting performance, it may be necessary to profile an application. According to Wikipedia:\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install perf.\n\n"
    },
    {
      "title": "Getting debug symbols",
      "level": 3,
      "content": "In order to get interpretable results, debugging symbols for the application you are debugging are mandatory. See Debugging/Getting traces#Manually getting debug info. perf does not support debuginfod yet and thus the debugging symbols must be obtained manually.\n\nShould the application be profiled or otherwise debugged without debugging symbols, there will only be pointers instead of actual function names, which are quite useless.\n\n"
    },
    {
      "title": "Usage",
      "level": 2,
      "content": "Just as with gdb, the application will be run within perf.\n\n```\n$ perf record -g -- command\n```\n\nThis will record the data to perf.data. After the program is finished, display the results with:\n\n```\n$ perf report --stdio\n```\n\nFor a prettier display, consider using cargo-flamegraph.\n\nIf reporting a bug to upstream, submit the perf.data file.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- https://perf.wiki.kernel.org\n- https://www.brendangregg.com/perf.html\n- Performance\n\n"
    }
  ]
}