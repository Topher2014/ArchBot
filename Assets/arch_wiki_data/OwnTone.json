{
  "title": "OwnTone",
  "url": "https://wiki.archlinux.org/title/OwnTone",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "OwnTone is a free and open-source DAAP (iTunes) and MPD media server with support for AirPlay 1 and 2 speakers (multiroom), Apple Remote (and compatibles), Chromecast, Spotify and internet radio.\n\nOwnTone sends stream to multiple devices, but there are no multiple streams, because there are no multiple users or sessions.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install owntone-serverAUR.\n\nStart/enable the owntone.service systemd unit.\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "See the official documentation for detailed configuration options.\n\nThe configuration file is /etc/owntone.conf.\n\n"
    },
    {
      "title": "Running as the owntone user",
      "level": 3,
      "content": "The default user in owntone.conf is owntone. However, this user is not set in the service file. Edit owntone.service and set the user:\n\n```\n/etc/systemd/system/owntone.service.d/override.conf\n```\n\n```\n[Service]\nUser = owntone\n```\n\nIf the service was started without the above changes, the user directory will be owned by root. Change the owner of the directory if needed with:\n\n```\n# chown owntone:owntone /var/lib/owntone\n```\n\nOnce this is fixed, pipewire will be able to create its configuration files.\n\n"
    },
    {
      "title": "Example Firewall Configuration",
      "level": 3,
      "content": "Create application profile\n\n```\n/etc/ufw/applications.d/owntone\n```\n\n```\n[owntone]\ntitle=owntone\ndescription=owntone media server\nports=3688,3689,6600/tcp\n```\n\nImplied Environment for the following instructions:\n\n- IPv4 LAN is 10.0.1.0/24 (change to match yours)\n- IPv6 LAN is fd04:1bb:ab65:4c80::/64 (change to match yours)\n- Apple Home Security is set to \"Anyone On the Same Network\"\n\nApply the following instructions with changes to match your environment.\n\n```\nufw allow from 10.0.1.0/24 to any app owntone comment 'owntone IPv4'\nufw allow from fd04:1bb:ab65:4c80::/64 to any app owntone comment 'owntone IPv6'\n```\n\nListening UDP ports are dynamic, so allow LAN UDP traffic on all ports:\n\n```\nufw allow from 10.0.1.0/24 to any proto udp comment 'multicast IPv4'\nufw allow from fd04:1bb:ab65:4c80::/64 to any proto udp comment 'multicast IPv6'\n```\n\nBonjour application profile might need to be added. The following may need to be added:\n\n```\nufw allow from 10.0.1.0/24 to 224.0.0.251 comment 'mDNS multicasts'\n```\n\n"
    }
  ]
}