{
  "title": "Weston",
  "url": "https://wiki.archlinux.org/title/Weston",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Weston is a Wayland compositor designed for correctness, reliability, predictability, and performance.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install the weston package.\n\n"
    },
    {
      "title": "Usage",
      "level": 2,
      "content": "To launch Weston natively (from a TTY) or to run Weston inside a running X session:\n\n```\n$ weston\n```\n\nSee weston(1) for details and configuration flags.\n\n"
    },
    {
      "title": "Demo applications",
      "level": 3,
      "content": "Then within Weston, you can run the demos. To launch a terminal emulator:\n\n```\n$ weston-terminal\n```\n\nTo move flowers around the screen:\n\n```\n$ weston-flower\n```\n\nTo display images:\n\n```\n$ weston-image image1.jpg image2.jpg...\n```\n\n"
    },
    {
      "title": "Shortcuts",
      "level": 3,
      "content": "Table content:\nCommand | Action\nCtrl+Alt+Backspace | Quit Weston\nSuper+Scroll (or PageUp/PageDown) | Zoom in/out of desktop\nSuper+Tab | Switch windows\nSuper+LMB | Move Window\nSuper+MMB | Rotate Window\nSuper+RMB | Resize Window\nSuper+Alt+Scroll | Change window opacity\nSuper+k | Force Kill Active Window\nSuper+Up/Down | Switch Prev/Next Workspace\nSuper+Shift+Up/Down | Grab Current Window and Switch Workspace\nSuper+Fn | Switch to Workspace n (e.g. F2)\nSuper+s | Take a screenshot\nSuper+r | Record a screencast\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "Following is an example configuration file. See weston.ini(5) for more.\n\n```\n~/.config/weston.ini\n```\n\n```\n[core]\n# xwayland support\nxwayland=true\n\n[libinput]\nenable-tap=true\n\n[shell]\n#background-image=/usr/share/backgrounds/gnome/Aqua.jpg\nbackground-type=scale-crop\nbackground-color=0xff000000\n#background-color=0xff002244\n#panel-color=0x90ff0000\npanel-color=0x00ffffff\npanel-position=bottom\n#clock-format=none\n#animation=zoom\n#startup-animation=none\nclose-animation=none\nfocus-animation=dim-layer\n#binding-modifier=ctrl\nnum-workspaces=6\nlocking=false\ncursor-theme=Adwaita\ncursor-size=24\n\n# tablet options\n#lockscreen-icon=/usr/share/icons/gnome/256x256/actions/lock.png\n#lockscreen=/usr/share/backgrounds/gnome/Garden.jpg\n#homescreen=/usr/share/backgrounds/gnome/Blinds.jpg\n#animation=fade\n\n# for Laptop displays\n[output]\nname=LVDS1\nmode=preferred\n#mode=1680x1050\n#transform=rotate-90\n\n#[output]\n#name=VGA1\n# The following sets the mode with a modeline, you can get modelines for your preffered resolutions using the cvt utility\n#mode=173.00 1920 2048 2248 2576 1080 1083 1088 1120 -hsync +vsync\n#transform=flipped\n\n#[output]\n#name=X1\n#mode=1024x768\n#transform=flipped-rotate-270\n\n# on screen keyboard input method\n#[input-method]\n#path=/usr/lib/weston/weston-keyboard\n\n[keyboard]\nkeymap_rules=evdev\n#keymap_layout=us,de\n#keymap_variant=colemak,\n#keymap_options=grp:shifts_toggle\n#keymap_options=caps:ctrl_modifier,shift:both_capslock_cancel\nrepeat-rate=30\nrepeat-delay=300\n\n# keymap_options from /usr/share/X11/xkb/rules/base.lst\n#numlock-on=true\n\n[terminal]\nfont=monospace\nfont-size=18\n\n[launcher]\nicon=/usr/share/weston/icon_flower.png\npath=/usr/bin/weston-flower\n\n[launcher]\nicon=/usr/share/icons/gnome/32x32/apps/utilities-terminal.png\npath=/usr/bin/weston-terminal --shell=/usr/bin/bash\n\n#[launcher]\n#icon=/usr/share/icons/gnome/32x32/apps/utilities-terminal.png\n#path=/usr/bin/gnome-terminal\n\n[launcher]\nicon=/usr/share/icons/hicolor/32x32/apps/firefox.png\npath=MOZ_ENABLE_WAYLAND=1 /usr/bin/firefox\n\n#[launcher]\n#icon=/usr/share/icons/Adwaita/32x32/apps/multimedia-volume-control.png\n#path=/usr/bin/st alsamixer -c0\n```\n\nMinimal weston.ini:\n\n```\n~/.config/weston.ini\n```\n\n```\n[core]\nxwayland=true\n\n[keyboard]\nkeymap_layout=gb\n\n[output]\nname=LVDS1\nmode=1680x1050\ntransform=rotate-90\n\n[launcher]\nicon=/usr/share/icons/gnome/24x24/apps/utilities-terminal.png\npath=/usr/bin/weston-terminal\n\n[launcher]\nicon=/usr/share/icons/hicolor/24x24/apps/firefox.png\npath=/usr/bin/firefox\n```\n\n"
    },
    {
      "title": "Monitors",
      "level": 3,
      "content": "Weston's outputs differ slightly from those of xorg.conf Monitors:\n\n```\n$ ls /sys/class/drm\n```\n\n```\ncard0\ncard0-VGA-1\ncard1\ncard1-DVI-I-1\ncard1-HDMI-A-1\ncard1-VGA-2\n```\n\ncard0 is the unused built-in video adapter. The add-on adapter card1 is cabled to one HDMI and one DVI monitor, so the output names are HDMI-A-1 and DVI-I-1.\n\n"
    },
    {
      "title": "Xwayland",
      "level": 3,
      "content": "See Wayland#Xwayland for details and an overview of available packages.\n\nSet the following to activate the use of Xwayland:\n\n```\n~/.config/weston.ini\n```\n\n```\n[core]\nxwayland=true\n```\n\n"
    },
    {
      "title": "High DPI displays",
      "level": 3,
      "content": "For Retina or HiDPI displays, use:\n\n```\n~/.config/weston.ini\n```\n\n```\n[output]\nname=...\nscale=2\n```\n\n"
    },
    {
      "title": "Shell font",
      "level": 3,
      "content": "Weston uses the default sans-serif font for window title bars, clocks, etc. See Font configuration#Set default or fallback fonts for instructions on how to change this font.\n\n"
    },
    {
      "title": "Screencast recording",
      "level": 3,
      "content": "Weston has built-in screencast recording which can be started and stopped by pressing the Super+r key combination. Screencasts are saved to the file capture.wcap in the current working directory of Weston. The WCAP format is a lossless video format specific to Weston, which only records the difference in frames. To be able to play the recorded screencast, the WCAP file will need to be converted to a format which a media player can understand. First, convert the capture to the YUV pixel format:\n\n```\n$ wcap-decode --yuv4mpeg2 capture.wcap > capture.y4m\n```\n\nThe YUV file can then be transcoded to other formats using FFmpeg or x264 (see x264 -h for more).\n\n"
    },
    {
      "title": "Window switching",
      "level": 3,
      "content": "To switch windows with Super+Space instead of Super+Tab change KEY_TAB to KEY_SPACE in desktop-shell/shell.c and recompile weston.\n\n"
    },
    {
      "title": "Touch display mapping",
      "level": 3,
      "content": "Touch display mapping can be achieved through the use of udev rules. Just like the WL_SEAT or ID_SEAT device environment variable binds the device to a specified seat, the WL_OUTPUT variable may be used to bind the device to the appropriate output. This variable should match a monitor name. See #Monitors for an explanation of the monitor naming convention.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Official Weston Gitlab Repo\n\n"
    }
  ]
}