{
  "title": "Lenovo IdeaPad U330p",
  "url": "https://wiki.archlinux.org/title/Lenovo_IdeaPad_U330p",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\n"
    },
    {
      "title": "Overview",
      "level": 2,
      "content": "This subnotebook exists in two configurations (see below)\n\nThere are no major issues with the first one. Everything works. There is a Wi-Fi issue with the second one, but it is repairable.\n\nThis page contains just some comments that may be useful during installation or troubleshooting.\n\n"
    },
    {
      "title": "Hardware",
      "level": 2,
      "content": "The unit used for testing contained the following hardware:\n\n- Intel Core i5-4200U Processor\n\n- Intel HD Graphics 4400\n\n- Atheros AR9462 Wireless Network Adapter or Intel 7260\n\n- A thin Seagate 500GB hybrid drive (i.e. 500GB HDD + 8GB SSD) or 256GB SSD\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "The best way to ensure that Arch Linux is correctly installed is to follow the Installation guide step by step.\n\nIn the second configuration your Wi-Fi will not work out of the box (connection will drop repeatedly). There is a work-around: unload iwlmvm and iwlwifi kernel modules (iwlwifi needs iwlmvm)\n\n```\n# modprobe -r iwlmvm iwlwifi\n```\n\nand load iwlwifi without 11n support. For the parameter list see\n\n```\n# modinfo -p iwlwifi\n```\n\nto load use\n\n```\n# modprobe iwlwifi 11n_disable=1\n```\n\niwlmvm will then load automatically, if you load iwlmvm before iwlwifi, it will load iwlwifi automatically with default parameters.\n\nCheck with\n\n```\n# systool -v -m iwlwifi\n```\n\nthat 11n_disable is set to 1. Now you have a stable Wi-Fi. To set 11n_disable=1 permanently after the installation see Kernel modules\n\nYou may also have to enable software encryption. The configuration file /etc/modprobe.d/iwlwifi.conf will look like this:\n\n```\n/etc/modprobe.d/iwlwifi.conf\n```\n\n```\noptions iwlwifi 11n_disable=1\noptions iwlwifi swcrypto=1\n```\n\n"
    },
    {
      "title": "BIOS setup",
      "level": 3,
      "content": "Before booting with the USB stick, enter the BIOS in order to prepare the machine for the new OS. For that purpose, press the small button on the side panel next to the HDMI port. A boot menu will appear. Select \"BIOS Setup\", and then:\n\n- In the \"Security\" menu, disable \"Secure Boot\" (although Arch Linux can be configured to work with secure boot, this will probably spare you a few issues during installation).\n- In the \"Boot\" menu, leave \"Boot Mode\" set to \"UEFI\", and \"USB Boot\" enabled.\n- In the \"Exit\" menu, set \"OS Optimized Defaults\" to \"Other OS\". Exit by saving changes.\n\n"
    },
    {
      "title": "Sound card",
      "level": 3,
      "content": "Set the default sound card by creating an alsa-base.conf file in /etc/modprobe.d/:\n\n```\n/etc/modprobe.d/alsa-base.conf\n```\n\n```\noptions snd_hda_intel index=1\n```\n\nand then reboot.\n\nInstall alsa-utils and run alsamixer to unmute the channels, as described here.\n\n"
    },
    {
      "title": "Video driver",
      "level": 3,
      "content": "Use xf86-video-intel.\n\n"
    },
    {
      "title": "Touchpad",
      "level": 3,
      "content": "Install xf86-input-synaptics.\n\nThis will make sure that the touchpad works correctly and will also provide two-finger scrolling.\n\n"
    },
    {
      "title": "Use of headphones",
      "level": 3,
      "content": "If you use headphones often and you shutdown the machine with the headphones plugged in, it may happen that in the next reboots the sound is directed to the headphones by default, even when the headphones are not plugged in.\n\nTo fix this issue:\n\n- Plug the headphones in and out. The sound should now be directed to the speakers.\n\n- Install and run pavucontrol once (you do not have to do anything, just open it, browse through the different tabs, and close it).\n\n- Reboot the machine (ensuring that the headphones are not plugged in). The sound should now be directed back to the speakers by default.\n\n"
    },
    {
      "title": "Network connectivity/latency",
      "level": 3,
      "content": "When using NetworkManager, it appears that wireless networking is not as responsive as it could or should be. For example, there is a noticeable lag when trying to acess some websites that should open immediately (e.g. Google, YouTube, etc.)\n\nOn the Web, there are several reports of connectivity/latency problems with this particular hardware (Atheros AR9462). However, some testing with Wicd seems to indicate that the network adapter is working fine.\n\nThere are some things that can be tried to alleviate this problem:\n\n- Disable IPv6 in NetworkManager. Go to Wi-Fi settings and turn off IPv6 for each wireless network that you connect to.\n\n- Create an ath9k.conf file to specify the option nohwcrypt=1:\n\n```\n/etc/modprobe.d/ath9k.conf\n```\n\n```\noptions ath9k nohwcrypt=1\n```\n\nand then reboot.\n\n"
    }
  ]
}