{
  "title": "Dropbear",
  "url": "https://wiki.archlinux.org/title/Dropbear",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Dropbear is lightweight SSH server that is commonly run on routers and other low memory devices. It is also often configured to run during the boot process.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install the dropbear package.\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "Dropbear server does not have any configuration file. It is configured with command line options.\n\nEnable/start dropbear.service.\n\n"
    },
    {
      "title": "Disable password and root logins",
      "level": 3,
      "content": "Edit the dropbear.service. This creates a new drop-in file. Adding content to it will override corresponding sections in main configuration.\n\nOverride the command to start Dropbear:\n\n```\n[Service]\nExecStart=\nExecStart=/usr/bin/dropbear -F -P /run/dropbear.pid -R -w -s\n```\n\n-R\n\n-F\n\n-w\n\n-s\n\n"
    },
    {
      "title": "Set SSH key from GitLab",
      "level": 3,
      "content": "Change GitLab URL to your own.\n\n```\n$ mkdir -p ~/.ssh -m 0700\n$ curl -sSLf https://gitlab.com/example.keys >> ~/.ssh/authorized_keys\n```\n\n"
    },
    {
      "title": "Dropbear in Docker container",
      "level": 2,
      "content": "Note: **This article or section is being considered for removal.** This article or section is being considered for removal.\n\nThis article or section is being considered for removal.\n\nsystemctl does not work in `archlinux` Docker container.\n\n```\n# systemctl start dropbear\n```\n\n```\nSystem has not been booted with systemd as init system (PID 1). Can't operate.\nFailed to connect to bus: Host is down\n```\n\nYou need to start Dropbear manually.\n\n```\n# /usr/bin/dropbear -F -P /run/dropbear.pid -R -w -s\n```\n\n"
    }
  ]
}