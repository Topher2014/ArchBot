{
  "title": "Laptop/Apple",
  "url": "https://wiki.archlinux.org/title/Laptop/Apple",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- Mac\n\nFrom Wikipedia:\n\n"
    },
    {
      "title": "Model list",
      "level": 2,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nTable content:\nModel version | Date | Video | Sound | Ethernet | Wireless | Bluetooth | Power management | Other | Remarks\nMacBookPro3,1 Mid 2007 | 2007-08 | Yes | Yes | Yes | Yes | Yes | Yes |  | \n#MacBook2,1 Mid 2007 | 2009-08 | Yes | Yes | Yes | Yes | Yes | Yes | iSight does not work | \nMacBookPro5,2 2009 | 2009-08 | Yes | Yes | Yes | Yes | Untested | Yes |  | Might need snd_hda_intel model=mb5\nMacBookPro5 Mid 2009 | 2016-08-01 | Yes | Yes | Yes | Yes | Yes | Untested | iSight does not work | Switching to TTY does not work with nvidia, works with Nouveau.\n#MacBookPro6,2 Mid 2010 | 2025-02-16 | Yes | Yes | Yes | Yes | Yes | Yes |  | \n#MacBookPro7,1 Mid 2010 | 2021-11-04 | Yes | Yes | Yes | Yes | Yes | Yes |  | \nMacBookPro8,1 Early 2011 | 2025-02-16 | Yes | Yes | Yes | Yes | Yes | Yes |  | broadcom-wl required for full speed Wi-Fi.\nMacBookAir4,2 Mid 2011 | 2023-04-28 | Yes | Yes | Yes | Yes | Yes | Untested |  | broadcom-wl required for full speed Wi-Fi.\nMacBookAir5,2 Mid 2012 | 2024-11-16 | Yes | Yes | Yes | Yes | Yes | Untested |  | broadcom-wl required for full speed Wi-Fi.\nMacBookPro9,x | 2018-03-01 | Yes | Yes | Yes | Yes | Yes | Yes |  | \nMacBookAir6 2013 | 2014-10-01 | Yes | Yes | Yes | Yes | Yes | Yes | iSight does not work | \nMacBookAir 7,2 Early 2015 | 2021-11-01 | Yes | Yes | External | Yes | Yes | Yes |  | Guide: https://github.com/AdhamNasr/Apple_mba-Arch-i3\nMacBookPro 12,1 2015 | 2025-04-03 | Yes | Yes | Untested | Yes | Yes | Yes |  | Needs brcmfmac.feature_disable=0x82000 as a kernel parameter for Wi-Fi to work. Broadcom BCM43602 works with the brcm80211/brcmfmac driver included in the kernel by default.\nMacBookPro16,1 2019 | 2023-01-21 | Yes | Partial | External | Yes | Yes | No |  | Must use t2linux provided kernel\n\n"
    },
    {
      "title": "Boot loader",
      "level": 4,
      "content": "See UEFI#UEFI firmware bitness: this machine runs a 32-bit EFI. This means you should make sure the boot loader you choose supports mixed mode booting (i.e. a 64-bit OS on a 32-bit UEFI). For GRUB, use i386-efi as the target.\n\n"
    },
    {
      "title": "Rebooting",
      "level": 4,
      "content": "The MacBook will not reboot properly by default. It needs the reboot=pci kernel parameter.\n\n"
    },
    {
      "title": "Microphone",
      "level": 4,
      "content": "Note: **This article or section is a candidate for merging with PulseAudio/Troubleshooting.** This article or section is a candidate for merging with PulseAudio/Troubleshooting.\n\nThis article or section is a candidate for merging with PulseAudio/Troubleshooting.\n\nIf your microphone is not working, you have probably run into a driver bug which makes PulseAudio think the digital microphone is always plugged in, disabling the normal microphone.\n\nTo work around it, disable the PulseAudio plug detector with this patch:\n\n```\n--- a/usr/share/pulseaudio/alsa-mixer/paths/analog-input-mic.conf\n+++ b/usr/share/pulseaudio/alsa-mixer/paths/analog-input-mic.conf\n@@ -23,6 +23,8 @@\n\n [Jack Mic]\n required-any = any\n+state.plugged = unknown\n+state.unplugged = unknown\n\n [Jack Mic Phantom]\n required-any = any\n@@ -31,6 +33,8 @@\n\n [Jack Mic - Input]\n required-any = any\n+state.plugged = unknown\n+state.unplugged = unknown\n\n [Element Capture]\n switch = mute\n```\n\n"
    },
    {
      "title": "MacBookAir1,1 Early 2008",
      "level": 3,
      "content": "Since this model has only one USB port, you may find it easiest to install Arch with a powered USB hub. Plug a USB network adapter (wireless or ethernet adapter to plug into a USB port) and your Arch installation media into the USB hub.\n\nSee Mac/Troubleshooting#Wi-Fi. If you cannot get any result by scanning wireless network after boot, unload modules b43 and ssb and load them again:\n\n```\n# rmmod ssb\n# rmmod b43\n# modprobe b43\n```\n\nThere is a good chance you will find what's wrong with DMA from the dmesg log.\n\nEven if you can scan wireless networks after reloading the modules, it is still possible that you will only be able to connect to some networks, but not all of them. According to a more detailed discussion here: https://crunchbang.org/forums/viewtopic.php?id=17368, adding pio=1,qos=0 options to the b43 module can solve this problem.\n\n"
    },
    {
      "title": "MacBookAir2,1 Mid 2009",
      "level": 3,
      "content": "See Mac/Troubleshooting#Wi-Fi. Append options b43 pio=1 qos=0 to /etc/modprobe.d/b43.conf.\n\n"
    },
    {
      "title": "MacBookPro6,2 Mid 2010",
      "level": 3,
      "content": "Heat issues solved with mbpfan-gitAUR.\n\nOn this model only the nouveau driver can be installed when booting in UEFI mode, nvidia-340xx-dkmsAUR causes a black blank screen when Xorg loads.\n\n"
    },
    {
      "title": "MacBookPro7,1 Mid 2010",
      "level": 3,
      "content": "Booting the installation media, you might encounter the following error:\n\n```\nunable to handle kernel NULL pointer dereference at 0000000000000010\" during pacpi_set_dmamode.\n```\n\nTo fix this problem, boot with the option: acpi=off. After chrooting, add MODULES=(ata_generic) to /etc/mkinitcpio.conf and regenerate the initramfs, see Installation guide#Configure the system.\n\n"
    },
    {
      "title": "MacBookAir5,1 Mid 2012",
      "level": 3,
      "content": "If you have issues with waking from sleep while in X11 such as a black screen or showing the console with a frozen mouse cursor then remove xf86-input-synaptics and install xf86-input-mtrack-gitAUR. This fixed errors such as\n\n```\n(EE) [dix] bcm5974: unable to find touch point 0\n```\n\nand backtraces that causes X11 to crash. This might apply to Version 5,2 assuming they use the same trackpad.\n\n"
    },
    {
      "title": "MacBookAir6,1 Early 2014",
      "level": 3,
      "content": "Unless you have a local repository on a USB disk, you need a USB to Ethernet adapter or a USB wireless adapter supported natively by the kernel to easily install Arch Linux, since you have to install the broadcom-wl-dkms package to make the internal wireless card work.\n\nrEFInd uses 30 seconds to start booting, following Mac/Troubleshooting#Avoid long EFI wait before booting stops rEFInd from loading and it has to be re-installed.\n\n"
    },
    {
      "title": "Wireless",
      "level": 4,
      "content": "The brcmfmac driver is working as of 2015-11-20, with newer firmware necessary for working 5GHz support (see here.)\n\nNote: Then check whether PCI runtime power management is enabled on the device, and disable it if so.\n\n```\nbrcmfmac: brcmf_chip_recognition: chip backplane type 15 is not supported\nbrcmfmac: brcmf_pcie_probe: failed 14e4:43ba\n```\n\nThen check whether PCI runtime power management is enabled on the device, and disable it if so.\n\n"
    },
    {
      "title": "Keyboard and trackpad",
      "level": 4,
      "content": "Haptic feedback works out of the box due to the trackpad's built-in firmware.\n\nThere are several drivers available that provide multitouch support. The following have been confirmed working with the MacBookPro12,1.\n\nFor xf86-input-libinput the following configuration emulates some features from the macOS functionality. For more options see libinput(4).\n\n```\n/etc/X11/xorg.conf.d/90-libinput.conf\n```\n\n```\nSection \"InputClass\"\n    Identifier \"libinput touchpad catchall\"\n    MatchIsTouchpad \"on\"\n    MatchDevicePath \"/dev/input/event*\"\n    Driver \"libinput\"\n    Option \"NaturalScrolling\" \"true\"\nEndSection\n```\n\nFor xf86-input-synaptics the following configuration is necessary to make the touchpad work fully.\n\n```\n/etc/X11/xorg.conf.d/60-magictrackpad.conf\n```\n\n```\nSection \"InputClass\"\n    Identifier \"Trackpad\"\n    Driver \"synaptics\"\n    MatchIsTouchpad \"on\"\n    MatchDevicePath \"/dev/input/event*\"\nEndSection\n```\n\n"
    },
    {
      "title": "Graphics",
      "level": 4,
      "content": "See MacBookPro11,x#Graphics to enable the integrated graphics. See PRIME for details on handling hybrid graphics.\n\nIf you are experiencing flickering issues with Xorg, you can set i915.enable_rc6=0 as a kernel parameter, which will disable the power savings for the Intel graphics.\n\n"
    },
    {
      "title": "MacBook9,1 Early 2016",
      "level": 3,
      "content": "- Booting from USB via EFI works fine, when giving the intremap=nosid kernel option. Remember to hold Alt on booting to enter the boot menu. In order to allow Linux boot directly from your system disk, you will first need to install rEFInd from the OSX recovery mode (hold Cmd+r during boot, then open terminal, run the refind-install script).\n- The wireless card works out of the box with brcmfmac.\n- Suspend / hibernate does not work. The problem seems to be the NVMe that does not wake up. A potential solution to this has been offered, at https://bbs.archlinux.org/viewtopic.php?pid=2176149#p2176149. When booting from an external drive, suspend / hibernate works out of the box.\n- Audio recording works out of the box. Audio playback works out of the box for headphones, not for built-in speakers. Cirrus driver patch needed for making the speakers work: https://github.com/leifliddy/macbook12-audio-driver\n- The keyboard and the touchpad do not work out of the box. There is a work-in-progress driver available that works well: macbook12-spi-driver-dkmsAUR. Sometimes the touchpad does not work after booting but this can be fixed by reloading the driver with rmmod applespi && modprobe applespi.\n- The keyboard backlight does not work (no solution yet).\n- For Bluetooth driver, see macbook12-bluetooth-driverAUR\n\n"
    },
    {
      "title": "All Intel MacBooks since 2018",
      "level": 3,
      "content": "Internal keyboard, trackpad, Touch Bar (if your model has one), Wi-fi, and Bluetooth will not work unless you have necessary kernel modules and firmwares. You should follow the guide on https://wiki.t2linux.org/distributions/arch/installation/ for hardware support.\n\n"
    },
    {
      "title": "iMac 2020",
      "level": 3,
      "content": "It seems the amdgpu driver has problems to set the native 5k resolution. If the display gets corrupted during boot when the amdgpu driver module is loaded, try forcing a lower resolution. Add e.g. video=2560x1440@60 to your kernel parameters.\n\n"
    }
  ]
}