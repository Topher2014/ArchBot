{
  "title": "Setting up a CVS server with pserver authentication",
  "url": "https://wiki.archlinux.org/title/Setting_up_a_CVS_server_with_pserver_authentication",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "From https://www.nongnu.org/cvs/:\n\nMore recent alternatives are listed in Category:Version control system.\n\n"
    },
    {
      "title": "Client",
      "level": 2,
      "content": "If you want to connect to a cvs server, install cvs and follow instructions from the owners of that server. For example https://www.openbsd.org/anoncvs.html.\n\n"
    },
    {
      "title": "Graphical front-ends",
      "level": 3,
      "content": "- Cervisia â€” GUI for CVS. Part of kde-sdk.\n\n"
    },
    {
      "title": "Server",
      "level": 2,
      "content": "Note: **This article or section is out of date.** This article or section is out of date.\n\nThis article or section is out of date.\n\nThis is a quick guide on how to set up the latest CVS server.\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install cvs and xinetdAUR.\n\nCreate the cvs user group - members of this group will have write access to the repository:\n\n```\n# groupadd cvs\n```\n\nCreate the cvs user in the cvs group (-md makes the home directory):\n\n```\n# useradd -md /home/cvsroot -g cvs -p Insecure0 cvs\n```\n\n"
    },
    {
      "title": "Initialization",
      "level": 3,
      "content": "Initialize your CVS repository (as cvs):\n\n```\ncvs% cvs -d /home/cvsroot init\n```\n\nThe permissions on the directory (not the files inside, however) should be 2775 (drwxrwxr-x), but if not, run (as cvs):\n\n```\ncvs% chmod 2775 /home/cvsroot\n```\n\nAdd any users that you want to have local access to the repository to the group cvs by using the following two steps. You can add pre-existing users to the cvs group with the command:\n\n```\n# gpasswd -a username cvs\n```\n\nMake a xinetd configuration file:\n\n```\n/etc/xinetd.d/cvspserver\n```\n\n```\nservice cvspserver\n{\n        port            = 2401\n        socket_type     = stream\n        protocol        = tcp\n        wait            = no\n        user            = root\n        passenv         = /home/cvsroot\n        server          = /usr/bin/cvs\n        server_args     = -f --allow-root=/home/cvsroot pserver\n}\n```\n\nEnsure you have the following line in /etc/services (add it if not):\n\n```\ncvspserver 2401/tcp\n```\n\nUnset the HOME variable\n\n```\n# unset HOME\n```\n\nAnd restart xinetd.service.\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "As the cvs user, create a passwd file in ~/CVSROOT. To add entries in the file you can use htpasswd commands (present in the apache package) as follows:\n\n```\nhtpasswd -b filename username password\n```\n\nthen edit the file and add the group, for example:\n\n```\n# Format is username:password:group\n\nanonymous::\narchie:HopefullySecure0:cvs\nother:Insecure0:cvs\n```\n\nNow create a writers file in ~/CVSROOT, which grants write privileges to the users you created in passwd:\n\n```\narchie\nother\n```\n\nNow create a readers file in ~/CVSROOT, which grants read privileges to the users you created in passwd:\n\n```\nanonymous\n```\n\n"
    },
    {
      "title": "Usage",
      "level": 3,
      "content": "You can test out the server using the following commands:\n\n```\n$ export CVSROOT=:pserver:my_user_name@127.0.0.1:/home/cvsroot\n$ cvs login\n$ mkdir ~/sandbox\n$ mkdir ~/sandbox/myproject\n$ cd ~/sandbox/myproject\n$ echo \"this is a sample file\" > myfile\n$ cvs import -m \"description of myproject\" myproject v1 r1\n$ cd ..\n$ rm -R myproject\n$ cvs checkout myproject\n$ cd myproject\n$ echo \"some changes to the file\" >> myfile\n$ cvs commit -m \"Explain changes here\" myfile\n```\n\n"
    }
  ]
}