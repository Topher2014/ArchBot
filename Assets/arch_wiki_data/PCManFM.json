{
  "title": "PCManFM",
  "url": "https://wiki.archlinux.org/title/PCManFM",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- LXDE\n- Openbox\n- File manager functionality\n- SpaceFM\n- Thunar\n- GNOME Files\n- Nemo\n\nPCManFM is an extremely fast and lightweight file manager and the standard file manager of LXDE. It uses GTK for its UI and GVFS (within GNOME's GIO library) to provide virtual filesystem functionality such as trashing files and mounting remote filesystems.\n\nPCManFM-Qt is a port to Qt which is the standard file manager of LXQt. Despite using Qt as the UI toolkit, PCManFM-Qt retains GVFS rather than using KDE's KIO [1]. At their cores, both file managers are desktop-environment-agnostic.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install one of the following the packages:\n\n- GTK 2: pcmanfm\n- GTK 3: pcmanfm-gtk3\n- Qt6: pcmanfm-qt\n\nOptionally also install gvfs for support for trash, mounting volumes with udisks and remote filesystems and gvfs-smb for SMB/CIFS support.\n\n"
    },
    {
      "title": "Development versions",
      "level": 3,
      "content": "Development versions are available from the AUR:\n\n- GTK 2: pcmanfm-gitAUR\n- Qt6: pcmanfm-qt-gitAUR\n\n"
    },
    {
      "title": "Desktop management",
      "level": 2,
      "content": "PCManFM can manage the desktop, including setting a background wallpaper and showing desktop icons. To launch the desktop manager, run:\n\n```\n$ pcmanfm --desktop\n```\n\nThe native desktop menu of the window manager will be replaced with that provided by PCManFM. The native menu can be restored from the PCManFM menu by selecting Desktop Preferences and then enabling the Show menus provided by window managers when desktop is clicked option in the Advanced tab.\n\n"
    },
    {
      "title": "Desktop preferences",
      "level": 3,
      "content": "If using the native desktop menu provided by a window manager, enter the following command to set or amend desktop preferences at any time:\n\n```\n$ pcmanfm --desktop-pref\n```\n\nConsider adding this command to a keybind and/or the native desktop menu for easy access.\n\n"
    },
    {
      "title": "Creating new icons",
      "level": 3,
      "content": "Files can be dragged and dropped directly onto the desktop. To create shortcuts for applications, copy their .desktop files to the ~/Desktop directory. Do not drag and drop the files there as they will be moved completely. The command is:\n\n```\n$ cp /usr/share/applications/name-of-application.desktop ~/Desktop\n```\n\nFor example to create a desktop shortcut for lxterminal:\n\n```\n$ cp /usr/share/applications/lxterminal.desktop ~/Desktop\n```\n\nFor those who used the XDG user directories program to create their $HOME directories, no further configuration will be required.\n\n"
    },
    {
      "title": "Daemon mode",
      "level": 2,
      "content": "To run PCManFM as a background daemon (i.e. to automatically mount removable media), use:\n\n```\n$ pcmanfm --daemon-mode\n```\n\nOnly one instance of PCManFM may run as a daemon at atime.\n\nShould automount fail, see udisks.\n\n"
    },
    {
      "title": "Autostarting",
      "level": 2,
      "content": "PCManFM may be autostarted as a daemon process or to manage the desktop.\n\n"
    },
    {
      "title": "Additional features and functionality",
      "level": 2,
      "content": "Less experienced users should be aware that a file manager alone — especially when installed in a standalone window manager such as Openbox — will not provide the features and functionality users of full desktop environments such as Xfce and KDE will be accustomed to. Review the file manager functionality article for further information.\n\n"
    },
    {
      "title": "Get thumbnails for other file types",
      "level": 3,
      "content": "See File manager functionality#Use PCManFM to get thumbnails for other file types.\n\n"
    },
    {
      "title": "Set the terminal emulator",
      "level": 3,
      "content": "You can configure what terminal emulator PCManFM should use for Tools > Open Current Folder in Terminal under Edit > Preferences > Advanced.\n\n"
    },
    {
      "title": "Integrate an archiver",
      "level": 3,
      "content": "It is possible to choose the integrated archiver under Edit > Preferences > Advanced. PCManFM and PCManFM-Qt both support file-roller, xarchiver (or xarchiver-gtk2), engrampa and ark [2] [3]. PCManFM-Qt additionally supports lxqt-archiver, which is the default choice for LXQt.\n\n"
    },
    {
      "title": "Adding custom items to the context menu",
      "level": 3,
      "content": "PCManFM supports Desktop file specification extension (DES-EMA) which allows you to add arbitrary items to the context menu of files and directories. To add your own items, create ~/.local/share/file-manager/actions/ (if it does not already exist) and add .desktop files inside:\n\n```\n~/.local/share/file-manager/actions/action.desktop\n```\n\n```\n[Desktop Entry]\nType=Action\nProfiles=profile_id\nName=Action name in English\nName[cc]=Action name in Language\nIcon=Icon name\n# Example: Icon=text-editor\n \n[X-Action-Profile profile_id]\nMimeTypes=MIME-types (semicolon separated)\nExec=command and arguments\n# Example: Exec=gedit %f\n```\n\nYou can bind one or more profiles to a single action by listing their id separated by semicolons. Profiles allow you to specify which commands to execute for which file types — thus the same action can run different commands depending on the type of file selected. Besides specific MIME types (e.g. text/plain for text files), you can use the following general types:\n\n- all/allfiles - any files;\n- inode/directory - any directories;\n- all/all - any files and directories.\n\n"
    },
    {
      "title": "Templates are accessible under Create New...",
      "level": 3,
      "content": "PCManFM adds the files in ~/Templates as Create New... context menu items on startup.\n\n"
    },
    {
      "title": "Thumbnails",
      "level": 3,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nLike some other file managers (e.g. Nautilus), PCManFM will load previews of all images in a folder. To not abuse the HDD, keep the number of images in a folder to a hundred.\n\n"
    },
    {
      "title": "\"Open With\" dialog window empty",
      "level": 3,
      "content": "If you do not see any applications to choose from in the open with dialog, then you can try removing gnome-menus and instead install lxmenu-data. Furthermore, set the following environment variables:\n\n- XDG_MENU_PREFIX=lxde-\n- XDG_CURRENT_DESKTOP=LXDE\n\n"
    },
    {
      "title": "No \"Applications\"",
      "level": 3,
      "content": "You can try this method: Delete all files in the $HOME/.cache/menus directory, and run PCManFM again.\n\nPCManFM requires the environment variable XDG_MENU_PREFIX to be set. The value of the variable should match the beginning of a file present in the /etc/xdg/menus/ directory. See #\"Open With\" dialog window empty.\n\nSee these threads for more information: [4], and especially this post from the Linux Mint forums: [5]\n\n"
    },
    {
      "title": "No icons",
      "level": 3,
      "content": "Note: **This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.** This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nThis article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nNote: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nNote: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\nIf you are using a window manager instead of a desktop environment and you have no icons for folders and files, specify a GTK icon theme.\n\nIf you have e.g. oxygen-icons installed, edit ~/.gtkrc-2.0 or /etc/gtk-2.0/gtkrc and add the following line:\n\n```\ngtk-icon-theme-name = \"oxygen\"\n```\n\nElse, use an different one (gnome, hicolor, and locolor do not work). To list all installed icon themes:\n\n```\n$ ls ~/.icons/ /usr/share/icons/\n```\n\nIf none of them is suitable, install one. To list all installable icon packages:\n\n```\n$ pacman -Ss icon-theme\n```\n\n"
    },
    {
      "title": "No \"Previous/Next Folder\" functionality with mouse buttons",
      "level": 3,
      "content": "A method to fix this is with Xbindkeys.\n\nInstall xbindkeys, xvkbdAUR and edit ~/.xbindkeysrc to contain the following:\n\n```\n~/.xbindkeysrc\n```\n\n```\n# Sample .xbindkeysrc for a G9x mouse.\n\"/usr/bin/xvkbd -text '\\[Alt_L]\\[Left]'\"\n b:8\n\"/usr/bin/xvkbd -text '\\[Alt_L]\\[Right]'\"\n b:9\n```\n\nActual button codes can be obtained with package xorg-xev.\n\nAdd:\n\n```\nxbindkeys &\n```\n\nto your ~/.xinitrc to execute xbindkeys on log-in.\n\n"
    },
    {
      "title": "--desktop parameter not working or crashing X-server",
      "level": 3,
      "content": "Make sure you have ownership and write permissions on ~/.config/pcmanfm.\n\nSetting the wallpaper either by using the --desktop-pref parameter or editing ~/.config/pcmanfm/default/pcmanfm.config solves the problem.\n\n"
    },
    {
      "title": "Terminal emulator advanced configuration not saved",
      "level": 3,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nMake sure you have the right permissions on the libfm configuration file:\n\n```\n$ chmod -R 750 ~/.config/libfm\n$ chmod 640 ~/.config/libfm/libfm.conf\n```\n\n"
    },
    {
      "title": "Make PCManFM remember your preferred Sort Files settings",
      "level": 3,
      "content": "You can use View > Sort Files to change the order in which PCManFM lists the files, but PCManFM will not remember that the next time you start it. To make it remember, go to Edit > Preferences and close. That will write your current sort_type and sort_by values into ~/.config/pcmanfm/LXDE/pcmanfm.conf.\n\n"
    },
    {
      "title": "\"Not authorized\" error when attempting to mount drive",
      "level": 3,
      "content": "Make this polkit rule in /etc/polkit-1/rules.d/00-mount-internal.rules:\n\nNote: **This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.** This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nThis article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\n```\n/etc/polkit-1/rules.d/00-mount-internal.rules\n```\n\n```\npolkit.addRule(function(action, subject) {\n   if ((action.id == \"org.freedesktop.udisks2.filesystem-mount-system\" &&\n      subject.local && subject.active && subject.isInGroup(\"storage\")))\n      {\n         return polkit.Result.YES;\n      }\n});\n```\n\nAnd add yourself to the storage user group.\n\n"
    },
    {
      "title": "Operation not supported",
      "level": 3,
      "content": "Check first if you forgot to install the optional dependency gvfs, otherwise see the article on Session permissions.\n\n"
    },
    {
      "title": "Passwords are forgotten on system restart",
      "level": 3,
      "content": "Install a keyring application like GNOME/Keyring, KDE Wallet or lxqt_walletAUR for network shares or an SSH agent if appropriate.\n\n"
    }
  ]
}