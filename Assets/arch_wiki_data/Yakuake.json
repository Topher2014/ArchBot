{
  "title": "Yakuake",
  "url": "https://wiki.archlinux.org/title/Yakuake",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- KDE\n\nYakuake is a top-down terminal for KDE in the style of Guake for GNOME, Tilda or the terminal used in Quake.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install the yakuake package.\n\n"
    },
    {
      "title": "Usage",
      "level": 2,
      "content": "Once installed, you can start Yakuake from the terminal with:\n\n```\n$ yakuake\n```\n\nAfter Yakuake has started you can click on configure Yakuake by clicking on the Open Menu button (middle button on the bottom right hand side of the interface) and select Configure Shortcuts to change the hotkey to drop/retract the terminal automatically, by default it is set to F12.\n\n"
    },
    {
      "title": "Background transparency and blur on Plasma",
      "level": 3,
      "content": "While most configuration options can be changed from Yakuake GUI, there are some options only accessible from modifying the configuration file, e.g. the option to use blur background under Plasma.\n\nIn order to apply blur background for Yakuake, edit the following file:\n\n```\n~/.config/yakuakerc\n```\n\n```\n[Appearance]\nBlur=true\nTranslucency=true\n```\n\nThen restart Yakuake to apply the change.\n\n"
    },
    {
      "title": "Yakuake scripting",
      "level": 2,
      "content": "Like Guake, Yakuake allows to control itself at runtime by sending the D-Bus messages. Thus it can be used to start Yakuake in a user defined session. You can create tabs, assign names for them and also ask to run any specific command in any opened tab or just to show/hide Yakuake window, manually in a terminal or by creating a custom script for it.\n\nExample of such a script is given below. This includes opening tabs, renaming tabs, splitting shells, and running commands.\n\n```\n#!/bin/bash\n# Starting Yakuake based on user preferences. Information based on https://forums.gentoo.org/viewtopic-t-873915-start-0.html\n# Adding sessions from previous website is broken, use this: https://koston.pl/blog/sublime-text-3-cheatsheet-modules-web-develpment/\n\n# This line is needed in case Yakuake does not accept fcitx inputs.\n/usr/bin/yakuake --im /usr/bin/fcitx --inputstyle onthespot &\n\n# gives Yakuake a couple seconds before sending dbus commands\nsleep 2      \n                                                 \n# Start htop in tab and split to user terminal and run iotop                                                        \nTERMINAL_ID_0=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.terminalIdsForSessionId 0)\nqdbus org.kde.yakuake /yakuake/tabs setTabTitle 0 \"user\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 0 \"htop\"\nqdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.splitTerminalLeftRight \"$TERMINAL_ID_0\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 1 \"iotop\"\n\n# Start split root sessions (password prompt) top and bottom                                                                                \nSESSION_ID_1=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.addSession)\nTERMINAL_ID_1=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.terminalIdsForSessionId \"$SESSION_ID_1\")\nqdbus org.kde.yakuake /yakuake/tabs setTabTitle 1 \"root\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 2 \"su\"\nqdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.splitTerminalTopBottom \"$TERMINAL_ID_1\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 3 \"su\" \n\n# Start irssi in its own tab.                                                                                          \nqdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.addSession\nqdbus org.kde.yakuake /yakuake/tabs setTabTitle 2 \"irssi\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 4 \"ssh home -t 'tmux attach -t irssi; bash -l'\" \n\n# Start split ssh shells in own tab.                                                                                   \nSESSION_ID_2=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.addSession)\nTERMINAL_ID_2=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.terminalIdsForSessionId \"$SESSION_ID_2\")\nqdbus org.kde.yakuake /yakuake/tabs setTabTitle 3 \"work server\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 5 \"ssh work\"\nqdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.splitTerminalLeftRight \"$TERMINAL_ID_2\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 6 \"ssh work\"\n```\n\n"
    },
    {
      "title": "dbus-send instead of qdbus",
      "level": 3,
      "content": "You can replace qdbus bundled with Qt with more common dbus-send. For example, to show/hide Yakuake:\n\n```\n$ dbus-send --type=method_call --dest=org.kde.yakuake /yakuake/window org.kde.yakuake.toggleWindowState\n```\n\n"
    },
    {
      "title": "Show notification when sudo asks password",
      "level": 3,
      "content": "When you do a long process that requires entering sudo password at the end (for example, when building a package from AUR), you often want to hide yakuake window and do something else. But when you go back to check the status, you see that sudo had exited by timeout.\n\nTo avoid that, you can configure yakuake to send system notifications at bell in inactive session. Inactive session is a session on another tab or on current tab but when yakuake is not in focus.\n\nIn Yakuake's menu (hamburger button) > Configure Notifications. In that window select Bell in Non-Visible Session and enable Show a message in a popup. Additionally you can set a sound (usually /usr/share/sounds/freedesktop/stereo/bell.oga or /usr/share/sounds/Oxygen-Sys-Warning.ogg).\n\nThen you need to configure a sudo prompt to use a bell symbol. See Sudo#Add terminal bell to the password prompt.\n\n"
    },
    {
      "title": "True-color programs do not display correctly",
      "level": 3,
      "content": "See Konsole#True-color programs do not display correctly.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Yakuake scripting on coderwall.com\n\n"
    }
  ]
}