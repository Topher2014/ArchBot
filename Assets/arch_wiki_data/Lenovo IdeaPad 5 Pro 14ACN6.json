{
  "title": "Lenovo IdeaPad 5 Pro 14ACN6",
  "url": "https://wiki.archlinux.org/title/Lenovo_IdeaPad_5_Pro_14ACN6",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nBluetooth (Intel AX200) | 8087:0029 | Yes\nBluetooth (Foxconn) | 0489:e0cd | Yes\nWireless (Intel AX200) | 8086:2723 | Yes\nWireless (MediaTek) | 14c3:7961 | Yes\nWebcam | 04f2:b6be | Yes\nGPU | 1002:1638 | Yes\nTouchpad |  | Yes\nSD card reader | 1217:8621 | Yes\nAudio | 1022:15e3 | Yes\n\nThe Lenovo IdeaPad 5 Pro 14ACN6 is a laptop computer with a 14\" screen, AMD Ryzenâ„¢ 5/7 5000 U-Series Processor, 8GB/16GB of memory, webcam (with IR), dual-array microphone, stereo speakers, Bluetooth 5.1 and WiFi 5 or 6. It can be configured with a 2.2K matte or touchscreen display at 60Hz and 300 nits of brightness, or a 2.8K matte screen at 90Hz and 400 nits of brightness.\n\nThe available ports are:\n\n- 1x USB 3.2 Gen 1 Type-A\n- 1x USB 3.2 Gen 1 Type-A (Always On)\n- 1x USB 3.2 Gen 1 Type-C (data transfer and Power Delivery 3.0)\n- 1x USB 3.2 Gen 1 Type-C (data transfer, Power Delivery 3.0, and DisplayPort 1.4)\n- HDMI 1.4b\n- Headphones / microphone combo jack\n- SD-card reader (SD, SDHC, SDXC, MMC)\n\nAll hardware works out of the box as tested with kernel 5.17.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "The device comes preloaded with Windows. It can be used to update the BIOS through the Lenovo Vantage app before installing Arch. Disable Secure Boot in the BIOS.\n\n"
    },
    {
      "title": "Suspend issues (S3 sleep fix)",
      "level": 3,
      "content": "Suspending works once the necessary BIOS settings are adjusted.\n\n"
    },
    {
      "title": "About issue",
      "level": 4,
      "content": "By default the laptop comes configured for \"Modern Standby\", a Windows feature that is similar to modern smartphones deep sleep (allowing the devices to remain connected to the network and pull for information like new emails etc).\n\nThis does not work properly on Linux and will manifest as the device immediately exiting stand-by after you try to suspend it. You can also see it based on the power LED on the right hand side, it will be on instead of blinking.\n\n"
    },
    {
      "title": "Solution: Enabling S3 sleep on advanced BIOS",
      "level": 4,
      "content": "- Turn off OneKeyBattery mode in BIOS setup, if it is enabled, and save the BIOS settings, and power down the device.\n- Follow the instructions to enter the hidden/advanced BIOS\n\nYou will find the Modern Standby feature in the AMD PBS menu, about 3/4 of the way down. Change this setting to S3 Enabled, save and exit.\n\n"
    },
    {
      "title": "Internal Microphone",
      "level": 3,
      "content": "If the internal digital microphone is not detected out of the box, adding snd_rn_pci_acp3x.dmic_acpi_check=1 to the kernel parameter does the trick after rebooting.\n\n"
    },
    {
      "title": "AMD P-State",
      "level": 3,
      "content": "Since linux 6.6 the CPU frequency scaling defaults to amd-pstate-epp, which can be expected to work fine.\n\nFor older kernels: Add amd_pstate=passive to the kernel command line.\n\nYou can verify which driver is in use by checking the value of /sys/devices/system/cpu/cpu0/cpufreq/scaling_driver.\n\nMore detailed information through cpupower frequency-info.\n\n"
    },
    {
      "title": "Rapid charge",
      "level": 3,
      "content": "Note: **This article or section is a candidate for merging with Laptop/Lenovo#Lenovo.** This article or section is a candidate for merging with Laptop/Lenovo#Lenovo.\n\nThis article or section is a candidate for merging with Laptop/Lenovo#Lenovo.\n\nFirst install acpi_call (or acpi_call-lts for LTS kernel, acpi_call-dkms for other kernels) and load the kernel module:\n\n```\n# modprobe acpi_call\n```\n\nTurn on:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x07' > /proc/acpi/call\n```\n\nTurn off:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x08' > /proc/acpi/call\n```\n\nYou can also use ideapad-perf to control both the System Performance and the Battery Conservation mode through the CLI or with the provided tray applet.\n\n"
    },
    {
      "title": "Battery conservation mode",
      "level": 3,
      "content": "This device supports battery conservation mode.\n\n"
    },
    {
      "title": "Kernel method",
      "level": 4,
      "content": "Turn on:\n\n```\n# echo 1 > /sys/bus/platform/drivers/ideapad_acpi/VPC2004:00/conservation_mode\n```\n\nTurn off:\n\n```\n# echo 0 > /sys/bus/platform/drivers/ideapad_acpi/VPC2004:00/conservation_mode\n```\n\n"
    },
    {
      "title": "ACPI method",
      "level": 4,
      "content": "First install acpi_call (or acpi_call-lts for LTS kernel, acpi_call-dkms for other kernels) and load the kernel module:\n\n```\n# modprobe acpi_call\n```\n\nTurn on:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x03' > /proc/acpi/call\n```\n\nTo verify your setting run the command below, you should get 1:\n\n```\n$ cat /sys/bus/platform/drivers/ideapad_acpi/VPC2004:00/conservation_mode\n```\n\nTurn off:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x05' > /proc/acpi/call\n```\n\nTo verify your setting run the command below, you should get 0:\n\n```\n$ cat /sys/bus/platform/drivers/ideapad_acpi/VPC2004:00/conservation_mode\n```\n\n"
    },
    {
      "title": "System performance mode",
      "level": 3,
      "content": "There are 3 modes available: Intelligent Cooling, Extreme Performance and Battery Saving.\n\n"
    },
    {
      "title": "Kernel method",
      "level": 4,
      "content": "To list available options run the command below:\n\n```\n$ cat /sys/firmware/acpi/platform_profile_choices\n```\n\n```\nlow-power balanced performance\n```\n\nSet it to Intelligent Cooling mode:\n\n```\n# echo 'balanced' > /sys/firmware/acpi/platform_profile\n```\n\nSet it to Extreme Performance mode:\n\n```\n# echo 'performance' > /sys/firmware/acpi/platform_profile\n```\n\nSet it to Battery Saving mode:\n\n```\n# echo 'low-power' > /sys/firmware/acpi/platform_profile\n```\n\n"
    },
    {
      "title": "ACPI method",
      "level": 4,
      "content": "First install acpi_call (or acpi_call-lts for LTS kernel, acpi_call-dkms for other kernels) and load the kernel module:\n\n```\n# modprobe acpi_call\n```\n\nSet it to Intelligent Cooling mode:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x000FB001' > /proc/acpi/call\n```\n\nSet it to Extreme Performance mode:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x0012B001' > /proc/acpi/call\n```\n\nSet it to Battery Saving mode:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x0013B001' > /proc/acpi/call\n```\n\n"
    },
    {
      "title": "Firmware",
      "level": 2,
      "content": "fwupd does not officially support this device. It cannot be used to apply UEFI firmware updates.\n\n"
    },
    {
      "title": "Accessing the BIOS",
      "level": 3,
      "content": "The BIOS can be accessed by pressing the F2 or F12 key while turning on the device.\n\n"
    },
    {
      "title": "Hidden BIOS menus",
      "level": 4,
      "content": "A number of advanced BIOS menus are available that allow for significant tweaking of the device. Do not touch these setting unless you know what you are doing.\n\n- Boot the laptop with F2 pressed to get into BIOS.\n- Under Configuration menu, disable \"HotKey Mode\" and \"OneKeyBattery\".\n- Switch language to Chinese.\n- Save settings and power down the laptop.\n- Type, with the laptop powered off: F1 1 Q A Z F2 2 W S X F3 3 E D C F4 4 R F V F5 5 T G B F6 6 Y H N.\n- Get into BIOS as usual, you will get into the BIOS but with a few options more unlocked.\n\nIf you do not get a number of extra menus in the sidebar, you either mistyped the combination or did it too slowly. Power off the device and try again.\n\n"
    },
    {
      "title": "Function keys",
      "level": 2,
      "content": "Table content:\nKey | Visible?1 | Marked?2 | Effect\nFn+Esc | No | Yes | Enables Fn lock\nF1 | Yes | Yes | XF86AudioMute\nF2 | Yes | Yes | XF86AudioLowerVolume\nF3 | Yes | Yes | XF86AudioRaiseVolume\nF4 | Yes | Yes | XF86AudioMicMute\nF5 | Yes | Yes | XF86MonBrightnessDown\nF6 | Yes | Yes | XF86MonBrightnessUp\nF7 | Yes | Yes | Super+p\nF8 | Yes3 | Yes | XF86RFKill\nF9 | Yes | Yes | Super+i\nF10 | Yes | Yes | Super+l\nF11 | Yes | Yes | Ctrl+Alt+Tab\nF12 | Yes | Yes | XF86Calculator\nIns | No | Yes | Opens Lenovo Vantage on Windows, not usable on Linux\nPrintScreen | Yes | Yes | Super+Shift+s\nFn+Space | No | Yes | Toggle keyboard backlight\nFn+q | Yes | No | XF86Launch4\nFn+s | Yes | No | PrintScreen\nFn+b | Yes | No | BreakPause\nFn+Left | Yes | Yes | Home\nFn+Right | Yes | Yes | End\nFn+Up | Yes | Yes | PageUp\nFn+Down | Yes | Yes | PageDown\n\n1. The key is visible to xev and similar tools.\n1. The physical key has a symbol on it, which describes its function.\n1. systemd-logind handles this by default.\n\n"
    }
  ]
}