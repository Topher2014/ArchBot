{
  "title": "Baloo",
  "url": "https://wiki.archlinux.org/title/Baloo",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Baloo is a file indexing and searching framework for KDE Plasma.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install the baloo package.\n\n"
    },
    {
      "title": "Usage and configuration",
      "level": 2,
      "content": "In order to search using Baloo on the Plasma desktop, start KRunner (default keyboard shortcut ALT+F2) and type in your query. Within Dolphin press Ctrl+f.\n\nBy default the Desktop Search KCM exposes only two options: A panel to blacklist folders and a way to disable it with one click. Alternatively you can edit your ~/.config/baloofilerc file (info).\n\nAdditionally the balooctl6 process can also be used to control Baloo, e.g. in order to stop/start Baloo use balooctl6 suspend or balooctl6 resume to resume.\n\nOnce you added additional folders to the blacklist or disabled Baloo entirely, a process named baloo_file_cleaner removes all unneeded index files automatically. These are stored under ~/.local/share/baloo/.\n\n"
    },
    {
      "title": "Command-line usage",
      "level": 2,
      "content": "```\n$ baloosearch6 query\n```\n\nSupport for range queries:\n\n```\n$ baloosearch6 \"width>=6000 width<7000\"\n```\n\nGroups and OR/AND operators:\n\n```\n$ baloosearch6 \"tag:coolpicture OR (width>=6000 width<7000)\"\n```\n\nFor a list of all supported filter properties available, see (info).\n\nNote that text search index breaks down all metadata (including filenames) into \"words\", and does all its searches over it from the beginning of the word only. What this means is that while baloosearch \"tutorial\" would match my_great_tutorial.txt, baloosearch \"utorial\" would not match it. To see what \"words\" baloo stored in the index for a particular file do:\n\n```\n$ balooshow6 -x filename\n```\n\n"
    },
    {
      "title": "Indexing a removable or remote device",
      "level": 2,
      "content": "By default every removable and remote device is blacklisted. It is possible to remove devices from the blacklist in the KCM panel.\n\n"
    },
    {
      "title": "Disabling the indexer",
      "level": 2,
      "content": "To disable the Baloo file indexer:\n\n```\n$ balooctl6 suspend\n$ balooctl6 disable\n```\n\nThe indexer will be disabled on next login.\n\nAlternatively, disable Enable File Search in System settings under Search > File search.\n\nTo permanently delete the index database, run:\n\n```\n$ balooctl6 purge\n```\n\nThis will also resolve the following error message in file dialogs and other applications (KDE bug 437176):\n\n```\nkf.kio.core: \"Could not enter folder tags:/.\"\n```\n\n"
    },
    {
      "title": "Inotify folder watch limit error",
      "level": 3,
      "content": "If you get the following error:\n\n```\nKDE Baloo Filewatch service reached the inotify folder watch limit. File changes may be ignored.\n```\n\nThen you will need to increase the inotify folder watch limit:\n\n```\n# sysctl -w fs.inotify.max_user_watches=524288\n```\n\nTo make changes permanent, create a sysctl configuration file:\n\n```\n/etc/sysctl.d/40-max-user-watches.conf\n```\n\n```\nfs.inotify.max_user_watches=524288\n```\n\n"
    },
    {
      "title": "Plasma Vault Files are indexed and available even when vault is closed",
      "level": 3,
      "content": "This is a major security bug not yet fixed. Any file inside vault is by default indexed and available through file manager search, Krunner and Kickoff.\n\nOne workaround is to stop folder(s) from being indexed by Baloo. The relevant options are available in System Settings > Search > File Search > Folder specific configuration > Add folder configuration > Stop indexing a folder. After adding the desired folder, the existing Baloo data needs to be removed and freshly indexed again:\n\n```\n$ balooctl6 disable\n$ balooctl6 purge\n$ balooctl6 enable\n$ balooctl6 check\n```\n\n"
    }
  ]
}