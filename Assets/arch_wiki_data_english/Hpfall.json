{
  "title": "Hpfall",
  "url": "https://wiki.archlinux.org/title/Hpfall",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- Hard Drive Active Protection System\n\nhpfall is a simple daemon providing HDD shock protection for HP laptops supporting the feature officially called \"HP Mobile Data Protection System 3D\" or \"HP 3D DriveGuard\".\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install hpfall-gitAUR.\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "You need to set your hard drive in the configuration file:\n\n```\n/etc/conf.d/hpfall\n```\n\n```\n#\n# Parameters to be passed to hpfall\n#\nDEVICE=/dev/sdX\n```\n\nStart and enable hpfall.service\n\n"
    },
    {
      "title": "Testing",
      "level": 2,
      "content": "After rebooting with new kernel, check if hp_accel was initialized correctly through the journal.\n\n"
    },
    {
      "title": "Testing Shock protection",
      "level": 3,
      "content": "Find your HDD's unload_heads file:\n\n```\n# find /sys -name unload_heads\n```\n\nGo to its directory and run:\n\n```\n# watch --difference=permanent cat unload_heads\n```\n\nLift your laptop into free space and simulate a free fall while holding it firmly with your hands (~10 cm should be enough). If the disk protection works, you should hear your HDD making \"click\" sound and see one of your laptop's LEDs flashing. The watch value's background should also permanently turn black.\n\n"
    }
  ]
}