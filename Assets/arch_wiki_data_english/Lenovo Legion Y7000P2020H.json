{
  "title": "Lenovo Legion Y7000P2020H",
  "url": "https://wiki.archlinux.org/title/Lenovo_Legion_Y7000P2020H",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nGPU (Intel) |  | Yes\nGPU (Nvidia) |  | Partial\nBacklight |  | Partial\nEthernet |  | Yes\nWireless |  | Yes\nAudio |  | Yes\nWebcam |  | No\nBluetooth |  | Yes\nThunderbolt |  | No\nKeyboard |  | Partial\nTouchpad |  | Yes\nTPM |  | Yes\nFingerprint reader |  | Yes\nSD-card reader |  | No\nSpeakers |  | Yes\nMicrophone |  | Yes\nAmbient light sensor |  | No\n\nFor a general overview of laptop-related articles and recommendations, see Laptop.\n\n"
    },
    {
      "title": "BIOS",
      "level": 2,
      "content": "At bootup, the BIOS settings page is entered via the F2 key.\n\nIn the BIOS settings, the model name can be seen in the Main tab, Secure Boot can be disabled from the Security tab and boot mode can optionally be switched between UEFI and legacy.\n\nThere is no known option to disable the discrete NVIDIA GPU using the BIOS (only have \"Hybride Graphics\" and \"Discrete Graphics\"), there may be one present after unlocking the advanced options.\n\n"
    },
    {
      "title": "Power Down Nvidia Card",
      "level": 3,
      "content": "Blacklist nouveau drivers, reboot, and run:\n\n```\n# echo 'auto' >> /sys/bus/pci/devices/0000:01:00.0/power/control\n```\n\n"
    },
    {
      "title": "Multihead",
      "level": 3,
      "content": "External displays using the USB-C ports only seem to function using the proprietary NVIDIA driver.\n\n"
    },
    {
      "title": "If you enabled Discrete Graphics mode",
      "level": 3,
      "content": "If you enaled Discrete Graphics mode in BIOS,you cannot control the backlight via the function keys or in \"Battery and Brightness\" section in control center. Because the brightness is controlled by /sys/class/backlight/nvidia_0/brightness.\n\nTo recover the functionality of Fn+F5 and Fn+F6, you can change the acpi actions via creating the following files in the this blog[dead link 2023-04-24 ⓘ] and reboot:\n\n```\n/etc/acpi/events/FnF6-brightnessup\n```\n\n```\n#FnF6 video/brightnessup BRTUP 00000086 00000000\n event=video/brightnessup \n action=/etc/acpi/actions/FnF6-brightnessup.sh\n```\n\n```\n/etc/acpi/actions/FnF6-brightnessup.sh\n```\n\n```\n#!/bin/bash \n\n# Set the static increment value.  Keep in mind that this will \n# be done twice. \n# This Value is depended on the actual changing value of the DE(in KDE it's 6)\nIncVal<=6\n\n# Get the Maximum value for use. \n#MaxVal=$(cat /sys/class/backlight/intel_backlight/max_brightness); \nread -r MaxVal < \"/sys/class/backlight/nvidia_0/max_brightness\"\n\n# Get the current brightness value. \n#CurrVal=$(cat /sys/class/backlight/nvidia_0/brightness); \nread -r CurrVal < \"/sys/class/backlight/nvidia_0/brightness\"\n\n# Set the new value minus the decrement value. \nNewVal=$(($CurrVal + $IncVal)); \necho $NewVal \n\n# Set it to the threshold of the max value. \nThresholdVal=$(($NewVal<$MaxVal?$NewVal:$MaxVal)) \necho $ThresholdVal \n\n# Set the new value directly. \necho -n $ThresholdVal > /sys/class/backlight/nvidia_0/brightness \n\nlogger \"[ACPI] brightnessup |$CurrVal| |$NewVal| |$ThresholdVal|\"\n```\n\n```\n/etc/acpi/events/FnF5-brightnessdown\n```\n\n```\n#FnF5 vieo/brightnessdown BRTDN 00000087 00000000 \nevent=video/brightnessdown \naction=/etc/acpi/actions/FnF5-brightnessdown.sh\n```\n\n```\n/etc/acpi/actions/FnF5-brightnessdown.sh\n```\n\n```\n#!/bin/bash \n\n# Set the static decrement value.  Keep in mind that this will \n# be done twice. \n# This Value is depended on the actual changing value of the DE(in KDE it's 6)\nDecVal=6\n\n# Set the Minimum we will accept. \nMinVal=0 \n\n# Get the current brightness value. \n#CurrVal=$(cat /sys/class/backlight/nvidia_0/brightness); \nread -r CurrVal < \"/sys/class/backlight/nvidia_0/brightness\"\n\n# Set the new value minus the decrement value. \nNewVal=$(($CurrVal - $DecVal)); \necho $NewVal \n\n# Set it to the threshold of the min value. \nThresholdVal=$(($NewVal>$MinVal?$NewVal:$MinVal)) \necho $ThresholdVal \n\n# Set the new value directly. \necho -n $ThresholdVal > /sys/class/backlight/nvidia_0/brightness \n\nlogger \"[ACPI] brightnessdown |$CurrVal| |$NewVal| |$ThresholdVal|\"\n```\n\nReboot afterwards.\n\n"
    },
    {
      "title": "Power Management",
      "level": 2,
      "content": "One can change the power mode with the default Fn+Q key.\n\nBattery conservation mode is available. It will charge the device to 60% when charge falls below 50%, extending the life of the battery. It can be activated by running the following command:\n\n```\n# echo 1 >/sys/bus/platform/drivers/ideapad_acpi/VPC2004:00/conservation_mode\n```\n\nYou can also install ideapad-cmAUR to change the status conveniently.\n\n"
    },
    {
      "title": "Keyboard",
      "level": 2,
      "content": "Keyboard is working out of box. There is no RGB settings.\n\n"
    },
    {
      "title": "Function Keys",
      "level": 3,
      "content": "Table content:\nKey | Visible?1 | Marked?2 | Effect\nFn+Esc | Yes | Yes | Toggles Fn lock\nFn+F1 | Yes | Yes | XF86AudioMute\nFn+F2 | Yes | Yes | XF86AudioLowerVolume\nFn+F3 | Yes | Yes | XF86AudioRaiseVolume\nFn+F4 | Yes | Yes | XF86AudioMicMute\nFn+F5 | Yes | Yes | video/brightnessdown\nFn+F6 | Yes | Yes | video/brightnessup\nFn+F7 | Yes | Yes | Select video project mode\nFn+F8 | Yes | Yes | Airplane Mode\nFn+F9 | Yes | Yes | Not Defined\nFn+F10 | Yes | Yes | Toggle Touchpad\nFn+F11 | Yes | Yes | Not Defined\nFn+F12 | Yes | Yes | Not Defined\nFn+PrtSc | Yes | Yes | Not Defined\nFn+Home | Yes | Yes | cd/play\nFn+End | Yes | Yes | cd/stop\nFn+PgUp | Yes | Yes | cd/prev\nFn+PgDn | Yes | Yes | cd/next\n\nLenovo Legion series Laptops uses IdeaPad ACPI and ones in normal configuration can use nearly all of the function keys except for F9 (Favorite key), F11 (tab switching key) and F12 (Calculator key), since ACPI key functions is not defined.[1][dead link 2023-04-24 ⓘ]\n\n"
    },
    {
      "title": "Touchpad",
      "level": 2,
      "content": "Single tap and double finger scrolling work. Multi gestures must be configured, they are detected with libinput-gesturesAUR.\n\n"
    },
    {
      "title": "Fan Control",
      "level": 2,
      "content": "Fan control only works with extremecooling4linuxAUR. You can also download the appimage version [2] to use it in GUI, but root permission is required.\n\n"
    }
  ]
}