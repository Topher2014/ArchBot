{
  "title": "TerraTec Aureon 7.1",
  "url": "https://wiki.archlinux.org/title/TerraTec_Aureon_7.1",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "The Terratec Aureon 7.1 USB is an affordable external sound card which supports optical and digital output through S/PDIF with full 5.1/7.1 surround sound.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nTo use this card, install ALSA (which has support for this sound card).\n\n"
    },
    {
      "title": "Set the card as the default device",
      "level": 3,
      "content": "If you have multiple sound cards, you need to set the Terratec card as a default. Create the following file:\n\n```\n/etc/modprobe.d/alsa.conf\n```\n\n```\noptions snd slots=snd_usb_audio\n```\n\nRebooting may be required for the changes to take effect.\n\n"
    },
    {
      "title": "Enable volume control",
      "level": 3,
      "content": "This card does not have hardware volume control, so you need to create software Master control. Create the following file in your home folder:\n\n```\n.asoundrc\n```\n\n```\npcm.softvol {\n        type softvol\n        slave {\n                pcm \"dmix\"\n        }\n        control {\n                name \"Master\"\n                card 0\n        }\n}\n\npcm.!default {\n        type plug\n        slave.pcm \"softvol\"\n}\n```\n\nAgain, restart alsa, then open a music player, play a file and close the player. Then run alsamixer and check as you should have a Master volume control.\n\n"
    },
    {
      "title": "Hotkeys",
      "level": 3,
      "content": "The sound card has external hotkeys for volume change and mute. You can capture the button presses by installing Xbindkeys and using the following config:\n\n```\n.xbindkeysrc\n```\n\n```\n#Volume up\n\"amixer set 'Master' 5+\"\n    m:0x0 + c:123\n    XF86AudioRaiseVolume\n\n#Volume down\n\"amixer set 'Master' 5-\"\n    m:0x0 + c:122\n    XF86AudioLowerVolume\n\n#Mute\n\"/media/disk/programs/mute.sh\"\n    m:0x0 + c:121\n    XF86AudioMute\n```\n\nAs you can see, alsamixer(1) does not handle mute for this mixer, which is why you can use a simple mute.sh script, which stores the volume level in volume.txt. Be sure to change the file path to mute.sh accordingly.\n\n```\n#!/bin/bash\nvar=$(amixer get Master | grep \"Front Left:\")\nvar=$(echo \"$var\" | sed -ne 's/^[^[]*\\[\\([^]]*\\)\\].*/\\1/p')\nif [ $var == \"0%\" ]\nthen\n        volume=$(cat volume.txt)\n        amixer set 'Master' $volume\nelse\n        rm volume.txt\n        echo $var > volume.txt\n        amixer set 'Master' 0%\nfi\n```\n\n"
    },
    {
      "title": "Configure mplayer for surround sound (optional)",
      "level": 3,
      "content": "Add the following codec settings for mplayer:\n\n```\n.mplayer/config\n```\n\n```\nac=hwac3,hwdts,a52,dts,\nao=alsa\n```\n\nKodi can be used for media playback too, as most receivers do no support the AAC codec. Kodi will re-encode AAC to a common codec (AC3 probably) in realtime, so you can watch most surround sound media files. It also has a self-explanatory configuration system using a GUI.\n\n"
    }
  ]
}