{
  "title": "Steam runtime",
  "url": "https://wiki.archlinux.org/title/Steam_runtime",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "1. Make sure that you have followed Steam#Installation.\n1. If the Steam client / a game is not starting and/or you have error message about a library, read #Steam runtime and see #Debugging shared libraries.\n1. If the issue is related to networking, make sure that you have forwarded the required ports for Steam.\n1. If the issue is about a game, consult Steam/Game-specific troubleshooting.\n\n"
    },
    {
      "title": "Steam runtime",
      "level": 2,
      "content": "Steam for Linux ships with its own set of libraries called the Steam runtime. By default Steam launches all Steam Applications within the runtime environment. The Steam runtime is located at ~/.steam/root/ubuntu12_32/steam-runtime/.\n\nIf you mix the Steam runtime libraries with system libraries you will run into binary incompatibility issues, see steam-for-linux issue #4768. Binary incompatibility can lead to the Steam client and games not starting (manifesting as a crash, as hanging or silently returning), audio issues and various other problems.\n\nThe steam package offers two ways to launch Steam:\n\n- /usr/bin/steam (alias steam), which overrides runtime libraries known to cause problems via the LD_PRELOAD environment variable (see ld.so(8)).\n- /usr/lib/steam/steam, the default Steam launch script\n\nAs the Steam runtime libraries are older they can lack newer features, e.g. the OpenAL version of the Steam runtime lacks HRTF and surround71 support.\n\n"
    },
    {
      "title": "Steam native runtime",
      "level": 3,
      "content": "The steam-native-runtime package depends on over 130 packages to pose a native replacement of the Steam runtime, some games may however still require additional packages.\n\nThis package provides the steam-native script, which launches Steam with the STEAM_RUNTIME=0 environment variable making it ignore its runtime and only use system libraries.\n\nYou can also use the Steam native runtime without steam-native-runtime by manually installing just the packages you need. See #Finding missing runtime libraries.\n\n"
    },
    {
      "title": "Debugging shared libraries",
      "level": 2,
      "content": "To see the shared libraries required by a program or a shared library run the ldd command on it, see ldd(1). The LD_LIBRARY_PATH and LD_PRELOAD environment variables can alter which shared libraries are loaded, see ld.so(8). To correctly debug a program or shared library it is therefore important that these environment variables in your debug environment match the environment you wish to debug.\n\nIf you figure out a missing library you can use pacman or pkgfile to search for packages that contain the missing library.\n\n"
    },
    {
      "title": "Finding missing game libraries",
      "level": 3,
      "content": "If a game fails to start, a possible reason is that it is missing required libraries. You can find out what libraries it requests by running ldd game_executable. game_executable is likely located somewhere in ~/.steam/root/steamapps/common/. Please note that most of these \"missing\" libraries are actually already included with Steam, and do not need to be installed globally.\n\n"
    },
    {
      "title": "Finding missing runtime libraries",
      "level": 3,
      "content": "If individual games or Steam itself is failing to launch when using steam-native you are probably missing libraries. To find the required libraries run:\n\n```\n$ cd ~/.steam/root/ubuntu12_32\n$ file * | grep ELF | cut -d: -f1 | LD_LIBRARY_PATH=. xargs ldd | grep 'not found' | sort | uniq\n```\n\nAlternatively, run Steam with steam and use the following command to see which non-system libraries Steam is using (not all of these are part of the Steam runtime):\n\n```\n$ for i in $(pgrep steam); do sed '/\\.local/!d;s/.*  //g' /proc/$i/maps; done | sort | uniq\n```\n\n"
    },
    {
      "title": "Debugging Steam",
      "level": 2,
      "content": "Note: **This article or section is out of date.** This article or section is out of date.\n\nThis article or section is out of date.\n\nThe Steam launcher redirects its stdout and stderr to /tmp/dumps/USER_stdout.txt. This means you do not have to run Steam from the command-line to see that output. s It is possible to debug Steam to gain more information which could be useful to find out why something does not work.\n\nYou can set DEBUGGER environment variable with one of gdb, cgdb, valgrind, callgrind, strace and then start steam.\n\nFor example with gdb\n\n```\n$ DEBUGGER=gdb steam\n```\n\ngdb will open, then type run which will start steam and once crash happens you can type backtrace to see call stack.\n\n"
    },
    {
      "title": "'GLBCXX_3.X.XX' not found when using Bumblebee",
      "level": 3,
      "content": "This error is likely caused because Steam packages its own out of date libstdc++.so.6. See #Finding missing runtime libraries about working around the bad library. See also steam-for-linux issue 3773.\n\n"
    },
    {
      "title": "Steam>Warning: failed to init SDL thread priority manager: SDL not found",
      "level": 3,
      "content": "Solution: install the lib32-sdl2AUR package.\n\n"
    },
    {
      "title": "Game crashes immediately",
      "level": 3,
      "content": "This is likely due to #Steam runtime issues, see #Debugging shared libraries.\n\nDisabling the in-game Steam Overlay in the game properties might help.\n\nAnd finally, if those do not work, you should check Steam's output for any error from the game. You may encounter the following:\n\n- munmap_chunk(): invalid pointer\n- free(): invalid pointer\n\nIn these cases, try replacing the libsteam_api.so file from the problematic game with one of a game that works. This error usually happens for games that were not updated recently when Steam runtime is disabled. This error has been encountered with AYIM, Bastion and Monaco.\n\nIf the game crashes with terminate called after throwing an instance of 'dxvk::DxvkError' it's likely that conflicting versions of vulkan are installed. lib32-amdvlk, lib32-vulkan-intel and Nvidia vulkan drivers are mutually exclusive. This is solved by uninstalling the unneeded driver. To obtain information about the chipset vendor one can run:\n\n```\n# lshw -C display | grep vendor\n```\n\nTo get a list of installed packages\n\n```\n# pacman -Qs vulkan\n```\n\n"
    },
    {
      "title": "Game and Steam crashes after game start",
      "level": 3,
      "content": "If the following error is output:\n\n```\nfailed to dlopen engine.so error=/home/GAMEPATH/bin/libgcc_s.so.1: version `GCC_7.0.0' not found (required by /usr/lib32/libopenal.so.1)\n```\n\nmoving the incompatible lib can be a workaround.\n\n```\nmv .local/share/Steam/steamapps/common/GAME/bin/libgcc_s.so.1 .local/share/Steam/steamapps/common/GAME/bin/libgcc_s.so.1.b\n```\n\n"
    },
    {
      "title": "Some games freeze at start when in focus",
      "level": 3,
      "content": "A combination of using ForceFullCompositionPipeline, specific Proton versions and Nvidia driver version 535 is known to freeze some games using DXVK/Vulkan at launch under Xorg. Using Alt+Tab allows bringing Steam in focus, and the game seems to run properly in the background. Solution: disable ForceFullCompositionPipeline or downgrade Nvidia drivers.\n\n"
    },
    {
      "title": "Version `CURL_OPENSSL_3` not found",
      "level": 3,
      "content": "This is because curl alone is not compatible with previous versions. You need to install the compatibility libraries:\n\nOne of the following messages may show up:\n\n```\n# Nuclear Throne\n./nuclearthrone: /usr/lib32/libcurl.so.4: version `CURL_OPENSSL_3' not found (required by ./nuclearthrone)\n\n# Devil Daggers\n./devildaggers: /usr/lib/libcurl.so.4: version `CURL_OPENSSL_3' not found (required by ./devildaggers)\n```\n\nYou need to install either libcurl-compat or lib32-libcurl-compat and link the compatibility library manually:\n\n```\n# Nuclear Throne\n$ ln -s /usr/lib32/libcurl-compat.so.4.4.0 \"LIBRARY/steamapps/common/Nuclear Throne/lib/libcurl.so.4\"\n\n# Devil Daggers\n$ ln -s /usr/lib/libcurl-compat.so.4.4.0 LIBRARY/steamapps/common/devildaggers/lib64/libcurl.so.4\n```\n\n"
    },
    {
      "title": "Steam webview/game browser not working in native runtime (Black screen)",
      "level": 3,
      "content": "Since the new Steam Friends UI update, the client webview is not working correctly with the native-runtime.\n\n```\n./steamwebhelper: error while loading shared libraries: libpcre.so.3: cannot open shared object file: No such file or directory\n```\n\nIt can be solved preloading glib libraries; Those do not require libpcre and selinux to work.\n\n```\n$ LD_PRELOAD=\"/usr/lib/libgio-2.0.so.0 /usr/lib/libglib-2.0.so.0\" steam-native\n```\n\nAlternatively, you may create a symbolic link to the native Arch libpcre library.\n\n```\n# ln -s /usr/lib/libpcre.so /usr/lib64/libpcre.so.3\n```\n\nSince update from around 3/3/2022, there are some reports of black screen still persisting after applying above workaround.\n\nThe workaround for now is to run Steam with the -no-cef-sandbox option. More information can be found in Github Steam-For-Linux repository Issue #8451 and #8420.\n\n"
    },
    {
      "title": "Steam: An X Error occurred",
      "level": 3,
      "content": "When using an NVidia GPU and proprietary drivers, Steam may fail to start and (if run from the terminal) produce errors of the form:\n\n```\nSteam: An X Error occurred\nX Error of failed request:  GLXBadContext\nMajor opcode of failed request:  151\nSerial number of failed request:  51\nxerror_handler: X failed, continuing\n```\n\nInstall the package lib32-nvidia-utils (or lib32-nvidia-390xx-utilsAUR if using an old GPU).\n\nIf lib32-nvidia-utils is installed, ensure that the package version matches nvidia with\n\n```\n# pacman -Qs nvidia\n```\n\nYou may need to change which mirrors you are using to install the drivers if they do not match.\n\nIf you are using AMD, have enabled 10-bit color depth, and are having this problem. You will likely need to disable 10-bit color depth.\n\nAnother issue that causes this error message can be solved by removing the config.vdf file:\n\n```\n$ rm ~/.local/share/Steam/config/config.vdf\n```\n\n"
    },
    {
      "title": "Steam: Compatibility tool configuration failed",
      "level": 3,
      "content": "If you are trying to run a native game using Proton but get a Steam compatibility tool error immediately after starting the game, you might have to reinstall the runtime.\n\n1. Navigate to your Steam library.\n1. In the dropdown above your game list check the Tools option to make them visible.\n1. Search for Proton, right click on each installed tool, visit Properties, open the Local files tab and click Verify integrity of tool files for each entry.\n1. Search for Steam Linux Runtime and repeat the same procedure. If none are available, install the latest Steam Linux Runtime - Soldier.\n\n"
    },
    {
      "title": "Game starts but closes immediately with custom kernel",
      "level": 3,
      "content": "Make sure that you have enabled User namespace in General setup -> Namespaces support.\n\n"
    },
    {
      "title": "Steam Library won't start",
      "level": 3,
      "content": "Opening the steam library either displays nothing, or a brief splash, but no window appears. Running /usr/bin/steam in a terminal window gives this error:\n\n```\nAssertion 'device' failed at src/libsystemd/sd-device/device-private.c:103, function device_get_tags_generation(). Aborting.\n```\n\nBugs reports are filed: #79006\n\nSee also discussion at: Steam failing to launch since systemd 253.5-2 update\n\nA workaround is to install lib32-libnm.\n\n"
    },
    {
      "title": "Blurry text and graphics with Xwayland and HiDPI",
      "level": 3,
      "content": "When Steam runs as an Xwayland client under a compositor that uses HiDPI scaling, you may find that Steam and games are rendered at half resolution and then upscaled to fit the HiDPI screen. This results in blurry graphics.\n\nOne option is to run Steam under a nested gamescope compositor. Install the gamescope package:\n\n```\n$ gamescope -f -m 1 -e -- steam -gamepadui\n```\n\nThis runs Steam in \"big picture\" mode (actually Steam Deck mode), in fullscreen, without scaling (i.e. at full resolution). The same settings should also propagate to games run under Steam.\n\nAnother option is to configure your compositor to prevent Xwayland from scaling applications entirely. For example, Hyprland users can add\n\n```\nxwayland {\n  force_zero_scaling = true\n}\n```\n\nto the hyprland.conf file to prevent Xwayland from scaling any applications. Note that all applications that use Xwayland will stop scaling, and so on HiDPI displays, text and other elements in those applications may become too small to be comfortably viewed.\n\n"
    },
    {
      "title": "Steam flicker/blink with black screen not loading Store/Library or other pages",
      "level": 3,
      "content": "When Steam is started on Wayland (not confirmed X11) with dual graphics in some cases Steam client is unstable display black screen and flicker/blink. This is due to option PrefersNonDefaultGPU set to true in steam.desktop file.\n\n"
    },
    {
      "title": "Method 1 - Edit steam.desktop file",
      "level": 4,
      "content": "Locate .desktop file you are starting from your Application Launcher, and change line: From: PrefersNonDefaultGPU=true To: PrefersNonDefaultGPU=false Usually located at ~/.local/share/applications/steam.desktop\n\nIf opened close steam and relaunch.\n\n"
    },
    {
      "title": "Method 2 - KDE Plasma - edit menu option in GUI",
      "level": 4,
      "content": ".Right click on .desktop file > Edit application... > select tab \"Application\" > Advanced Options > Uncheck option \"Run using dedicated graphics card\" > save changes, and relaunch Steam\n\n"
    },
    {
      "title": "Workaround 1 - run steam from terminal",
      "level": 4,
      "content": "It has been noted that starting steam from terminal is not affected so it is a known workaround.\n\n```\n$ steam &\n```\n\nAmpersand (&) at the end is to run steam in background, terminal can be closed after Steam starts.\n\n"
    },
    {
      "title": "Audio issues",
      "level": 2,
      "content": "If the sections below do not address the issue, using the #Steam native runtime might help.\n\n"
    },
    {
      "title": "Configure PulseAudio",
      "level": 3,
      "content": "Games that explicitly depend on ALSA can break PulseAudio. Follow the directions for PulseAudio#ALSA to make these games use PulseAudio instead.\n\n"
    },
    {
      "title": "No audio or 756 Segmentation fault",
      "level": 3,
      "content": "First #Configure PulseAudio and see if that resolves the issue. If you do not have audio in the videos which play within the Steam client, it is possible that the ALSA libraries packaged with Steam are not working.\n\nAttempting to playback a video within the steam client results in an error similar to:\n\n```\nALSA lib pcm_dmix.c:1018:(snd_pcm_dmix_open) unable to open slave\n```\n\nA workaround is to rename or delete the alsa-lib folder and the libasound.so.* files. They can be found at:\n\n```\n~/.steam/steam/ubuntu12_32/steam-runtime/i386/usr/lib/i386-linux-gnu/\n```\n\nAn alternative workaround is to add the libasound.so.* library to the LD_PRELOAD environment variable:\n\n```\n$ LD_PRELOAD='/usr/$LIB/libasound.so.2 '${LD_PRELOAD} steam\n```\n\nIf audio still will not work, adding the PulseAudio libraries to the LD_PRELOAD variable may help:\n\n```\n$ LD_PRELOAD='/usr/$LIB/libpulse.so.0 /usr/$LIB/libpulse-simple.so.0 '${LD_PRELOAD} steam\n```\n\nBe advised that their names may change over time. If so, it is necessary to take a look in\n\n```\n~/.steam/ubuntu12_32/steam-runtime/i386/usr/lib/i386-linux-gnu\n```\n\nand find the new libraries and their versions.\n\nBugs reports have been filed: #3376 and #3504\n\n"
    },
    {
      "title": "FMOD sound engine",
      "level": 3,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nThe FMOD audio middleware package is a bit buggy, and as a result games using it may have sound problems.\n\nIt usually occurs when an unused sound device is used as default for ALSA. See Advanced Linux Sound Architecture#Set the default sound card.\n\n"
    },
    {
      "title": "PulseAudio & OpenAL: Audio streams cannot be moved between devices",
      "level": 3,
      "content": "If you use PulseAudio and cannot move an audio stream between sinks, it might be because recent OpenAL versions default to disallow audio streams from being moved. Try to add the following to your ~/.alsoftrc:\n\n```\n[pulse]\nallow-moves=true\n```\n\n"
    },
    {
      "title": "Cracking Microphone in Steam Voice and Games",
      "level": 3,
      "content": "If you experience cracking with your audio input while using Steam Voice or in games, you can try to launch steam with the environmental variable PULSE_LATENCY_MSEC=30\n\n"
    },
    {
      "title": "Cannot browse filesystem to add a library folder or library folder appears as empty",
      "level": 3,
      "content": "If the file chooser is empty when trying add a library folder, or if a previously set up folder now appears with 0 games installed, this can be the result of an incorrect timestamp on the root directory or in the library folder. Timestamps can be checked with stat:\n\n```\n$ stat path\n```\n\nIf the timestamp is in the future, run\n\n```\n$ touch path\n```\n\nto reinitialize it to the current date, then re-run Steam.\n\n"
    },
    {
      "title": "Cannot add library folder because of missing execute permissions",
      "level": 3,
      "content": "If you add another Steam library folder on another drive, you might get the error message:\n\n```\nNew Steam library folder must be on a filesystem mounted with execute permissions\n```\n\nMake sure you are mounting the filesystem with the correct flags in your /etc/fstab, usually by adding exec to the list of mount parameter. The parameter must occur after any user or users parameter since these can imply noexec.\n\nThis error might also occur if your library folder does not contain a steamapps directory. Previous versions used SteamApps instead, so ensure the name is fully lowercase.\n\nThis error can also occur because of Steam runtime issues and may be fixed following the #Finding missing runtime libraries section or due to no space being left on the device. For debugging purposes it might be useful to run Steam from the console and observe the log.\n\n"
    },
    {
      "title": "Unusually slow download speed",
      "level": 3,
      "content": "If your Steam (games, software…) download speed through the client is unusually slow, but browsing the Steam store and streaming videos is unaffected, installing a DNS cache program, such as dnsmasq can help [1].\n\nSomething else that might help would be disabling IPv6. See [2] for more information.\n\nAnother potential fix is to disable HTTP2 [3] by creating ~/.steam/steam/steam_dev.cfg with the line\n\n```\n@nClientDownloadEnableHTTP2PlatformLinux 0\n```\n\nAdding the following line to the steam_dev.cfg file to increase the server connections may improve but may also negatively affect speeds\n\n```\n@fDownloadRateImprovementToAddAnotherConnection 1.0\n```\n\n"
    },
    {
      "title": "\"Needs to be online\" error",
      "level": 3,
      "content": "Note: **This article or section is out of date.** This article or section is out of date.\n\nThis article or section is out of date.\n\nNote: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\nIf the Steam launcher refuses to start and you get an error saying: \"Fatal Error: Steam needs to be online to update\" while you are online, then there might be issues with name resolving.\n\nTry installing lib32-systemd, lib32-libcurl-compat, nss-mdns, lib32-nss, lib32-glu or lib32-dbus.\n\nThis may also be as simple as DNS resolution not correctly working and is not always obvious since modern browsers will use their own DNS servers. Follow Domain name resolution.\n\nSteam may have issues if systemd-resolved is providing DNS resolution. Make sure lib32-systemd is present to resolve this.\n\nIf DNS resolution works but the Steam launcher still shows the same error message, enabling DNS caching e.g. via the \"Name Service Caching Daemon\", nscd.service, has shown to work around this issue.\n\nIt is unclear what exactly running nscd does to make it work again though. Please check the talk page for more info.\n\n"
    },
    {
      "title": "Steam forgets password",
      "level": 3,
      "content": "Steam for Linux has a bug which causes it to forget the password of some users.\n\nAs a workaround, after logging in to Steam, run\n\n```\n# chattr +i ~/.steam/registry.vdf\n```\n\nThis will set the file's immutable bit so Steam cannot modify, delete, or rename it and thus not log you out.\n\n"
    },
    {
      "title": "Preventing crash memory dumps",
      "level": 3,
      "content": "Every time Steam crashes, it writes a memory dump to /tmp/dumps/. If Steam falls into a crash loop, the dump files can become quite large. When /tmp is mounted as tmpfs, memory and swap file can be consumed needlessly.\n\nTo prevent this, link /tmp/dumps/ to /dev/null:\n\n```\n# ln -s /dev/null /tmp/dumps\n```\n\nOr alternatively, create and modify permissions on /tmp/dumps. Then Steam will be unable to write dump files to the directory.\n\n```\n# mkdir /tmp/dumps\n# chmod 600 /tmp/dumps\n```\n\nThis also has the added benefit of Steam not uploading these dumps to Valve's servers.\n\n"
    },
    {
      "title": "Steam license problem with playing videos",
      "level": 3,
      "content": "Steam uses Google's Widevine DRM for some videos. If it is not installed you will get the following error:\n\n```\nThis video requires a license to play which cannot be retrieved. This may be a temporary network condition. Please restart the video to try again.\n```\n\nTo solve this issue follow the Streaming Videos on Steam support page.\n\n"
    },
    {
      "title": "No context menu for joining/inviting friends",
      "level": 3,
      "content": "Since the new Steam Friends UI update, it may be the case that in the right-click menu the entries for \"Join Game\", \"Invite to Game\" and \"View Game Info\" are missing.\n\nIn order to fix this, it maybe be necessary to install lsof.\n\n"
    },
    {
      "title": "Slow and unresponsive user interface",
      "level": 3,
      "content": "If you experience extremely slow and sluggish performance when using the Steam client it might help to disable the Enable GPU accelerated rendering in web views option under the Interface tab in the Steam client settings.\n\nThe friends list can also cause this problem. Two workarounds are mentioned in https://github.com/ValveSoftware/steam-for-linux/issues/7245:\n\n- Moving the friends list to another monitor [4].\n- Disabling animated avatars. Open Settings and navigate to Friends & Chat. Set Enable Animated Avatars & Animated Avatar Frames in your Friends List and Chat > OFF [5].\n\n"
    },
    {
      "title": "Steam fails to start correctly",
      "level": 3,
      "content": "One troubleshooting step is to run\n\n```\n$ steam --reset\n```\n\nThis can fix various issues that come with a broken install.\n\n"
    },
    {
      "title": "Missing taskbar menu",
      "level": 3,
      "content": "If clicking your steam taskbar icon does not give you a menu, it may be necessary to install the libappindicator-gtk2 and lib32-libappindicator-gtk2 packages and restart steam.\n\n"
    },
    {
      "title": "\"Your browser does not support the minimum set of features required to watch this broadcast\" error",
      "level": 3,
      "content": "See steam-for-linux issue 6780\n\nIf you get an error stating \"Your browser does not support the minimum set of features required to watch this broadcast\" when attempting to watch a stream/broadcast try the following troubleshooting steps:\n\n1. Navigate to Community > Broadcasts. If the page displays \"Updating Steam\" wait a few minutes to see if the process completes and cancel it after a while in case it does not. Now test if you are able to watch broadcasts, e.g. by clicking on one of the ones display under Community > Broadcasts.\n1. Start a broadcast while in Big Picture mode (View > Big Picture Mode). If a broadcast starts fine while in Big Picture mode check if it still works after switching back to the main interface.\n1. Trigger the Steam client to directly unlock H.264 decoding using the following command: steam steam://unlockh264/. The Steam client should start headless and run the unlock command. Wait a minute to be sure the process completes, then close and relaunch the Steam client.\n\n"
    },
    {
      "title": "Using system titlebar and frame",
      "level": 3,
      "content": "Currently steam client tries to manage its windows itself, but it does it improperly, see steam-for-linux#1040. As a workaround you can use steamwm project. Run steam like this: ./steamwm.cpp steam. Also the project provides a skin that removes unnative control buttons and frame, but leaves default skin decorations.\n\n"
    },
    {
      "title": "More selective DPMS inhibition",
      "level": 3,
      "content": "By default, the Steam client totally disables screensaving when it is running, whether a game is launched or not.\n\nA workaround to this issue is provided by steam-screensaver-fixAUR: run steam-screensaver-fix-native or steam-screensaver-fix-runtime.\n\nThis will allow your screen to turn off if Steam is running, but will keep inhibiting the screensaver if a game is launched.\n\nSee Issue 5607 at Valve's GitHub for the details.\n\n"
    },
    {
      "title": "Steam window does not show on Nvidia GPUs after the June 14, 2023 update",
      "level": 3,
      "content": "See steam-for-linux 9577\n\nThis issue seems to be caused by an Nvidia driver update that coincided with the release of the new Steam UI to stable channels. Currently there are four ways that appear to work around this issue. The first is to downgrade the Nvidia drivers to 530.41.03 using a tool like downgradeAUR, which should work around the issue until Nvidia or Valve fix this issue. The second workaround is to delete the GLCache directory at ~/.cache/nvidia/GLCache/. After starting Steam, delete that directory using rm -r ~/.config/nvidia/GLCache. After running this command, Steam should appear. A third, temporary workaround is to run the steam --reset command, which resets the steam installation and logs the user out. This should work for one session, or until the system is rebooted. A fourth workaround is to revert to the old UI using steam -vgui. This UI may get broken as time goes, for now only the friends menu seems to be broken, but more functionality may be broken as time goes on.\n\nWhen downgrading, ensure the same version is used for all components (kernel module nvidia/nvidia-dkms, 64bit userspace nvidia-utils and 32bit userspace lib32-nvidia-utils) and you have booted into the updated your initrd.\n\n"
    },
    {
      "title": "Enabling fractional scaling",
      "level": 3,
      "content": "If the text and icons in the Steam client window are too small to read on your display, it may be beneficial to enable fractional scaling. The Steam client has a settings option to enable it, at Settings > Interface > Scale text and icons to match monitor settings. Enabling this should tell the client to use the system's fractional scaling settings.\n\nHowever, if this does not automatically work, there is a command line parameter to force fractional scaling. Running Steam with the -forcedesktopscaling 1.5 flag will scale the client to 1.5x size. This value can be changed to the correct scaling factor for your monitor. If you wish to make this change permanent, you can edit the Exec field in the steam.desktop file.\n\n"
    },
    {
      "title": "Steam Beta crashes",
      "level": 3,
      "content": "If you are using Steam Beta (which can be confirmed with the presence of You are in the 'publicbeta' client beta in the logs) and encounter breaking bugs, manually switch back to non-Beta:\n\n```\n$ rm -f ~/.local/share/Steam/package/beta\n```\n\nReport the issue after looking for duplicates at https://github.com/ValveSoftware/steam-for-linux.\n\n"
    },
    {
      "title": "Steam Remote Play issues",
      "level": 2,
      "content": "See Steam#Steam Remote Play.\n\n"
    },
    {
      "title": "Remote Play does not work from Arch Linux host to Arch Linux guest",
      "level": 3,
      "content": "Chances are you are missing lib32-libcanberra. Once you install that, it should work as expected.\n\nWith that, Steam should no longer crash when trying to launch a game through Remote Play.\n\n"
    },
    {
      "title": "Hardware decoding not available",
      "level": 3,
      "content": "Remote Play hardware decoding uses vaapi, but steam requires libva2_32bit, where as Arch defaults to 64bit.\n\nAs a basic set, this is libva and lib32-libva. Intel graphics users will also require both libva-intel-driver and lib32-libva-intel-driver.\n\nFor more information about vaapi see hardware video acceleration.\n\nIt may also be necessary to remove the steam runtime version of libva, in order to force it to use system libraries. The current library in use can be found by using:\n\n```\n$ pgrep steam | xargs -I {} cat /proc/{}/maps | grep libva\n```\n\nIf this shows locations in ~/.local/Share/steam steam is still using its packaged version of libva. This can be rectified by deleting the libva library files at ~/.local/share/Steam/ubuntu12_32/steam-runtime/i386/usr/lib/i386-linux-gnu/libva*, so that steam falls back to the system libraries.\n\n"
    },
    {
      "title": "Big Picture Mode minimizes itself after losing focus",
      "level": 3,
      "content": "This can occur when you play a game via Remote Play or if you have a multi-monitor setup and move the mouse outside of BPM's window. To prevent this, set the SDL_VIDEO_MINIMIZE_ON_FOCUS_LOSS=0 environment variable and restart Steam.\n\nSee also the steam-for-linux issue 4769.\n\n"
    },
    {
      "title": "Steam Library in NTFS partition",
      "level": 3,
      "content": "If your Steam library resides in NTFS partition it is probable that games residing there could not start.\n\nThe trouble is that Wine uses a colon in its $WINEPREFIX/dosdevices directory, and NTFS-3G, when mounted with the windows_names option, is instructed to not create such colon names which can confuse Windows. Not adding it is not that unsafe: Windows will act fine besides being unable to open the symlink (which it will not need to do anyways); chkdsk may delete the link, but it is easily recreated.\n\nBetter workaround: mount without windows_names. This option is often added by GUI file explorers via udisks2 for caution, but adding a real Fstab line will give it a proper way to do so.\n\n1. Run genfstab -U / and extract the line containing the ntfs partition, e.g. UUID=12345678ABCDEF00 /run/media/user/Gamez ntfs {options_omitted} 0 0. Note the options are inaccurate because of fuse; if you want to see what really is in use, use ps aux|grep ntfs as root.\n1. Write the line into /etc/fstab, editing it to use the proper options without windows_names. With the earlier example, we would write UUID=12345678ABCDEF00 /run/media/user/Gamez ntfs rw,allow_other,user_id=1000,big_writes 0 0 – assuming you are UID 1000.\n1. Unmount the partition, then remount.\n\nAlternatively, disable udisks use of windows_names globally following instructions in udisks#NTFS file creation failing (filename-dependent).\n\nOther workaround: move the steamapps/common/Proton x.y and steamapps/compatdata to a non-NTFS drive, then create symbolic link in their original locations. You may be wasting some space on your otherwise important Linux drive, however.\n\n```\n$ mv SteamLibrary/steamapps/common/Proton\\ x.y /home/user/dir/\n$ mv SteamLibrary/steamapps/compatdata /home/user/dir/\n$ ln -s /home/user/dir/Proton\\ x.y/ SteamLibrary/steamapps/common/Proton\\ x.y\n$ ln -s /home/user/dir/compatdata/ SteamLibrary/steamapps/compatdata\n```\n\n"
    },
    {
      "title": "Wrong ELF class",
      "level": 3,
      "content": "If you see this message in Steam's console output\n\n```\nERROR: ld.so: object '~/.local/share/Steam/ubuntu12_32/gameoverlayrenderer.so' from LD_PRELOAD cannot be preloaded (wrong ELF class: ELFCLASS32): ignored.\n```\n\nyou can safely ignore it. It is not really any error: Steam includes both 64- and 32-bit versions of some libraries and only one version will load successfully. This \"error\" is displayed even when Steam (and the in-game overlay) is working perfectly.\n\n"
    },
    {
      "title": "Multiple monitors setup",
      "level": 3,
      "content": "Note: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\nA setup with multiple monitors may prevent games from starting. Try to disable all additional displays, and then run a game. You can enable them after the game successfully started.\n\nAlso you can try running Steam with this environment variable set:\n\n```\n$ export LD_LIBRARY_PATH=/usr/lib32/nvidia:/usr/lib/nvidia:$LD_LIBRARY_PATH\n```\n\n"
    },
    {
      "title": "Text is corrupt or missing",
      "level": 3,
      "content": "Try installing lib32-fontconfig, ttf-liberation and wqy-zenhei (for Asian characters), then restart Steam to see whether the problem is solved.\n\n- Steam for Linux does not follow system-level font configurations.[6] Thus, modify user-level configuration if you want change fontconfig for steam.\n- When Steam cannot find the Arial font, font-config likes to fall back onto the Helvetica bitmap font. Steam does not render this and possibly other bitmap fonts correctly, so either removing problematic fonts or disabling bitmap fonts will most likely fix the issue without installing the Arial or ArialBold fonts. The font being used in place of Arial can be found with the command: $ fc-match -v Arial\n\n```\n$ fc-match -v Arial\n```\n\n"
    },
    {
      "title": "SetLocale('en_US.UTF-8') fails at game startup or typing non-ASCII characters does not work in the Steam client",
      "level": 3,
      "content": "You need to generate the en_US.UTF-8 UTF-8 locale. See Locale#Generating locales.\n\n"
    },
    {
      "title": "Missing libc",
      "level": 3,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nThis could be due to a corrupt Steam executable. Check the output of:\n\n```\n$ ldd ~/.local/share/Steam/ubuntu12_32/steam\n```\n\nShould ldd claim that it is not a dynamic executable, then Steam likely corrupted the binary during an update. The following should fix the issue:\n\n```\n$ cd ~/.local/share/Steam/\n$ ./steam.sh --reset\n```\n\nIf it does not, try to delete the ~/.local/share/Steam/ directory and launch Steam again, telling it to reinstall itself.\n\nThis error message can also occur due to a bug in Steam which occurs when your $HOME directory ends in a slash (Valve GitHub issue 3730). This can be fixed by editing /etc/passwd and changing /home/username/ to /home/username, then logging out and in again. Afterwards, Steam should repair itself automatically.\n\n"
    },
    {
      "title": "Games do not launch on older Intel hardware",
      "level": 3,
      "content": "On older Intel hardware which does not support OpenGL 3, such as Intel GMA chips or Westmere CPUs, games may immediately crash when run. It appears as a gameoverlayrenderer.so error in /tmp/dumps/mobile_stdout.txt, but looking in /tmp/gameoverlayrenderer.log it shows a GLXBadFBConfig error.\n\nThis can be fixed, by forcing the game to use a later version of OpenGL than it wants. Add MESA_GL_VERSION_OVERRIDE=3.1 MESA_GLSL_VERSION_OVERRIDE=140 to your launch options.\n\n"
    },
    {
      "title": "Mesa: Game does not launch, complaining about OpenGL version supported by the card",
      "level": 3,
      "content": "Some games are badly programmed, to use any OpenGL version above 3.0. With Mesa, an application has to request a specific core profile. If it does not make such a request, only OpenGL 3.0 and lower are available.\n\nThis can be fixed, by forcing the game to use a version of OpenGL it actually needs. Add MESA_GL_VERSION_OVERRIDE=4.1 MESA_GLSL_VERSION_OVERRIDE=410 to your launch options.\n\n"
    },
    {
      "title": "2K games do not run on XFS partitions",
      "level": 3,
      "content": "Note: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\nIf you are running 2K games such as Civilization 5 on XFS partitions, then the game may not start or run properly due to how the game loads files as it starts. [8]\n\n"
    },
    {
      "title": "Steam controller not being detected correctly",
      "level": 3,
      "content": "See Gamepad#Steam Controller.\n\n"
    },
    {
      "title": "Steam controller makes a game crash",
      "level": 3,
      "content": "See Gamepad#Steam Controller makes a game crash or not recognized.\n\n"
    },
    {
      "title": "Steam hangs on \"Installing breakpad exception handler...\"",
      "level": 3,
      "content": "BBS#177245\n\nYou have an Nvidia GPU and Steam has the following output:\n\n```\nRunning Steam on arch rolling 64-bit\nSTEAM_RUNTIME is enabled automatically\nInstalling breakpad exception handler for appid(steam)/version(0_client)\n```\n\nThen nothing else happens. Ensure you have the correct drivers installed as well as their 32-bit versions (the 64-bit and 32-bit variants have to have the same versions): see NVIDIA#Installation.\n\n"
    },
    {
      "title": "Killing standalone compositors when launching games",
      "level": 3,
      "content": "Utilizing the %command% switch, you can kill standalone compositors (such as Xcompmgr or picom) - which can cause lag and tearing in some games on some systems - and relaunch them after the game ends by adding the following to your game's launch options.\n\n```\nkillall compositor && %command%; nohup compositor &\n```\n\nYou can also add -options to %command% or compositor, of course.\n\nSteam will latch on to any processes launched after %command% and your Steam status will show as in game. So in this example, we run the compositor through nohup so it is not attached to Steam (it will keep running if you close Steam) and follow it with an ampersand so that the line of commands ends, clearing your Steam status.\n\nIf your compositor supports running in daemon mode, you can use it instead. For example, picom(1) has the --daemon / -b option to daemonize its process:\n\n```\nkillall picom && %command%; picom -b\n```\n\n"
    },
    {
      "title": "Symbol lookup error using DRI3",
      "level": 3,
      "content": "Steam outputs this error and exits.\n\n```\nsymbol lookup error: /usr/lib/libxcb-dri3.so.0: undefined symbol: xcb_send_request_with_fds\n```\n\nTo work around this, run Steam with LIBGL_DRI3_DISABLE=1, disabling DRI3 for Steam.\n\n"
    },
    {
      "title": "Launching games on Nvidia optimus laptops",
      "level": 3,
      "content": "Note: **This article or section is out of date.** This article or section is out of date.\n\nThis article or section is out of date.\n\nTo be able to play games which require using Nvidia GPU (for example, Hitman 2016) on optimus enabled laptop, you should start game with primusrun prefix in launch options. Otherwise, game will not work.\n\nRight click the game in your steam library and select Properties > GENERAL > LAUNCH OPTIONS. Change options to\n\n```\nprimusrun %command%\n```\n\nRunning steam with primusrun used to work. While steam has changed some behavior that now running steam with primusrun would not have effect on launching games. As a result, you need to set launch options for each game (and you do NOT have to run steam with primusrun).\n\nFor primusrun, VSYNC is enabled by default it could result in a mouse input delay lag, slightly decrease performance and in-game FPS might be locked to a refresh rate of a monitor/display. In order to disable VSYNC for primusrun default value of option vblank_mode needs to be overridden by environment variable.\n\n```\nvblank_mode=0 primusrun %command%\n```\n\nSame with optirun that uses primus as a bridge.\n\n```\nvblank_mode=0 optirun -b primus %command%\n```\n\nIf that did not work try:\n\n```\nLD_PRELOAD=\"libpthread.so.0 libGL.so.1\" __GL_THREADED_OPTIMIZATIONS=1 optirun %command%\n```\n\nFor more details see Bumblebee#Primusrun mouse delay (disable VSYNC).\n\n"
    },
    {
      "title": "HiDPI",
      "level": 3,
      "content": "HiDPI support should work out of the box, although on some systems it is necessary to force it setting the -forcedesktopscaling factor cli option or the STEAM_FORCE_DESKTOPUI_SCALING environment variable to set the desired scale factor.\n\n"
    },
    {
      "title": "Protocol support under KDE Plasma",
      "level": 3,
      "content": "If you are getting an error after running a game through web browser (or executing the link through xdg-open)\n\n```\nError — KIOExec\nFile not found: steam://run/440\n```\n\nGo to System Settings -> Applications -> File Associations, add new, select inode group and name it vnd.kde.service.steam, then under Application Preference Order you have to add Steam. Apply changes, It should be working now.\n\n"
    },
    {
      "title": "The game crashes when using Steam Linux Runtime - Soldier",
      "level": 3,
      "content": "Note: **This article or section is out of date.** This article or section is out of date.\n\nThis article or section is out of date.\n\nSince Proton 5.13 Steam uses the Steam Linux Runtime - Soldier by default. Some games crash when using it.\n\nTo bypass it, you can:\n\n- Manually build a proton without the Steam Runtime\n- Replace the Soldier entry point script:\n\n```\n~/.steam/steam/steamapps/common/SteamLinuxRuntime_soldier/_v2-entry-point\n```\n\n```\n#!/bin/bash\n\nshift 2\nexec \"${@}\"\n```\n\n"
    },
    {
      "title": "Games running with Proton 5.13+ have no Internet connectivity",
      "level": 3,
      "content": "If you are using systemd-resolved as your DNS resolver, ensure you have created the resolv.conf symlink as described in systemd-resolved#DNS.\n\nThe file should contain something similar to:\n\n```\n/etc/resolv.conf\n```\n\n```\n# This is /run/systemd/resolve/stub-resolv.conf managed by man:systemd-resolved(8).\n# Do not edit.\n```\n\n"
    },
    {
      "title": "\"could not determine 32/64 bit of java\"",
      "level": 3,
      "content": "A forgotten install of the linux-steam-integrationAUR package caused this with at least one game. Early on there were conflicts between the system and the steam runtime versions of some libraries, and that package helped resolve some of them. It is unclear whether it is still helpful, but uninstalling it resolved the above error message for Project Zomboid. The solution was discovered by noticing that running the projectzomboid.sh command from the command line worked, but switching the launch options to sh -xc 'echo %command%; declare -p' showed Steam was trying to run the exact same command, but there were a lot of lsi--prefixed libraries inserted in the preload and path.\n\n"
    },
    {
      "title": "Stuttering with Vulkan",
      "level": 3,
      "content": "If you notice a constant intense stutter every 1-2 seconds, there may be conflicts in your vsync settings. Manually configuring vsync in the parameters will possibly fix it.\n\nGo to the game properties and configure it in Launch Options:\n\n```\nDXVK_FRAME_RATE=60 %command%\n```\n\n"
    },
    {
      "title": "Force OpenGL emulation",
      "level": 3,
      "content": "Some, especially older games might not work with the default Vulkan (DXVK) wrapper Proton uses. Try running the application with WineD3D OpenGL wrapper instead:\n\n```\nPROTON_USE_WINED3D=1 %command%\n```\n\n"
    },
    {
      "title": "File picker does not see anything but steam library",
      "level": 3,
      "content": "See FS#78625. You need to install xdg-desktop-portal.\n\n"
    },
    {
      "title": "DirectX errors on hybrid graphics",
      "level": 3,
      "content": "For laptop with Intel/Nvidia Hybrid graphics encountering the following error:\n\n```\nA d3d11-compatible gpu (feature level 11.0, shader model 5.0) is required to run the engine.\n```\n\nIt's probably because your game is running on the iGPU instead of the dedicated GPU and you need to configure PRIME. If it's still not doing it, try using Direct3D instead of DXVK.\n\n"
    },
    {
      "title": "No Internet Connection when downloading",
      "level": 3,
      "content": "If you see No Internet Connection while downloading games, a possible solution is clearing the download cache (Steam > Settings > Downloads > Clear Download Cache).\n\n"
    },
    {
      "title": "Poor performance or stuttering after launching Steam",
      "level": 3,
      "content": "If you experience reduced performance or stuttering, lasting anywhere from a few seconds to a couple of minutes after launching Steam, it may be cased by bugged or outdated Proton installations.\n\nRemove bugged Proton installed under app ID 0: ~/.steam/root/steamapps/compatdata/0. You may also need to remove outdated and problematic Proton versions, including custom ones like GE-Proton, especially 5.21-GE-1.\n\nFor more details, see steam-for-linux#8114.\n\n"
    },
    {
      "title": "Very long startup and slow user interface response",
      "level": 3,
      "content": "Steam's use of steamloopback.host in its Chromium backend to refer to itself. Due to the way systemd-resolvd attempts to resolve this host (via mdns by default for some users) this issue can hang the interface. This causes very long startups (if it ever starts) and a slow-responding (or not at all) user interface. This issue can temporary be addressed by editing /etc/nsswitch.conf to change mdns to mdns_minimal and restarting systemd-resolvd. For more details, see [9].\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Multimedia and Games / Arch Linux Forums\n- ValveSoftware/steam-for-linux – Issue tracking for the Steam for Linux client\n- Steam Community discussions of the game\n- Steam Support FAQ\n\n"
    }
  ]
}