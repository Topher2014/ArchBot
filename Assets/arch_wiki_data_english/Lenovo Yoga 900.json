{
  "title": "Lenovo Yoga 900",
  "url": "https://wiki.archlinux.org/title/Lenovo_Yoga_900",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nGPU |  | Yes\nWi-Fi |  | Yes\nAudio |  | Yes\nTouchpad |  | Yes\nTouchscreen |  | Yes\nCamera |  | Yes\nCard Reader |  | Yes\nBluetooth |  | Yes\n\nThe Lenovo Yoga 900[dead link 2023-09-16 ⓘ] is a 2 in 1 laptop with a faux-3200x1800 RG/BW Pentile display.\n\nFor a general overview of laptop-related articles and recommendations, see Laptop.\n\nLenovo has released a BIOS (version 2UCN10T) for Yoga 900 13ISK2, in which Lenovo gives back the right for choosing RAID/AHCI mode to the users. Hence, 13ISK2 is edible for Linux now.\n\n"
    },
    {
      "title": "BIOS",
      "level": 3,
      "content": "Lenovo does not currently offer a BIOS update ISO image. This means you can only upgrade the BIOS from Windows 10.\n\n"
    },
    {
      "title": "Font Size",
      "level": 3,
      "content": "The console text is hard to read during install with this display, which renders in 3200x1800 resolution but omits part of the detail due to its incomplete (RG/BW) subpixel matrix. You can temporarily use a default larger font like sun12x22.\n\n```\nsetfont sun12x22\n```\n\nConsider installing the terminus-font package for access to even larger fonts and making it permanent with /etc/vconsole.conf (Linux console#Persistent configuration).\n\n"
    },
    {
      "title": "Wi-Fi",
      "level": 3,
      "content": "During install the wifi-menu may show no networks. This is caused by a soft-block. Using rfkill should fix the issue.\n\n```\nrfkill unblock all\n```\n\n"
    },
    {
      "title": "Keyboard",
      "level": 3,
      "content": "- BIOS has a setting to flip the behavior of the Fn key.\n- The status below is based on Gnome\n\nTable content:\nKey | Visible? | Working? | Effect\nFn+F1 | – | Yes | Audio mute/unmute\nFn+F2 | – | Yes | Audio volume down\nFn+F3 | – | Yes | Audio volume up\nFn+F4 | – | Yes | Close application\nFn+F5 | – | Yes | Refresh page\nFn+F6 | – | No | Disable Touchpad\nFn+F7 | – | Yes | Airplane mode\nFn+F8 | – | No | Display active apps\nFn+F9 | – | Yes | Turn off LCD\nFn+F10 | – | Yes | Toggle display\nFn+F11 | – | Yes | Dim LCD backlight\nFn+F12 | – | Yes | Brighten LCD backlight\nFn+Space | – | Yes | Toggle keyboard backlight\n\n"
    },
    {
      "title": "KVM",
      "level": 3,
      "content": "KVM can be enabled in the BIOS via the Intel Virtual Technology option.\n\n"
    },
    {
      "title": "HiDPI",
      "level": 3,
      "content": "See HiDPI.\n\n"
    },
    {
      "title": "Sensors",
      "level": 3,
      "content": "Install the iio-sensor-proxy to get the accelerometer and light sensor working\n\n"
    },
    {
      "title": "Card Reader",
      "level": 3,
      "content": "Initial testing shows the card read working fine out of the box. There are a few errors on boot that need more research.\n\nBoot message:\n\n```\nkernel: mmc0: Unknown controller version (3). You may experience problems.\n```\n\nInsert of card message:\n\n```\nkernel: sdhci: Timeout waiting for Buffer Read Ready interrupt during tuning procedure, falling back to fixed sampling clock\nkernel: mmc0: tuning execution failed\nkernel: mmc0: ddr50 tuning failed\n```\n\n"
    },
    {
      "title": "External Monitor",
      "level": 3,
      "content": "Several issues occur when trying to display on an external monitor. This laptop only has a display port over USBC-C, which requires dongles to connect to most monitors. Testing to a monitor with a display port connection has yielded the best result. Testing with HDMI and VGA dongles have revealed several issues. Often xrandr does not show a display connected. Rebooting with the monitor attached does not fix the issue. Sometimes running xrandr several times will show a connection.\n\nIf you try to force xrandr to display with the following:\n\n```\nxrandr --output eDP1 --auto --output DP1 --auto --right-of eDP1\n```\n\nSometimes you will see the following kernel message:\n\n```\nkernel: ------------[ cut here ]------------\n kernel: WARNING: CPU: 1 PID: 1253 at drivers/gpu/drm/i915/intel_pm.c:3553 skl_update_other_pipe_wm+0x177/0x180 [i915]()\n kernel: WARN_ON(!wm_changed)\n kernel: Modules linked in:\n kernel:  ccm snd_hda_codec_hdmi deflate ctr twofish_generic twofish_avx_x86_64 twofish_x86_64_3way twofish_x86_64 twofish_\n kernel:  hid_rmi ax88179_178a usbnet mii iwlmvm mac80211 snd_soc_skl snd_soc_skl_ipc i2c_designware_platform i2c_designwar\n kernel:  fan i2c_hid thermal wmi battery bluetooth intel_hid int3400_thermal rfkill pinctrl_sunrisepoint pinctrl_intel int\n kernel: \n kernel: CPU: 1 PID: 1253 Comm: Xorg Tainted: G     U  W  O    4.5.2-1-ARCH #1\n kernel: Hardware name: LENOVO 80MK/VIUU4, BIOS C6CN35WW 12/17/2015\n kernel:  0000000000000286 000000000f1007b6 ffff88044bf4f918 ffffffff812dad91\n kernel:  ffff88044bf4f960 ffffffffa01b8d20 ffff88044bf4f950 ffffffff81078e52\n kernel:  ffff8804604ec000 ffff88044bf4f9dc ffff88045d629bd4 ffff8804604eb000\n kernel: Call Trace:\n kernel:  [<ffffffff812dad91>] dump_stack+0x63/0x82\n kernel:  [<ffffffff81078e52>] warn_slowpath_common+0x82/0xc0\n kernel:  [<ffffffff81078eec>] warn_slowpath_fmt+0x5c/0x80\n kernel:  [<ffffffffa00e77c7>] skl_update_other_pipe_wm+0x177/0x180 [i915]\n kernel:  [<ffffffffa00e795e>] skl_update_wm+0x18e/0x5f0 [i915]\n kernel:  [<ffffffffa01725ff>] ? intel_ddi_enable_transcoder_func+0x17f/0x260 [i915]\n kernel:  [<ffffffffa00eb06e>] intel_update_watermarks+0x1e/0x30 [i915]\n kernel:  [<ffffffffa0155e61>] haswell_crtc_enable+0x321/0x8c0 [i915]\n kernel:  [<ffffffffa0151777>] intel_atomic_commit+0x737/0x1870 [i915]\n kernel:  [<ffffffffa0020581>] ? drm_atomic_check_only+0x181/0x600 [drm]\n kernel:  [<ffffffffa0020a37>] drm_atomic_commit+0x37/0x60 [drm]\n kernel:  [<ffffffffa00908b6>] drm_atomic_helper_set_config+0x76/0xb0 [drm_kms_helper]\n kernel:  [<ffffffffa000f1b2>] drm_mode_set_config_internal+0x62/0x100 [drm]\n kernel:  [<ffffffffa00142c0>] drm_mode_setcrtc+0x3e0/0x500 [drm]\n kernel:  [<ffffffffa0005892>] drm_ioctl+0x152/0x540 [drm]\n kernel:  [<ffffffffa0013ee0>] ? drm_mode_setplane+0x1b0/0x1b0 [drm]\n kernel:  [<ffffffff811ece7c>] ? __vfs_write+0xcc/0x100\n kernel:  [<ffffffff811ffdd1>] do_vfs_ioctl+0xa1/0x5b0\n kernel:  [<ffffffff81084df1>] ? __set_task_blocked+0x41/0xa0\n kernel:  [<ffffffff8120a1f7>] ? __fget+0x77/0xb0\n kernel:  [<ffffffff81200359>] SyS_ioctl+0x79/0x90\n kernel:  [<ffffffff8108793e>] ? SyS_rt_sigprocmask+0x8e/0xc0\n kernel:  [<ffffffff815b0b6e>] entry_SYSCALL_64_fastpath+0x12/0x6d\n kernel: ---[ end trace 4d86447ef15dd94e ]---\n```\n\n"
    },
    {
      "title": "Toggle Trackpad",
      "level": 3,
      "content": "The trackpad key (F6) is not mapped correctly to toggle the trackpad. Using UDEV to Map scancodes to keycodes will restore this function. This is a custom hwdb file to restore the feature.\n\n```\n# Lenovo YOGA 900-13ISK\nevdev:atkbd:dmi:bvn*:bvr*:bd*:svnLENOVO*:pn*:pvrLenovoYOGA900*\n KEYBOARD_KEY_bf=f21                                   # Fn+F6 Disable Touchpad\n```\n\nDepending of the exact model, the scancode can vary. If this not work, try KEYBOARD_KEY_be=f21 or use evtest as explained in Map scancodes to keycodes to get the scancode.\n\n"
    },
    {
      "title": "Screen Rotation",
      "level": 3,
      "content": "When you first boot the screen rotation may not work. A bug currently requires you to suspend and resume the laptop before the screen will rotate using the iio-sensor-proxy package.\n\n"
    },
    {
      "title": "Light Sensor",
      "level": 3,
      "content": "When you first boot the light sensor for automatic screen brightness may not work. A bug currently requires you to suspend and resume the laptop before the light sensor will work using the iio-sensor-proxy package.\n\n"
    }
  ]
}