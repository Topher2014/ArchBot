{
  "title": "TT-RSS",
  "url": "https://wiki.archlinux.org/title/TT-RSS",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Tiny Tiny RSS is an open source web-based news feed (RSS/Atom) aggregator, designed to allow you to read news from any location, while feeling as close to a real desktop application as possible.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install the tt-rss package.\n\nIf you plan on using PostgreSQL, install php-pgsql.\n\ntt-rss is installed into /usr/share/webapps/tt-rss/. You will need to make this directory available from your web server. The simplest way is to do:\n\n- With Apache HTTP Server :\n\n```\n# ln -s /usr/share/webapps/tt-rss /srv/http/tt-rss\n```\n\n- With Nginx :\n\n```\n# ln -s /usr/share/webapps/tt-rss /usr/share/nginx/html/tt-rss\n```\n\nYou will need to recursively chown /usr/share/webapps/tt-rss to http:http.\n\n"
    },
    {
      "title": "Set up PHP and database",
      "level": 3,
      "content": "You will need to set up a database, either MySQL or PostgreSQL.\n\nCreate a ttrss user and database. In MySQL, for example:\n\n```\n$ mysql -p -u root\nmysql> CREATE USER 'ttrss'@'localhost' IDENTIFIED BY 'somepassword';\nmysql> CREATE DATABASE ttrss;\nmysql> GRANT ALL PRIVILEGES ON ttrss.* TO \"ttrss\"@\"localhost\" IDENTIFIED BY 'somepassword';\n```\n\nOr in PostgreSQL, for example:\n\n```\n[postgres]$ createuser --createdb ttrss\n[postgres]$ createdb -U ttrss ttrss\n```\n\nIn /etc/php/php.ini, enable the following modules:\n\n```\nextension=curl\nextension=iconv\nextension=intl\nextension=mysqli ; for MySQL\nextension=pdo_mysql ; for MySQL\nextension=pdo_pgsql ; for PostgreSQL\nextension=pgsql ; for legacy PostgreSQL plugins (still required by default)\nextension=soap\n```\n\nIf open_basedir is set in /etc/php/php.ini (it is not by default), add /var/lib/tt-rss:/usr/share/webapps/tt-rss:/etc/webapps/tt-rss to it.\n\nApplication initialization can be done either automatically or manually.\n\nAutomatic way:\n\n- remove default configuration file /etc/webapps/tt-rss/config.php, without this file tt-rss webapp enters installation wizard.\n- navigate to (your-servers-root)/tt-rss/ and proceed with the installer.\n- save generated configuration file to /etc/webapps/tt-rss/config.php.\n\nManual way:\n\n- edit tt-rss configuration file /etc/webapps/tt-rss/config.php and update database settings.\n- re-create database from /usr/share/webapps/tt-rss/sql/TYPE/schema.sql. With MySQL run:\n\n```\n$ mysql --user ttrss --password=<PASSWORD> ttrss < /usr/share/webapps/tt-rss/sql/mysql/schema.sql\n```\n\nWith PostgreSQL run:\n\n```\n$ psql ttrss -U ttrss -f /usr/share/webapps/tt-rss/sql/pgsql/schema.sql\n```\n\nAt the end the /etc/webapps/tt-rss/config.php file will look like this:\n\n```\n<?php\n putenv('TTRSS_DB_TYPE=mysql');\n putenv('TTRSS_DB_HOST=localhost');\n putenv('TTRSS_DB_USER=ttrss');\n putenv('TTRSS_DB_NAME=ttrss');\n putenv('TTRSS_DB_PASS=foobar');\n putenv('TTRSS_SELF_URL_PATH=http://myserver/tt-rss/');\n```\n\n"
    },
    {
      "title": "FastCGI",
      "level": 3,
      "content": "Install and configure FastCGI for your server\n\n"
    },
    {
      "title": "Pacman hook",
      "level": 3,
      "content": "To do tt-rss database upgrades automatically you may set up pacman post upgrade hook based on following example:\n\n```\n[Trigger]\nOperation = Install\nOperation = Upgrade\nType = Package\nTarget = tt-rss\n\n[Action]\nDescription = Updating TT-RSS Database\nWhen = PostTransaction\nExec = /usr/bin/runuser -u http -- /usr/bin/php /usr/share/webapps/tt-rss/update.php --update-schema=force-yes\n```\n\nYou need to put it into /etc/pacman.d/hooks/tt-rss.hook if you did not customize HookDir in pacman.conf.\n\nSee also Pacman#Hooks\n\n"
    },
    {
      "title": "Set up an update daemon",
      "level": 3,
      "content": "See https://tt-rss.org/wiki/UpdatingFeeds—however, simply enabling the tt-rss service should suffice. Check the service's unit status to verify that it is running fine.\n\n"
    },
    {
      "title": "Integrity constraint violation: 1062 Duplicate entry '1' for key 'ttrss_feeds_feed_url_owner_uid_key'",
      "level": 3,
      "content": "If you update tt-rss database to schema 137 you might see the error Duplicate entry '1' for key 'ttrss_feeds_feed_url_owner_uid_key'. To fix the issue please start database shell, e.g.:\n\n```\n$ mysql -u ttrss -p\n$ use tt-rss;\n```\n\nAnd then run query from official forum that drops duplicated database entries.\n\n"
    },
    {
      "title": "PHP UConverter class is missing, it's provided by the Internationalization (intl) module.",
      "level": 3,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nIf you see this error after upgrading tt-rss, add extension=intl to /etc/php/php.ini and restart the php-fpm service.\n\n"
    }
  ]
}