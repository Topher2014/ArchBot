{
  "title": "PhpPgAdmin",
  "url": "https://wiki.archlinux.org/title/PhpPgAdmin",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- PostgreSQL\n\nphpPgAdmin is a web-based tool to help manage PostgreSQL databases using an PHP frontend.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "PhpPgAdmin requires a web server with PHP, such as Apache. To set it up, see Apache HTTP Server and Apache HTTP Server#PHP.\n\nInstall the phppgadminAUR package.\n\n"
    },
    {
      "title": "PHP",
      "level": 3,
      "content": "You need to enable the pgsql extension in PHP by editing /etc/php/php.ini and uncommenting the following line:\n\n```\nextension=pgsql\n```\n\nYou need to make sure that PHP can access /etc/webapps. Add it to open_basedir in /etc/php/php.ini if necessary:\n\n```\nopen_basedir = /srv/http/:/home/:/tmp/:/usr/share/pear/:/usr/share/webapps/:/etc/webapps\n```\n\n"
    },
    {
      "title": "Apache",
      "level": 4,
      "content": "Create the Apache configuration file:\n\n```\n/etc/httpd/conf/extra/phppgadmin.conf\n```\n\n```\nAlias /phppgadmin \"/usr/share/webapps/phppgadmin\"\n<Directory \"/usr/share/webapps/phppgadmin\">\n    DirectoryIndex index.php\n    AllowOverride All\n    Options FollowSymlinks\n    Require all granted\n\n    # phppgadmin raises deprecated warnings that lead\n    # to parsing errors in JS\n    #php_flag display_startup_errors off\n    #php_flag display_errors off\n    #php_flag html_errors off\n</Directory>\n```\n\nAnd include it in /etc/httpd/conf/httpd.conf:\n\n```\n# phpPgAdmin configuration\nInclude conf/extra/phppgadmin.conf\n```\n\nYou also need to connect php7:\n\n```\nInclude conf/extra/php7_module.conf\nLoadModule php7_module modules/libphp7.so\n```\n\nBy default, everyone can see the phpPgAdmin page, to change this, edit /etc/httpd/conf/extra/phppgadmin.conf to your liking. For example, if you only want to be able to access it from the same machine, replace Require all granted by Require local.\n\n"
    },
    {
      "title": "Lighttpd",
      "level": 4,
      "content": "The php setup for lighttpd is exactly the same as for apache. Make an alias for phppgadmin in your lighttpd config.\n\n```\nalias.url = ( \"/phppgadmin\" => \"/usr/share/webapps/phppgadmin/\")\n```\n\nThen enable mod_alias, mod_fastcgi and mod_cgi in your config ( server.modules section )\n\nMake sure lighttpd is setup to serve php files, Lighttpd#FastCGI\n\nRestart lighttpd and browse to http://localhost/phppgadmin/index.php\n\n"
    },
    {
      "title": "nginx",
      "level": 4,
      "content": "Make sure to set up nginx#FastCGI with separate configuration file for PHP as shown in nginx#nginx configuration.\n\nUsing this method, you will access PhpPgAdmin as phppgadmin.<domain>.\n\nYou can setup a sub domain (or domain) with a server block such as:\n\n```\nserver {\n    server_name     phppgadmin.<domain.tld>;\n    root    /usr/share/webapps/phppgadmin;\n    index   index.php;\n    include php.conf;\n}\n```\n\n"
    },
    {
      "title": "phpPgAdmin configuration",
      "level": 3,
      "content": "phpPgAdmin's configuration file is located at /etc/webapps/phppgadmin/config.inc.php.\n\nIf your PostgreSQL server is on the localhost, you may need to edit the following line:\n\n```\n$conf['servers'][0]['host'] = ;\n```\n\nto\n\n```\n$conf['servers'][0]['host'] = 'localhost';\n```\n\n"
    },
    {
      "title": "Accessing your phpPgAdmin installation",
      "level": 2,
      "content": "Your phpPgAdmin installation is now complete. Before start using it you need to restart your apache server by restarting httpd.service.\n\nYou can access your phpPgAdmin installation by going to http://localhost/phppgadmin/\n\n"
    },
    {
      "title": "Login disallowed for security reasons",
      "level": 3,
      "content": "If extra login security is true, then logins via phpPgAdmin with no password or certain usernames (pgsql, postgres, root, administrator) will be denied. Only set this to false once you have read the FAQ and understand how to change PostgreSQL's pg_hba.conf to enable passworded local connections.\n\nEdit /etc/webapps/phppgadmin/config.inc.php and change the following line:\n\n```\n$conf['extra_login_security'] = true;\n```\n\nto:\n\n```\n$conf['extra_login_security'] = false;\n```\n\nThen restart postgresql.service.\n\n"
    }
  ]
}