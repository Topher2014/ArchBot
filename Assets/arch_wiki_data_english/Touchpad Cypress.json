{
  "title": "Touchpad Cypress",
  "url": "https://wiki.archlinux.org/title/Touchpad_Cypress",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- Xorg\n\nThis article details the installation and configuration process of the Synaptics input driver for Synaptics (and ALPS) touchpads found on most notebooks.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "The Synaptics driver can be installed with the package xf86-input-synaptics.\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "The primary method of configuration for the touchpad is through an Xorg server configuration file. After installing xf86-input-synaptics, a default configuration file is located at /usr/share/X11/xorg.conf.d/70-synaptics.conf. Users can copy this file to /etc/X11/xorg.conf.d/ and edit it to configure the various driver options available. Refer to the synaptics(4) manual page for a complete list of available options. Machine-specific options can be discovered using #Synclient.\n\n"
    },
    {
      "title": "Frequently used options",
      "level": 3,
      "content": "The following example file configures some common options, including vertical, horizontal and circular scrolling as well as tap-to-click:\n\n```\n/etc/X11/xorg.conf.d/70-synaptics.conf\n```\n\n```\nSection \"InputClass\"\n    Identifier \"touchpad\"\n    Driver \"synaptics\"\n    MatchIsTouchpad \"on\"\n        Option \"TapButton1\" \"1\"\n        Option \"TapButton2\" \"3\"\n        Option \"TapButton3\" \"2\"\n        Option \"VertEdgeScroll\" \"on\"\n        Option \"VertTwoFingerScroll\" \"on\"\n        Option \"HorizEdgeScroll\" \"on\"\n        Option \"HorizTwoFingerScroll\" \"on\"\n        Option \"CircularScrolling\" \"on\"\n        Option \"CircScrollTrigger\" \"2\"\n        Option \"EmulateTwoFingerMinZ\" \"40\"\n        Option \"EmulateTwoFingerMinW\" \"8\"\n        Option \"CoastingSpeed\" \"0\"\n        Option \"FingerLow\" \"30\"\n        Option \"FingerHigh\" \"50\"\n        Option \"MaxTapTime\" \"125\"\n        ...\nEndSection\n```\n\n- If you find that your hand frequently brushes your touchpad, causing the TapButton2 option to be triggered (which will more than likely paste from your clipboard), and you do not mind losing two-finger-tap functionality, set TapButton2 to 0. Alternatively, see #Disable touchpad while typing.\n- Recent versions include a \"Coasting\" feature, enabled by default, which may have the undesired effect of continuing almost any scrolling until the next tap or click, even if you are no longer touching the touchpad. This means that to scroll just a bit, you need to scroll (by using the edge, or a multitouch option) and then almost immediately tap the touchpad, otherwise scrolling will continue forever. If wish to avoid this, set CoastingSpeed to 0.\n- If your touchpad is too sensitive, use higher values for FingerLow and FingerHigh and vice versa. Remember that FingerLow should be smaller than FingerHigh\n\n"
    },
    {
      "title": "Configuration on the fly",
      "level": 3,
      "content": "Next to the traditional method of configuration, the Synaptics driver also supports on the fly configuration. This means that users can set certain options through a software application, these options are applied immediately without needing to restart Xorg. This is useful to test configuration options before you include them in the configuration file or a script. Note that on the fly configuration is not persistent and lasts only until the Xorg server exists.\n\n"
    },
    {
      "title": "Console tools",
      "level": 4,
      "content": "- Synclient — command line utility to configure and query Synaptics driver settings.\n\n- xinput — general-purpose utility to configure X input devices.\n\n"
    },
    {
      "title": "Graphical tools",
      "level": 4,
      "content": "- GPointing Device Settings — Provides graphical on the fly configuration for several pointing devices connected to the system, including your synaptics touch pad. This application replaces GSynaptics as the preferred tool for graphical touchpad configuration through the synaptics driver.\n\n- kcm_touchpad — New configuration tool for KDE Plasma 5. It provides a module under input devices in System Settings. It is to be considered a replacement for synaptiks and the old kcm-touchpad module.\n\n"
    },
    {
      "title": "Xfce",
      "level": 3,
      "content": "To change these settings in Xfce:\n\n1. Open System Settings.\n1. Click Mouse and Touchpad.\n1. Change the settings on the Touchpad tab.\n\n"
    },
    {
      "title": "Cinnamon",
      "level": 3,
      "content": "To change these settings in Cinnamon:\n\n1. Open Cinnamon System Settings.\n1. Click Mouse and Touchpad.\n1. Change the settings on the Touchpad tab.\n\n"
    },
    {
      "title": "MATE",
      "level": 3,
      "content": "It is possible to configure the way MATE handles the touchpad:\n\n1. Run dconf-editor.\n1. Edit the keys in the org.mate.desktop.peripherals.touchpad folder.\n\nTo prevent Mate settings daemon from overriding existing settings, do as follows:\n\n1. Run dconf-editor.\n1. Edit org.mate.SettingsDaemon.plugins.mouse.\n1. Uncheck the active setting.\n\n"
    },
    {
      "title": "Using xinput to determine touchpad capabilities",
      "level": 3,
      "content": "Depending on your model, synaptic touchpads may have or lack capabilities. We can determine which capabilities your hardware supports by using xinput(1).\n\n- left, middle and right hardware buttons\n- two finger detection\n- three finger detection\n- configurable resolution\n\nFirst, find the name of your touchpad:\n\n```\n$ xinput list\n```\n\nYou can now use xinput to find your touchpad's capabilities:\n\n```\n$ xinput list-props \"SynPS/2 Synaptics TouchPad\" | grep Capabilities\n```\n\n```\nSynaptics Capabilities (309):  1, 0, 1, 0, 0, 1, 1\n```\n\nFrom left to right, this shows:\n\n- 1: device has a physical left button\n- 0: device does not have a physical middle button\n- 1: device has a physical right button\n- 0: device does not support two-finger detection\n- 0: device does not support three-finger detection\n- 1: device can configure vertical resolution\n- 1: device can configure horizontal resolution\n\nUse xinput list-props \"SynPS/2 Synaptics TouchPad\" to list all device properties. See synaptics(4) for full documentation of the Synaptics properties.\n\n"
    },
    {
      "title": "Synclient",
      "level": 3,
      "content": "Synclient can configure every option available to the user as documented in synaptics(4). A full list of the current user settings can be brought up:\n\n```\n$ synclient -l\n```\n\nEvery listed configuration option can be controlled through synclient, for example:\n\n- Enable palm detection:\n\n```\n$ synclient PalmDetect=1\n```\n\n- Configure button events (right button event for two finger tap here):\n\n```\n$ synclient TapButton2=3\n```\n\n- Disable the touchpad:\n\n```\n$ synclient TouchpadOff=1\n```\n\nAfter you have successfully tried and tested your options through synclient, you can make these changes permanent by adding them to /etc/X11/xorg.conf.d/70-synaptics.conf.\n\n"
    },
    {
      "title": "evtest",
      "level": 3,
      "content": "The tool evtest can display pressure and placement on the touchpad in real-time, allowing further refinement of the default Synaptics settings. The evtest monitoring can be started with:\n\n```\n$ evtest /dev/input/eventX\n```\n\nX denotes the touchpad's ID. It can be found by looking at the output of cat /proc/bus/input/devices.\n\nevtest needs exclusive access to the device which means it cannot be run together with an X server instance. You can either kill the X server or run evtest from a different virtual terminal (e.g., by pressing Ctrl+Alt+F2).\n\n"
    },
    {
      "title": "xev",
      "level": 3,
      "content": "The tool xorg-xev can display taps, clicks, pressure, placement and other measured parameters in real-time, allowing still further refinement of the default Synaptics settings. xev can be run in X and needs no specifics. using the -event parameter, it is possible to restrict the types of events that are reported.\n\n"
    },
    {
      "title": "Circular scrolling",
      "level": 3,
      "content": "Circular scrolling is a feature that Synaptics offers which closely resembles the behaviour of iPods. Instead of (or additional to) scrolling horizontally or vertically, you can scroll circularly. Some users find this faster and more precise. To enable circular scrolling, add the following options to the touchpad device section of /etc/X11/xorg.conf.d/70-synaptics.conf:\n\n```\n/etc/X11/xorg.conf.d/70-synaptics.conf\n```\n\n```\nSection \"InputClass\"\n    ...\n    Option      \"CircularScrolling\"          \"on\"\n    Option      \"CircScrollTrigger\"          \"0\"\n    ...\nEndSection\n```\n\nThe option CircScrollTrigger may be one of the following values, determining which edge circular scrolling should start:\n\n```\n0    All Edges\n1    Top Edge\n2    Top Right Corner\n3    Right Edge\n4    Bottom Right Corner\n5    Bottom Edge\n6    Bottom Left Corner\n7    Left Edge\n8    Top Left Corner\n```\n\nSpecifying something different from zero may be useful if you want to use circular scrolling in conjunction with horizontal and/or vertical scrolling. If you do so, the type of scrolling is determined by the edge you start from.\n\nTo scroll fast, draw small circles in the center of your touchpad. To scroll slowly and more precise, draw large circles.\n\n"
    },
    {
      "title": "Natural scrolling",
      "level": 3,
      "content": "It is possible to enable natural scrolling through Synaptics. Simply use negative values for VertScrollDelta and HorizScrollDelta like so:\n\n```\n/etc/X11/xorg.conf.d/70-synaptics.conf\n```\n\n```\nSection \"InputClass\"\n    ...\n    Option      \"VertScrollDelta\"          \"-111\"\n    Option      \"HorizScrollDelta\"         \"-111\"\n    ...\nEndSection\n```\n\n"
    },
    {
      "title": "Software toggle",
      "level": 3,
      "content": "You might want to turn the touchpad on and off with a simple button click or shortcut. This can be done by binding the following xinput-based script:\n\n```\n/usr/local/bin/touchpad_toggle.sh\n```\n\n```\n#!/bin/bash\n\ndeclare -i ID\nID=$(xinput list | grep -Eio '(touchpad|glidepoint)\\s*id=[0-9]{1,2}' | grep -Eo '[0-9]{1,2}')\ndeclare -i STATE\nSTATE=$(xinput list-props \"$ID\" | grep 'Device Enabled' | awk '{print $4}')\nif [ \"$STATE\" -eq 1 ]\nthen\n    xinput disable \"$ID\"\n    # echo \"Touchpad disabled.\"\n    # notify-send -a 'Touchpad' 'Touchpad Disabled' -i input-touchpad\nelse\n    xinput enable \"$ID\"\n    # echo \"Touchpad enabled.\"\n    # notify-send -a 'Touchpad' 'Touchpad Enabled' -i input-touchpad\nfi\n```\n\nAlternatively, synclient can be used to toggle the touchpad. However, it can only turn off touch events but not physical clickpad button usage:\n\n```\n/usr/local/bin/touchpad.sh\n```\n\n```\n#!/bin/bash\n\nsynclient TouchpadOff=$(synclient -l | grep -c 'TouchpadOff.*=.*0')\n```\n\n"
    },
    {
      "title": "Using the driver's automatic palm detection",
      "level": 4,
      "content": "First of all you should test if it works properly for your touchpad and if the settings are accurate. Enable palm detection with\n\n```\n$ synclient PalmDetect=1\n```\n\nThen test the typing. You can tweak the detection by setting the minimum width for the touch to be considered a palm, for example:\n\n```\n$ synclient PalmMinWidth=8\n```\n\nAnd you can tweak the minimum pressure required for the touch to be considered a palm, for example:\n\n```\n$ synclient PalmMinZ=100\n```\n\nOnce you have found the correct settings, you can add them to your config file:\n\n```\nOption \"PalmDetect\" \"1\"\nOption \"PalmMinWidth\" \"8\"\nOption \"PalmMinZ\" \"100\"\n```\n\n"
    },
    {
      "title": "Using syndaemon",
      "level": 4,
      "content": "syndaemon(1) monitors keyboard activity and disables the touchpad while typing. It has several options to control when the disabling occurs. View them with\n\n```\n$ syndaemon -?\n```\n\nFor example, to disable tapping and scrolling for 0.5 seconds after each keypress (ignoring modifier keys like Ctrl), use\n\n```\n$ syndaemon -i 0.5 -t -K -R\n```\n\nOnce you have determined the options you like, you should use your login manager or xinitrc to have it run automatically when X starts. The -d option will make it start in the background as a daemon.\n\n"
    },
    {
      "title": "Disable touchpad on mouse detection",
      "level": 3,
      "content": "With the assistance of udev, it is possible to automatically disable the touchpad if an external mouse has been plugged in. To achieve this, use one of the following rules.\n\n"
    },
    {
      "title": "Basic desktop",
      "level": 4,
      "content": "This is a basic rule generally for non-\"desktop environment\" sessions:\n\n```\n/etc/udev/rules.d/01-touchpad.rules\n```\n\n```\nSUBSYSTEM==\"input\", KERNEL==\"mouse[0-9]*\", ACTION==\"add\", ENV{DISPLAY}=\":0\", ENV{XAUTHORITY}=\"/home/username/.Xauthority\", RUN+=\"/usr/bin/synclient TouchpadOff=1\"\nSUBSYSTEM==\"input\", KERNEL==\"mouse[0-9]*\", ACTION==\"remove\", ENV{DISPLAY}=\":0\", ENV{XAUTHORITY}=\"/home/username/.Xauthority\", RUN+=\"/usr/bin/synclient TouchpadOff=0\"\n```\n\nIf the touchpad is always deactivated at startup, even when no mouse is plugged in, try adding the following criteria between the KERNEL and ACTION parameters above:\n\n```\nATTRS{name}!=\"*TouchPad\", ATTRS{name}!=\"*Stick\",\n```\n\n"
    },
    {
      "title": "GDM",
      "level": 4,
      "content": "Note: **This article or section is out of date.** This article or section is out of date.\n\nThis article or section is out of date.\n\nGDM stores the Xauthority files in /var/run/gdm in a randomly-named directory. You should find your actual path to the Xauthority file which can be done using ps ax. For some reason, multiple authority files may appear for a user, so a rule like this will be necessary:\n\n```\n/etc/udev/rules.d/01-touchpad.rules\n```\n\n```\nSUBSYSTEM==\"input\", KERNEL==\"mouse[0-9]\", ACTION==\"add\", PROGRAM=\"/usr/bin/find /var/run/gdm -name username -print0 -quit\", ENV{DISPLAY}=\":0\", ENV{XAUTHORITY}=\"$result/database\", RUN+=\"/usr/bin/synclient TouchpadOff=1\"\nSUBSYSTEM==\"input\", KERNEL==\"mouse[0-9]\", ACTION==\"remove\", PROGRAM=\"/usr/bin/find /var/run/gdm -name username -print0 -quit\", ENV{DISPLAY}=\":0\", ENV{XAUTHORITY}=\"$result/database\", RUN+=\"/usr/bin/synclient TouchpadOff=0\"\n```\n\nFurthermore, you should validate that your udev script is running properly. You can check for the conditions by running udevadm monitor -p with root privileges.\n\nsyndaemon whether started by the user or the desktop environment can conflict with synclient and will need to be disabled. A rule like this will be needed:\n\n```\n/etc/udev/rules.d/01-touchpad.rules\n```\n\n```\nSUBSYSTEM==\"input\", KERNEL==\"mouse[0-9]\", ACTION==\"add\", PROGRAM=\"/usr/bin/find /var/run/gdm -name username -print -quit\", ENV{DISPLAY}=\":0\", ENV{XAUTHORITY}=\"$result/database\", RUN+=\"/bin/sh -c '/usr/bin/synclient TouchpadOff=1 ; sleep 1; /bin/killall syndaemon; '\"\n```\n\nNote: **This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.** This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nThis article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nA touchpad-state-gitAUR package created around the udev rules in #With syndaemon running is available. It includes a udev rule and script:\n\n```\ntouchpad-state [--off] [--on]\n```\n\n"
    },
    {
      "title": "GNOME",
      "level": 4,
      "content": "GNOME users can install the GNOME shell extension Touchpad Indicator, change Switch Method to Synclient and enable Automatically switch Touchpad On/Off in its preferences.\n\n"
    },
    {
      "title": "KDE",
      "level": 4,
      "content": "If using Plasma, the plasma-desktop package can be used to manage the touchpad.\n\n"
    },
    {
      "title": "System with multiple X sessions",
      "level": 4,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nFor an environment where multiple users are present, a slightly different approach is needed to detect the current users X environment. This script will help achieving this:\n\n```\n/usr/bin/mouse-pnp-event-handler.sh\n```\n\n```\n#!/bin/sh\n## $1 = \"add\" / \"remove\"\n## $2 = %k from udev\n\n## Set TRACKPAD_NAME according to your configuration.\n## Check your trackpad name with:\n## find /sys/class/input/ -name mouse* -exec udevadm info -a {} \\; | grep 'ATTRS{name}'\nTRACKPAD_NAME=\"SynPS/2 Synaptics TouchPad\"\n\nUSERLIST=$(w -h | cut -d' ' -f1 | sort | uniq)\nMOUSELIST=$(find /sys/class/input/ -name mouse*)\n\nfor CUR_USER in ${USERLIST}; do\n        CUR_USER_XAUTH=\"$(sudo -Hiu ${CUR_USER} env | grep -e \"^HOME=\" | cut -d'=' -f2)/.Xauthority\"\n\n        ## Can't find a way to get another users DISPLAY variable from an isolated root environment. Have to set it manually.\n        #CUR_USER_DISPL=\"$(sudo -Hiu ${CUR_USER} env | grep -e \"^DISPLAY=\" | cut -d'=' -f2)\"\n        CUR_USER_DISPL=\":0\"\n\n        export XAUTHORITY=\"${CUR_USER_XAUTH}\"\n        export DISPLAY=\"${CUR_USER_DISPL}\"\n\n        if [ -f \"${CUR_USER_XAUTH}\" ]; then\n                case \"$1\" in\n                        \"add\")\n                                /usr/bin/synclient TouchpadOff=1\n                                /usr/bin/logger \"USB mouse plugged. Disabling touchpad for $CUR_USER. ($XAUTHORITY - $DISPLAY)\"\n                        ;;\n                        \"remove\")\n                                ## Only execute synclient if there are no external USB mice connected to the system.\n                                EXT_MOUSE_FOUND=\"0\"\n                                for CUR_MOUSE in ${MOUSELIST}; do\n                                        if [ \"$(cat ${CUR_MOUSE}/device/name)\" != \"${TRACKPAD_NAME}\" ]; then\n                                                EXT_MOUSE_FOUND=\"1\"\n                                        fi\n                                done\n                                if [ \"${EXT_MOUSE_FOUND}\" == \"0\" ]; then\n                                        /usr/bin/synclient TouchpadOff=0\n                                        /usr/bin/logger \"No additional external mice found. Enabling touchpad for $CUR_USER.\"\n                                else\n                                        logger \"Additional external mice found. Won't enable touchpad yet for $CUR_USER.\"\n                                fi\n                        ;;\n                esac\n        fi\ndone\n```\n\nUpdate the TRACKPAD_NAME variable for your system configuration. Run find /sys/class/input/ -name mouse* -exec udevadm info -a {} \\; | grep 'ATTRS{name}' to get a list of useful mice-names. Choose the one for your trackpad.\n\nThen have udev run this script when USB mices are plugged in or out, with these udev rules:\n\n```\n/etc/udev/rules.d/01-touchpad.rules\n```\n\n```\nSUBSYSTEM==\"input\", KERNEL==\"mouse[0-9]*\", ACTION==\"add\", RUN+=\"/usr/bin/mouse-pnp-event-handler.sh add %k\"\nSUBSYSTEM==\"input\", KERNEL==\"mouse[0-9]*\", ACTION==\"remove\", RUN+=\"/usr/bin/mouse-pnp-event-handler.sh remove %k\"\n```\n\n"
    },
    {
      "title": "Buttonless touchpads (aka ClickPads)",
      "level": 3,
      "content": "Ever more laptops have a special kind of touchpad which has a single mouse button as part of the tracking plate, instead of external buttons. For example, the 2015 Dell XPS 13, HP series 4500 ProBooks, ThinkPad X220 and X1 ThinkPad series have this kind of a touchpad. By default, the whole button area is detected as a left button, so right and middle-click functions and click + drag will not work. It is possible to define two and three finger clicks as right and middle button clicks, and/or to define parts of the click pad surface as right and middle buttons. Note that although the driver registers multiple touches, it does not track individual fingers (as of version 1.7.1) which results in confusing behavior when using physical buttons of a clickpad for drag-and-drop and other gestures: you have to click with two or three fingers but then only move one of them while holding the button down with another. You can look into the xf86-input-mtrackAUR driver for better multitouch support.\n\nSome desktop environments (KDE and GNOME at least) define sane and useful default configurations for clickpads, providing a right button at the bottom right of the pad, recognising two and three-finger clicks anywhere on the pad as right and middle clicks, and providing configuration options to define two and three-finger taps as right and middle clicks. If your desktop does not do this, or if you want more control, you can modify the touchpad section in /etc/X11/xorg.conf.d/70-synaptics.conf (or better, of your custom synaptics configuration file prefixed with a higher number). For example:\n\n```\n/etc/X11/xorg.conf.d/70-synaptics.conf\n```\n\n```\nSection \"InputClass\"\n    Identifier \"touchpad\"\n    Driver \"synaptics\"\n    MatchIsTouchpad \"on\"\n        # Enable clickpad/multitouch support\n        Option \"ClickPad\" \"true\"\n        # Middle-button emulation is not supported\n        Option \"EmulateMidButtonTime\" \"0\"\n        # Define right soft button at the bottom\n        Option \"SoftButtonAreas\"  \"50% 0 82% 0 0 0 0 0\"\nEndSection\n```\n\nThe format for the SoftButtonAreas option is (from synaptics(4)):\n\n```\nRightButtonAreaLeft RightButtonAreaRight RightButtonAreaTop RightButtonAreaBottom MiddleButtonAreaLeft MiddleButtonAreaRight MiddleButtonAreaTop MiddleButtonAreaBottom\n```\n\nThe above SoftButtonAreas option is commonly found in documentation or synaptics packages, and it defines the right half of the bottom 18% of the touchpad as a right button. There is no middle button defined. If you want to define a middle button remember one key piece of information from the manual; edge set to 0 extends to infinity in that direction.\n\nIn the following example the right button will occupy the rightmost 40% of the button area and the middle button 20% of it in the center. The leftmost 40% remains as a left button (as does the rest of the clickpad):\n\n```\n...\nOption     \"SoftButtonAreas\"  \"60% 0 82% 0 40% 59% 82% 0\"\n...\n```\n\nYou can use synclient to check the soft button areas:\n\n```\n$ synclient -l | grep -i ButtonArea\n```\n\n```\nRightButtonAreaLeft     = 3914\n        RightButtonAreaRight    = 0\n        RightButtonAreaTop      = 3918\n        RightButtonAreaBottom   = 0\n        MiddleButtonAreaLeft    = 3100\n        MiddleButtonAreaRight   = 3873\n        MiddleButtonAreaTop     = 3918\n        MiddleButtonAreaBottom  = 0\n```\n\nIf your buttons are not working, soft button areas are not changing, ensure you do not have a synaptics configuration file distributed by a package which is overriding your custom settings (i.e. some AUR packages distribute configurations prefixed with very high numbers).\n\nThese settings cannot be modified on the fly with synclient, however, xinput works:\n\n```\nxinput set-prop \"SynPS/2 Synaptics TouchPad\" \"Synaptics Soft Button Areas\" 4000 0 4063 0 3000 4000 4063 0\n```\n\nYou cannot use percentages with this command, so look at /var/log/Xorg.0.log to figure out the touchpad x and y-axis ranges.\n\n"
    },
    {
      "title": "Bottom edge correction",
      "level": 4,
      "content": "In some cases, for example Toshiba Satellite P50, everything work out of the box except often your click are seen as mouse movement and the cursor will jump away just before registering the click. This can be easily solved running\n\n```\n$ synclient -l | grep BottomEdge\n```\n\ntake the BottomEdge value and subtract a the wanted height of your button, then temporary apply with\n\n```\n$ synclient AreaBottomEdge=4000\n```\n\nwhen a good value has been found make it a fixed correction with\n\n```\n/etc/X11/xorg.conf.d/70-synaptics.conf\n```\n\n```\n...\nOption \"AreaBottomEdge\"         \"4000\"\n...\n```\n\nNote: **begins** \n\n"
    },
    {
      "title": "Touchpad does not work after resuming from hibernate/suspend",
      "level": 3,
      "content": "Occasionally touchpads will fail to work when the computer resumes from sleep or hibernation. This can often be corrected without rebooting by\n\n- Switching to a console and back again,\n- entering sleep mode again, and resuming again,\n- locating the correct kernel module, then removing it and inserting it again, possibly with a specific parameter (e.g. modprobe -r psmouse && modprobe psmouse proto=imps),\n- blacklisting kernel module psmouse may be a permanent option (when the touchpad is handled by another module, e.g. i2c_designware_platform),\n- adding the psmouse.synaptics_intertouch=0 kernel parameter solves the issue permanently.\n\nIf you are using a laptop computer and your touchpad does not work after switching the laptop's lid, you can just change your power management policy: when closing the lid, 'shutdown the screen' instead of 'suspend'(or 'hibernate'). This is useful for some laptops.\n\n"
    },
    {
      "title": "xorg.conf.d/70-synaptics.conf does not seem to apply in MATE",
      "level": 3,
      "content": "MATE will by default overwrite various options for your touchpad. This includes configurable features for which there is no graphical configuration within MATE's system control panel. This may cause it to appear that /etc/X11/xorg.conf.d/70-synaptics.conf is not applied. Follow #MATE to prevent this behavior.\n\n"
    },
    {
      "title": "The touchpad is not working, Xorg.0.log shows \"Query no Synaptics: 6003C8\"",
      "level": 3,
      "content": "Due to the way Synaptics is currently set-up, 2 instances of the Synaptics module are loaded. We can recognize this situation by opening the xorg log file (/var/log/Xorg.0.log) and noticing this:\n\n```\n/var/log/Xorg.0.log\n```\n\n```\n[ 9304.803] (**) SynPS/2 Synaptics TouchPad: Applying InputClass \"evdev touchpad catchall\"\n[ 9304.803] (**) SynPS/2 Synaptics TouchPad: Applying InputClass \"touchpad catchall\"\n```\n\nNotice how 2 differently named instances of the module are being loaded. In some cases, this causes the touchpad to become nonfunctional.\n\nWe can prevent this double loading by adding MatchDevicePath \"/dev/input/event*\" to our /etc/X11/xorg.conf.d/70-synaptics.conf file:\n\n```\n/etc/X11/xorg.conf.d/70-synaptics.conf\n```\n\n```\nSection \"InputClass\"\n    Identifier \"touchpad catchall\"\n    Driver \"synaptics\"\n    MatchIsTouchpad \"on\"\n    MatchDevicePath \"/dev/input/event*\"\n        Option \"TapButton1\" \"1\"\n        Option \"TapButton2\" \"2\"\n        Option \"TapButton3\" \"3\"\nEndSection\n```\n\nRestart X and check xorg logs again, the error should be gone and the touchpad should be functional.\n\nrelated bugreport: FS#20830\n\nrelated forum topics:\n\n- https://bbs.archlinux.org/viewtopic.php?id=104769\n- https://bbs.archlinux.org/viewtopic.php?pid=825690\n\n"
    },
    {
      "title": "Touchpad detected as \"PS/2 Generic Mouse\" or \"Logitech PS/2 mouse\"",
      "level": 3,
      "content": "This can be caused by a number of issues;\n\n"
    },
    {
      "title": "Laptops with touchscreen & touchpad",
      "level": 4,
      "content": "There also seems to be a problem with laptops which have both a touchscreen & a touchpad, such as the Dell XPS 12 or Dell XPS 13. To fix this, you can blacklist the i2c_hid driver, this does have the side-effect of disabling the touchscreen though.\n\nThis seems to be a known problem. Also see this thread.\n\nPost kernel 3.15, having the module blacklisted may cause touchpad to stop working completely. Removing the blacklist should allow this to start working with limited functionality, see FS#40921.\n\n"
    },
    {
      "title": "Non-functional Synaptics special abilities (multi-tap, scrolling, etc.)",
      "level": 3,
      "content": "In some cases, Synaptics touchpads only work partially. Features like two-finger scrolling or two-finger middle-click do not work even if properly enabled. This is probably related to the touchpad is not working problem mentioned above. Fix is the same, prevent double module loading.\n\nIf preventing the module from loading twice does not solve your issue, try commenting out the toggle MatchIsTouchpad (which is now included by default in the Synaptics configuration).\n\n"
    },
    {
      "title": "No Multi-touch in some Elantech touchpads",
      "level": 4,
      "content": "See https://unix.stackexchange.com/questions/28736/what-does-the-i8042-nomux-1-kernel-option-do-during-booting-of-ubuntu.\n\n"
    },
    {
      "title": "Cursor jump",
      "level": 3,
      "content": "Some users have their cursor inexplicably jump around the screen. There currently no patch for this, but the developers are aware of the problem and are working on it.\n\nAnother possibility is that you are experiencing IRQ losses related to the i8042 controller (this device handles the keyboard and the touchpad of many laptops), so you have two possibilities here:\n\n1. rmmod && insmod the psmouse module.\n1. Append i8042.nomux=1 to your kernel parameters and reboot your machine.\n\n"
    },
    {
      "title": "Touchpad device is not located at /dev/input/*",
      "level": 3,
      "content": "If that is the case, you can use this command to display information about your input devices:\n\n```\n$ cat /proc/bus/input/devices\n```\n\nSearch for an input device which has the name \"SynPS/2 Synaptics TouchPad\". The \"Handlers\" section of the output specifies what device you need to specify.\n\nExample output:\n\n```\n$ cat /proc/bus/input/devices\n```\n\n```\nI: Bus=0011 Vendor=0002 Product=0007 Version=0000\nN: Name=\"SynPS/2 Synaptics TouchPad\"\nP: Phys=isa0060/serio4/input0\nS: Sysfs=/class/input/input1\nH: Handlers=mouse0 event1\nB: EV=b\nB: KEY=6420 0 7000f 0\n```\n\nIn this case, the Handlers are mouse0 and event1, so /dev/input/mouse0 would be used.\n\nNote: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\n"
    },
    {
      "title": "Firefox and special touchpad events",
      "level": 3,
      "content": "You can enable/disable some special events that Firefox handles upon tapping or scrolling certain parts of your touchpad by editing the settings of those actions. Type about:config in your Firefox address bar. To alter options, double-click on the line in question.\n\n"
    },
    {
      "title": "Firefox 17.0 and later",
      "level": 4,
      "content": "Horizontal scrolling will now by default scroll through pages and not through your history. To reenable Mac-style forward/backward with two-finger swiping, edit:\n\n```\nmousewheel.default.action.override_x = 2\n```\n\nYou may encounter accidental forwards/backwards while scrolling vertically. To change Firefox's sensitivity to horizontal swipes, edit:\n\n```\nmousewheel.default.delta_multiplier_x\n```\n\nThe optimum value will depend on your touchpad and how you use it, try starting with 10. A negative value will reverse the swipe directions.\n\n"
    },
    {
      "title": "Scrolling and multiple actions with Synaptics on LG laptops",
      "level": 3,
      "content": "These problems seem to be occurring on several models of LG laptops. Symptoms include: when pressing Mouse Button 1, Synaptics interprets it as ScrollUP and a regular button 1 click; same goes for button 2.\n\nThe scrolling issue can be resolved by entering in xorg.conf:\n\n```\n/etc/X11/xorg.conf.d/xorg.conf\n```\n\n```\nOption \"UpDownScrolling\" \"0\"\n```\n\nApparently, when trying to compile this against the latest version of Synaptics it fails. The solution to this is using the Git repository for Synaptics [5].\n\nTo build the package after downloading the tarball and unpacking it, execute:\n\n```\n$ cd synaptics-git\n$ makepkg\n```\n\n"
    },
    {
      "title": "Other external mouse issues",
      "level": 3,
      "content": "First, make sure your section describing the external mouse contains this line (or that the line looks like this):\n\n```\n/etc/X11/xorg.conf.d/xorg.conf\n```\n\n```\nOption     \"Device\" \"/dev/input/mice\"\n```\n\nIf the \"Device\" line is different, change it to the above and try to restart X. If this does not solve your problem, make your touchpad the CorePointer in the \"Server Layout\" section:\n\n```\n/etc/X11/xorg.conf.d/xorg.conf\n```\n\n```\nInputDevice    \"Touchpad\" \"CorePointer\"\n```\n\nand make your external device \"SendCoreEvents\":\n\n```\n/etc/X11/xorg.conf.d/xorg.conf\n```\n\n```\nInputDevice    \"USB Mouse\" \"SendCoreEvents\"\n```\n\nFinally, add this to your external device's section:\n\n```\n/etc/X11/xorg.conf.d/xorg.conf\n```\n\n```\nOption      \"SendCoreEvents\"    \"true\"\n```\n\nIf all of the above does not work for you, please check relevant bug trackers for possible bugs, or go through the forums to see if anyone has found a better solution.\n\n"
    },
    {
      "title": "Xorg.log.0 shows SynPS/2 Synaptics touchpad can not grab event device, errno=16",
      "level": 3,
      "content": "Note: **This article or section is being considered for removal.** This article or section is being considered for removal.\n\nThis article or section is being considered for removal.\n\nIf you are using Xorg 7.4, you may get a warning like this from /var/log/Xorg.0.log. This is because the driver will grab the event device for exclusive use when using the Linux 2.6 event protocol. When it fails, X will return this error message.\n\nGrabbing the event device means that no other user space or kernel space program sees the touchpad events. This is desirable if the X configuration file includes /dev/input/mice as an input device, but is undesirable if you want to monitor the device from user space.\n\nIf you want to control it, add or modify the \"GrabEventDevice\" option in you touchpad section in /etc/X11/xorg.conf.d/70-synaptics.conf:\n\n```\n/etc/X11/xorg.conf.d/70-synaptics.conf\n```\n\n```\n...\nOption \"GrabEventDevice\" \"boolean\"\n...\n```\n\nThis will come into effect when X is restarted, though you can also change it by using synclient. When changing this parameter with the synclient program, the change will not take effect until the Synaptics driver is disabled and re-enabled. This can be achieved by switching to a text console and then switching back to X.\n\n"
    },
    {
      "title": "Synaptics loses multitouch detection after rebooting from Windows",
      "level": 3,
      "content": "Many drivers include a firmware that is loaded into flash memory when the computer boots. This firmware is not necessarily cleared upon shutdown, and is not always compatible with Linux drivers. The only way to clear the flash memory is to shutdown completely rather than using reboot. It is generally considered best practice to never use reboot when switching between operating systems.\n\n"
    },
    {
      "title": "Touchpad not recognized after shutdown",
      "level": 3,
      "content": "Certain touchpads (Elantech in particular) will fail to be recognized as a device of any sort after a standard shutdown. There are multiple possible solutions to this problem:\n\n- Boot into a Windows partition/install disk and shutdown from there.\n- Wait approximately 1 minute before turning on the computer after shutdown.\n- As discussed in https://bugzilla.kernel.org/show_bug.cgi?id=81331#c186, a patch has been merged into the stable kernel that provides a fix for Elantech touchpads. Gigabyte P34, P35v2 and X3 models are supported by default. For others (especially rebranded Gigabyte laptops, like XMG's), i8042.kbdreset=1 can be set as kernel parameter.\n\n"
    },
    {
      "title": "Trackpoint and Clickpad",
      "level": 3,
      "content": "Newer Thinkpads do not have physical buttons for their Trackpoint anymore and instead use the upper area of the Clickpad for buttons (Left, Middle, Right). Apart from the ergonomic viewpoint this works quite well with current Xorg. Unfortunately, mouse wheel emulation using the middle button is not supported yet. Install xf86-input-evdev-trackpointAUR for a patched and properly configured version if you intend to use the Trackpoint.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Synaptics touchpad driver\n- Synaptics manual on x.org\n\n"
    }
  ]
}