{
  "title": "ASUS N550JV",
  "url": "https://wiki.archlinux.org/title/ASUS_N550JV",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nIntel |  | Yes\nNvidia |  | Yes\nEthernet |  | Yes\nWireless |  | Yes\nAudio |  | Yes\nTouchpad |  | Yes\nCamera |  | Yes\nCard Reader |  | Yes\nBluetooth |  | Yes\n\nASUS N550JV - this article covers hardware specific configuration. All topics covered can be performed after an installation of Arch Linux has been finished and the machine rebooted into it.\n\nFor a general overview of laptop-related articles and recommendations, see Laptop.\n\n"
    },
    {
      "title": "Drivers",
      "level": 4,
      "content": "See Intel Graphics, Hardware Acceleration and NVIDIA Optimus.\n\n"
    },
    {
      "title": "Brightness",
      "level": 4,
      "content": "In order to be able to adjust the screen brightness using Fn+F5 and Fn+F6 you need to set the kernel parameter acpi_osi= (the space is required).\n\n"
    },
    {
      "title": "Audio",
      "level": 3,
      "content": "Install PulseAudio.\n\nAfter installation, reboot the laptop to ensure all modules are loaded. Check if the fallback device is correctly set to Built-in Audio Analog Stereo with pavucontrol. See PulseAudio/Troubleshooting#Fallback device is not respected for more information. Also check for muted devices:\n\n```\n$ alsamixer -c PCH\n```\n\n"
    },
    {
      "title": "Brightness",
      "level": 4,
      "content": "Key mappings Fn+F3 and Fn+F4 should work with most desktop environments out of the box. If not, install asus-kbd-backlightAUR, load the kernel module asus-nb-wmi to control hotkeys, then start/enable the asus-kbd-backlight.service.\n\n"
    },
    {
      "title": "Incorrectly mapped buttons",
      "level": 4,
      "content": "Media and Fn+F7 buttons are not mapped correctly. It is not necessary to remap Fn+F7 shortcut, because it works without any additional configuration.\n\nInstall xorg-xmodmap, which provides app xmodmap. Generate a xmodmap config file if you have not done it already:\n\n```\n$ xmodmap -pke > ~/.Xmodmap\n```\n\nThen open it and locate keycode 234:\n\n```\n~/.Xmodmap\n```\n\n```\n...\nkeycode 233 = XF86MonBrightnessUp NoSymbol XF86MonBrightnessUp\nkeycode 234 = XF86AudioMedia NoSymbol XF86AudioMedia\nkeycode 235 = XF86Display NoSymbol XF86Display\n...\n```\n\nNow move XF86AudioMedia NoSymbol XF86AudioMedia text on the empty keycode 248 and leave keycode 234 empty:\n\n```\n~/.Xmodmap\n```\n\n```\n...\nkeycode 234 = \n...\n...\n...\nkeycode 247 =\nkeycode 248 = XF86AudioMedia NoSymbol XF86AudioMedia\nkeycode 249 =\n...\n```\n\nOptionally, for Fn+F7 give some value on keycode 253.\n\n```\n~/.Xmodmap\n```\n\n```\n...\nkeycode 252 =\nkeycode 253 = XF86Launch0 NoSymbol XF86Launch0\nkeycode 254 =\n...\n```\n\nThe next step is apply changes:\n\n```\n$ xmodmap ~/.Xmodmap\n```\n\nTest with xev or try to bind something on media button. Fn+F7 should be controlled by hardware and switch display without any additional configuration. Also, if you are satisfied, put the command above to Xinitrc.\n\n```\n~/.xinitrc\n```\n\n```\n{ sleep 10; xmodmap ~/.Xmodmap; } &\n```\n\n"
    },
    {
      "title": "Touchpad",
      "level": 3,
      "content": "Install libinput. If there are any problems, try Touchpad Synaptics.\n\n"
    },
    {
      "title": "Dual boot",
      "level": 4,
      "content": "If you boot your laptop right after Windows to Linux, sound might only work through headphones jack, but not through speakers and subwoofer. The quick fix is to suspend your laptop and resume it back.\n\n"
    },
    {
      "title": "Bug",
      "level": 4,
      "content": "The internal speakers seems not to play any sound until volume is being increased significantly. This also occurs on Windows operation system as well as on Linux.\n\n"
    },
    {
      "title": "Sound pops twice during shutdown and sleep",
      "level": 4,
      "content": "Create and enable the following two services:\n\n```\n/etc/systemd/system/beep-disable.service\n```\n\n```\n[Unit]\nDescription=Unloads audio module to prevent beep on shutdown\nDefaultDependencies=no\n\n[Service]\nType=oneshot\nExecStart=/bin/sh -c 'rmmod snd_hda_intel'\n\n[Install]\nWantedBy=shutdown.target suspend.target\n```\n\n```\n/etc/systemd/system/beep-disable-wakeup.service\n```\n\n```\n[Unit]\nDescription=Load sound module back on system resume\nAfter=suspend.target\nWants=local-system-resume.service\nBefore=local-system-resume.service\n\n[Service]\nType=oneshot\nExecStart=/bin/sh -c 'modprobe snd_hda_intel'\n\n[Install]\nWantedBy=suspend.target\n```\n\n"
    },
    {
      "title": "Crackling sound",
      "level": 4,
      "content": "Add tsched=0 to PulseAudio config file as per instructions at PulseAudio/Troubleshooting#Troubleshooting buffer underruns (glitches, skips, crackling).\n\n"
    },
    {
      "title": "Failed to initialize the NVIDIA GPU",
      "level": 3,
      "content": "If you receive error similar to this Failed to initialize the NVIDIA GPU at PCI:1:0:0 (GPU fallen off the bus / RmInitAdapter failed!), see here.\n\n"
    },
    {
      "title": "Messages during console login",
      "level": 3,
      "content": "After booting up, when Linux asks you to enter your login and password, some messages might appear similar to these:\n\n```\nNouveau E[    PBUS][0000:01:00.0] MIMO write of 0x00000002 FAULT at 0x4188ac [ IBUS]\nNouveau E[    DRM] Pointer to TMDS table invalid\nNouveau E[    DRM] Pointer to flat panel table invalid\n```\n\nTo resolve, refer to #Drivers.\n\n"
    },
    {
      "title": "USB devices and sleep",
      "level": 3,
      "content": "Hibernate via systemd works out of the box when the swap space or file is correctly identified in the resume kernel parameter. However, even though the system suspends properly it will lock up when resuming. This is due to the USB controller not properly turning off on its own. Create two the following files as shown:\n\n```\n/etc/systemd/system/root-suspend.service\n```\n\n```\n[Unit]\nDescription=Local system suspend actions\nBefore=sleep.target\n\n[Service]\nType=oneshot\nExecStart=-/usr/bin/rmmod ehci_pci ; /usr/bin/rmmod ehci_hcd ; /usr/bin/rmmod xhci_pci ; /usr/bin/rmmod xhci_hcd\n\n[Install]\nWantedBy=sleep.target\n```\n\n```\n/etc/systemd/system/root-resume.service\n```\n\n```\n[Unit]\nDescription=Local system resume actions\nAfter=suspend.target\n\n[Service]\nType=oneshot\nExecStart=/usr/bin/modprobe ehci_hcd ; /usr/bin/modprobe ehci_pci ; /usr/bin/modprobe xhci_hcd ; /usr/bin/modprobe xhci_pci\n\n[Install]\nWantedBy=suspend.target\n```\n\nThen enable root-suspend.service and root-resume.service as root.\n\n"
    },
    {
      "title": "Battery charging issues",
      "level": 4,
      "content": "This battery in this laptop can only be accessed by removing the bottom of the entire laptop, which requires removing 10 TORX-5 screws. That there appears to be a power issue related to the recharging USB port (the USB port with a lightning bolt) under Linux. When an externally powered device is plugged into the charging USB port and the system is power cycled, the battery indicator will begin flashing orange and the system no longer recognizes or charges the battery. One way to reset the charging circuit is to force shutdown by holding the power button for a few seconds. See this thread at the Ubuntu forums for other possible solutions.\n\n"
    },
    {
      "title": "Card reader does not detect cards",
      "level": 3,
      "content": "Due to unknown reasons, card reader does not detect cards. To resolve this, quickly pull out the card and insert it back for several times (leave inserted afterwards) and after few seconds card will be detected in your system.\n\n"
    },
    {
      "title": "Fan control",
      "level": 3,
      "content": "See Fan speed control.\n\nHere is a configuration file, which was tested on Asus N550JV and was used with asus-nb-wmi kernel module. It however might need some tweaking:\n\n```\n/etc/fancontrol\n```\n\n```\nINTERVAL=10\nFCTEMPS=/sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1=/sys/devices/platform/coretemp.0/hwmon/hwmon[[:print:]]*/temp1_input\nFCFANS= /sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1=/sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/fan1_input\nMINTEMP=/sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1=50\nMAXTEMP=/sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1=80\nMINSTART=/sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1=40\nMINSTOP=/sys/devices/platform/asus-nb-wmi/hwmon/hwmon[[:print:]]*/pwm1=10\n```\n\nHere is a configuration file, which was tested on Asus N550JV and was used with asus-fan kernel module. It however might need some tweaking:\n\n```\n/etc/fancontrol\n```\n\n```\nINTERVAL=10\nFCTEMPS=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1=/sys/devices/platform/coretemp.0/hwmon/hwmon[[:print:]]*/temp1_input /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/temp1_input\nFCFANS=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/fan1_input /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/fan2_input\nMINTEMP=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1=50 /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2=45\nMAXTEMP=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1=80 /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2=90\nMINSTART=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1=40 /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2=40\nMINSTOP=/sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm1=10 /sys/devices/platform/asus_fan/hwmon/hwmon[[:print:]]*/pwm2=10\n```\n\n"
    },
    {
      "title": "Enable full performance of GPU",
      "level": 3,
      "content": "If you have BIOS 208 or 207 installed and tried to play something heavy, you noticed that for a few seconds game runs for 60fps, but most of the time - 20-40fps. This is strange behaviour, which happens on Windows as well as on Linux. Even if the temperature limit is set to 90c, GPU throttling occurs at 75c or even all the time (with a feeling that GPU only runs at 60-70% of its full potential).\n\nTo fix this, flash bios 206. If your BIOS version is newer than this, you must follow this guide, which requires you to have Windows installed on this laptop.\n\n"
    },
    {
      "title": "Special keys for window managers",
      "level": 3,
      "content": "If you prefer using a Window manager rather than a Desktop environment, most settings will not work out of the box, so you might need to manually bind every single FN button combination. How to bind, see Extra keyboard keys in Xorg.\n\nTable content:\nButtons | Output\nMedia Button | XF86AudioMedia (xmodmap)\nFn+F1 | XF86Sleep\nFn+F2 | XF86WLAN\nFn+F3 | XF86KbdBrightnessDown\nFn+F4 | XF86KbdBrightnessUp\nFn+F5 | XF86MonBrightnessDown\nFn+F6 | XF86MonBrightnessUp\nFn+F7 | XF86Launch0 (xmodmap)\nFn+F8 | XF86Display\nFn+F9 | XF86TouchpadToggle\nFn+F10 | XF86AudioMute\nFn+F11 | XF86AudioLowerVolume\nFn+F12 | XF86AudioRaiseVolume\nFn+c | XF86Launch1\nFn+v | XF86WebCam\nFn+Space | XF86Launch6\nFn+NumEnter | XF86Calculator\nFn+Left | XF86AudioPrev\nFn+Right | XF86AudioNext\nFn+Up | XF86AudioStop\nFn+Down | XF86AudioPlay\nFn+Delete | Ins\n\n"
    }
  ]
}