{
  "title": "SLiM",
  "url": "https://wiki.archlinux.org/title/SLiM",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section is out of date.** This article or section is out of date.\n\nThis article or section is out of date.\n\nRelated articles\n\n- Display manager\n\nSLiM is an acronym for Simple Login Manager. Lightweight and easily configurable, SLiM requires minimal dependencies, and none from the GNOME or KDE desktop environments. It therefore contributes towards a lightweight system for users that also like to use lightweight desktops such as Xfce, Openbox, and Fluxbox.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install the slim package.\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "SLiM can automatically detect installed desktop environments and window managers through the use of sessiondir /usr/share/xsessions/ in /etc/slim.conf. Those upgrading from a version before 1.3.6-2 must amend /etc/slim.conf and xinitrc, accordingly. See below.\n\n"
    },
    {
      "title": "Enabling SLiM",
      "level": 3,
      "content": "Enable the SLiM service slim.service. This assumes a previously enabled display manager was disabled first. Otherwise, change the default target.\n\n"
    },
    {
      "title": "Environments",
      "level": 3,
      "content": "To configure SLiM 1.3.6-2 (or later) to load an environment, edit both /etc/slim.conf and ~/.xinitrc.\n\nFirst, edit /etc/slim.conf: If you only use a single environment, you can hash out sessiondir /usr/share/xsessions/. This will disable automatic detection of installed environments:\n\n```\n# Set directory that contains the xsessions.\n# slim reads xsession from this directory, and be able to select.\n# sessiondir            /usr/share/xsessions/\n```\n\nIf you wish to automatically detect installed desktop environments, leave the line un-commented.\n\nSecond, edit xinitrc:\n\n```\n$HOME/.xinitrc\n```\n\n```\n#!/bin/sh\nif [ -d /etc/X11/xinit/xinitrc.d ] ; then\n for f in /etc/X11/xinit/xinitrc.d/?*.sh ; do\n  [ -x \"$f\" ] && . \"$f\"\n done\n unset f\nfi\nexec $1\n```\n\n"
    },
    {
      "title": "Set default username",
      "level": 3,
      "content": "SLiM can be configured to automatically set a desired username, which will therefore already be completed. The password field will also already be focused by default. Change the following line in /etc/slim.conf:\n\n```\n# default_user        simone\n```\n\nUncomment this line, and change \"simone\" to the username of choice:\n\n```\ndefault_user        your username\n```\n\n"
    },
    {
      "title": "Enable Autologin",
      "level": 3,
      "content": "Note: **not** \n\n- Do not set this for the root account.\n- If auto login is enabled, the GNOME keyring will not be unlocked automatically on login. This will cause dependent applications, such as Chrome/Chromium and NetworkManager, to misbehave (see https://bbs.archlinux.org/viewtopic.php?id=167579).\n\nEdit /etc/slim.conf to uncomment the auto_login command and replace no with yes:\n\n```\nauto_login          yes\n```\n\n"
    },
    {
      "title": "Theming",
      "level": 3,
      "content": "Install the slim-themes package. The archlinux-themes-slim packages contains several different themes (slimthemes.png). Look in the directory of /usr/share/slim/themes to see the themes available. Enter the theme name on the current_theme line in /etc/slim.conf:\n\n```\n#current_theme       default\ncurrent_theme       archlinux-simplyblack\n```\n\nYou can preview a theme while Xorg is running with:\n\n```\n$ slim -p /usr/share/slim/themes/<theme name>\n```\n\nTo close, type \"exit\" in the Login line and press Enter.\n\nAdditional theme packages can be found in the AUR. See the theme documentation for how to customize your theme or make your own. SLiM does not support alternative theme directories, so it is recommended to create a package for your custom theme so that pacman is aware of it.\n\n"
    },
    {
      "title": "Custom background",
      "level": 4,
      "content": "SLiM is hard-coded to load background.png or background.jpg (in that order) from your theme directory. Simply overwrite the appropriate file\n\n```\n# cp /path/to/new_background.jpg /usr/share/slim/themes/<theme_name>/background.jpg\n```\n\n"
    },
    {
      "title": "Dual screen setup",
      "level": 4,
      "content": "You can customize the slim theme in /usr/share/slim/themes/<your-theme>/slim.theme to turn these percents values. The box itself is 450 pixels by 250 pixels:\n\n```\ninput_panel_x           50%\ninput_panel_y           50%\n```\n\ninto pixels values:\n\n```\n# These settings set the \"archlinux-simplyblack\" panel in the center of a 1440x900 screen\ninput_panel_x           495\ninput_panel_y           325\n```\n\n```\n# These settings set the \"archlinux-retro\" panel in the center of a 1680x1050 screen\ninput_panel_x           615\ninput_panel_y           400\n```\n\nIf your theme has a background picture, you should use the background_style setting (stretch, tile, center or color) to get it correctly displayed.\n\n"
    },
    {
      "title": "Changing the cursor",
      "level": 3,
      "content": "After installing, edit /etc/slim.conf and uncomment the line:\n\n```\ncursor   left_ptr\n```\n\nThis will give you a normal arrow instead. This setting is forwarded to xsetroot -cursor_name. You can look up the possible cursor names or in /usr/share/icons/your-cursor-theme/cursors/.\n\nTo change the cursor theme being used at the login screen, see Cursor themes#The default cursor theme.\n\n"
    },
    {
      "title": "Match SLiM and Desktop Wallpaper",
      "level": 3,
      "content": "To share a wallpaper between SLiM and your desktop, rename the used theme background, then create a link from your desktop wallpaper file to the default SLiM theme:\n\n```\n# mv /usr/share/slim/themes/default/background.jpg{,.bck}\n# ln -s /path/to/mywallpaper.jpg /usr/share/slim/themes/default/background.jpg\n```\n\n"
    },
    {
      "title": "Shutdown, reboot, suspend, exit, launch terminal from SLiM",
      "level": 3,
      "content": "You may shutdown, reboot, suspend, exit or even launch a terminal from the SLiM login screen. To do so, use the values in the username field, and the root password in the password field:\n\n- To launch a terminal, enter console as the username (defaults to xterm which must be installed separately... edit /etc/slim.conf to change terminal preference)\n- For shutdown, enter halt as the username\n- For reboot, enter reboot as the username\n- To exit to bash, enter exit as the username\n- For suspend, enter suspend as the username. Suspend is disabled by default, edit /etc/slim.conf as root to uncomment the suspend_cmd line and, if necessary, modify the suspend command itself (by e.g. changing /usr/sbin/suspend to sudo /usr/sbin/pm-suspend).\n\n"
    },
    {
      "title": "Power-off error with Splashy",
      "level": 3,
      "content": "If you use Splashy and SLiM, sometimes you cannot power-off or reboot from menu in GNOME, Xfce, LXDE or others. Check your /etc/slim.conf and /etc/splash.conf; set the DEFAULT_TTY=7 same as xserver_arguments vt07.\n\n"
    },
    {
      "title": "Power-off tray icon fails",
      "level": 3,
      "content": "If your power off tray icon fails, it could be due to not having root privileges. To start a tray icon with root privileges, be sure to have SLiM start the program. Edit /etc/slim.conf as follows:\n\n```\nsessionstart_cmd \t/path/to/tray/icon/program &\n```\n\n"
    },
    {
      "title": "Login information with SLiM",
      "level": 3,
      "content": "By default, SLiM fails to log logins to utmp and wtmp which causes who, last, etc. to misreport login information. To fix this edit your slim.conf as follows:\n\n```\nsessionstart_cmd    /usr/bin/sessreg -a -l $DISPLAY %user\nsessionstop_cmd     /usr/bin/sessreg -d -l $DISPLAY %user\n```\n\n"
    },
    {
      "title": "Custom SLiM Login Commands",
      "level": 3,
      "content": "You can also use the sessionstart_cmd/sessionstop_cmd in /etc/slim.conf to log specific infomation, such as the session, user, or theme used by slim:\n\n```\nsessionstop_cmd /usr/bin/logger -i -t ASKAPACHE \"(sessionstop_cmd: u:%user s:%session t:%theme)\"\nsessionstart_cmd /usr/bin/logger -i -t ASKAPACHE \"(sessionstart_cmd: u:%user s:%session t:%theme)\"\n```\n\nOr if you want to play a song when slim loads (and you have the beep program installed)\n\n```\nsessionstart_cmd /usr/bin/beep -f 659 -l 460 -n -f 784 -l 340 -n -f 659 -l 230 -n -f 659 -l 110\n```\n\n"
    },
    {
      "title": "GNOME Keyring",
      "level": 3,
      "content": "See GNOME/Keyring#Using the keyring to use GNOME Keyring in a custom session.\n\n"
    },
    {
      "title": "Setting DPI with SLiM",
      "level": 3,
      "content": "The Xorg server generally picks up the DPI but if it does not you can specify it to SLiM. If you set the DPI with the argument -dpi 96 in /etc/X11/xinit/xserverrc it will not work with SLiM. To fix this change your slim.conf from:\n\n```\nxserver_arguments   -nolisten tcp vt07\n```\n\nto\n\n```\nxserver_arguments   -nolisten tcp vt07 -dpi 96\n```\n\n"
    },
    {
      "title": "Use a random theme",
      "level": 3,
      "content": "Use the current_theme variable as a comma separated list to specify a set from which to choose. Selection is random.\n\n"
    },
    {
      "title": "Move the whole session to another VT",
      "level": 3,
      "content": "If tty terminals 3-6 are not used and commented out (You may use screen and therefore only need one terminal), change /etc/slim.conf to move the X server:\n\n```\nxserver_arguments -nolisten tcp vt07\n```\n\nSimply change the vt07 to for example vt03 as no agetty is started there.\n\n"
    },
    {
      "title": "Automatically mount your encrypted /home on login",
      "level": 3,
      "content": "To automatically mount an encrypted partition on user login with SLiM, configure pam_mount as follows:\n\n```\n/etc/pam.d/slim\n```\n\n```\nauth            requisite       pam_nologin.so\nauth            required        pam_env.so\nauth            required        pam_unix.so\nauth            optional        pam_mount.so\naccount         required        pam_unix.so\npassword        required        pam_unix.so\npassword        optional        pam_mount.so\nsession         required        pam_limits.so\nsession         required        pam_unix.so\nsession         optional        pam_mount.so\nsession         optional        pam_loginuid.so\nsession         optional        pam_ck_connector.so\n```\n\n"
    },
    {
      "title": "Change Keyboard Layout",
      "level": 3,
      "content": "Edit /etc/X11/xorg.conf.d/10-evdev.conf, find the following section, add the two bolded lines, and replace dvorak with your preferred keymap:\n\n```\nSection  \"InputClass\"\n          Identifier \"evdev keyboard catchall\"\n          MatchIsKeyboard \"on\"\n          MatchDevicePath \"/dev/input/event*\"\n          Driver \"evdev\"\n\n          # Keyboard layouts\n          Option \"XkbLayout\" \"dvorak\"\nEndSection\n```\n\n"
    },
    {
      "title": "Screen Lock",
      "level": 3,
      "content": "Slim includes slimlock, a screen lock feature. To use it, just run slimlock.\n\nSlimlock reads some configuration from /etc/slim.conf and its own configuration file /etc/slimlock.conf.\n\nTo prevent VT switching whilst locked, set tty_lock to 1 in slimlock.conf. This also requires that that you have write access to /dev/console and that slimlock has the sys_sys_tty_config capability. One way to achieve this is set slimlock to suid root:\n\n```\n# chmod +4000 /usr/bin/slimlock\n# chown root: /usr/bin/slimlock\n```\n\nAn alternative is to setcap and permit your uid to write to /dev/console.\n\n```\n# setcap cap_sys_tty_config+ep /usr/bin/slimlock\n# chmod o+rw /dev/console\n```\n\nYou can use xss-lock to lock the screen automatically:\n\n```\n$ xss-lock -- /usr/bin/slimlock &\n```\n\n"
    },
    {
      "title": "Shutdown or Reboot Stalled",
      "level": 3,
      "content": "There is a bug or known issue with the combination of SLiM, Xfce and systemd that does not let the system to properly shutdown and systemd waits for the SLiM service to end, but eventually is terminated.\n\nTo accelerate the shutdown process these lines might help when editing slim.service:\n\n```\n[Service]\nExecStart=/usr/bin/slim -nodaemon\nRestart=on-failure\nTimeoutStopSec=5s\nIgnoreSIGPIPE=no\nExecStop=/bin/kill -TERM -${MAINPID}\n```\n\nSee FS#32380.\n\n"
    },
    {
      "title": "Identification problem",
      "level": 3,
      "content": "If your password contains non-ASCII characters (é, è, ç, à, etc.) and the locale of your system is in Unicode (fr_FR.UTF-8 for example), you will not be able to log in to your session with the package from the official repository (bugs found on Debian, bug#532060 and on NixOS, bug#29802).\n\nA fixed version available on AUR brings Unicode support and solves this problem: slim-unicodeAUR.\n\n"
    },
    {
      "title": "Crashes with 30-bit-colour X",
      "level": 3,
      "content": "When the Screen section of xorg.conf contains DefaultDepth 30, Slim immediately crashes in _XPutPixel32() libX11 function called from Image::createPixmap().\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- SLiM on SourceForge\n- SLiM on GitHub\n\n"
    }
  ]
}