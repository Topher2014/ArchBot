{
  "title": "MSI P15",
  "url": "https://wiki.archlinux.org/title/MSI_P15",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nThis laptop may also be known as Prestige 15 or A10SC\n\nTable content:\nHardware | PCI/USB ID | Working?\nTouchpad | 06cb:cdaa | Yes\nKeyboard | – | Yes\nGPU (Intel) | 8086:9bca | Yes\nGPU (nvidia) | 10de:1f91 | Yes\nThunderbolt | 8086:15eb | unknown\nWireless | 8086:02f0 | Yes\nBluetooth | 8087:0026 | Yes\nWebcam | 5986:211c | Yes\nCard reader | 10ec:5250 | Yes\nFingerprint reader | 06cb:009b | No\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Secure Boot needs to be disabled at first startup, but it can be configured later. This laptop supports Secure Boot keys reset to factory and custom keys install. To access advanced options in the UEFI, press R_Alt+L_Ctrl+L_Shift+F2 after entering it.\n\n"
    },
    {
      "title": "Wireless",
      "level": 2,
      "content": "Sometimes the Wi-Fi card it gets stuck on startup and needs reset, which can also be accomplished by reloading iwlwifi, iwlmvm and restarting wpa_supplicant.\n\n"
    },
    {
      "title": "Function keys",
      "level": 2,
      "content": "All the Fn keys should work out of the box, but Fn12, Fn4, Fn5 and Fn7. The latter does not send an Fn input, but rather the proper F7 key, so this can be easily assigned. About the other Fn keys, Fn+F4 maps as the keycode 93, so it can be assigned to its original function (touchpad toggle) with xmodmap:\n\n```\n~/.Xmodmap\n```\n\n```\nkeycode  93 = XF86TouchpadToggle NoSymbol XF86TouchpadToggle\n```\n\nAbout Fn5 and Fn12, these send a keycode, and needs to be configured asd described in Map scancodes to keycodes using udev instead of setkeycodes, as the latter does not seem to work properly. This is achieved modifying the file /lib/udev/hwdb.d/60-keyboard.hwdb or otherwise, adding at the end of the # Micro-Star section the followings:\n\n```\nevdev:atkbd:dmi:bvn*:bvr*:bd*:svnMicro-Star*:pn*A10SC*:pvr*\n KEYBOARD_KEY_f1=f20\n KEYBOARD_KEY_f2=f21\n```\n\nThe microphone mute button should now work out of the box, but the rotate screen one does need a script that toggles the rotation. This can be accomplished by this script\n\n```\ntoggle_rotation.sh\n```\n\n```\n#!/bin/sh\n# This shell script is PUBLIC DOMAIN. You may do whatever you want with it.\n\nTOGGLE=/tmp/.toggle\n\nif [ ! -e $TOGGLE ]; then\n    touch $TOGGLE\n    xrandr -o inverted\nelse\n    rm $TOGGLE\n    xrandr -o normal\nfi\n```\n\nwhich will need to be saved somewhere with execution permissions, then added to the shortcut menu in the currently used Desktop Environment and lastly enabled to be triggered by Fn12. Afterwards, please update the hardware database by running systemd-hwdb update && udevadm trigger as root.\n\n"
    },
    {
      "title": "Home and End buttons",
      "level": 3,
      "content": "These buttons are mapped to AltGr+PgUp and AltGr+PgDown respectively. A helpful solution is to modify the current layout in /usr/share/X11/xkb/symbols/$LAYOUT, where LAYOUT is the current keyboard layout. This is accomplished by writing the following two lines in the default section of the file:\n\n```\nkey <PGUP>  { [     Prior,      Prior,         Home,    Home      ] };\n   key <PGDN>  { [      Next,       Next,          End,    End       ] };\n```\n\n"
    },
    {
      "title": "Fingerprint reader",
      "level": 2,
      "content": "The fingerprint sensor implementation is not currently functioning but there are some promising projects.\n\npython-validity and pam-validity.\n\nThere is also the Validity90 project on GitHub to port the Synaptics 06cb:009b device to Linux - but this project has not seen work in years.\n\n"
    },
    {
      "title": "Hibernation",
      "level": 2,
      "content": "If after hibernation the laptop does not power off but reboots, it is necessary to modify /etc/systemd/sleep.conf to the following:\n\n```\n/etc/systemd/sleep.conf\n```\n\n```\nHibernateMode=shutdown\n```\n\n"
    }
  ]
}