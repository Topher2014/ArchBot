{
  "title": "Lenovo IdeaPad S540 13ARE",
  "url": "https://wiki.archlinux.org/title/Lenovo_IdeaPad_S540_13ARE",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nGPU | 1002:1636 | Yes\nWireless | 10ec:c822 | Yes\nBluetooth | 0bda:c123 | Yes\nWebcam | 04f2:b67c | Yes\nTouchpad |  | Yes\nAudio | 1022:15e3 | Yes\n\nThe Lenovo Ideapad S540-13ARE is a laptop introduced in Mid-2020. It features a 13\" QHD screen, AMD Ryzen 4000 processors (Renoir), and integrated AMD Vega graphics. It uses the name Xiaoxin Pro 13 2020 in some markets.\n\n"
    },
    {
      "title": "CPU",
      "level": 2,
      "content": "It is strongly recommended to enable proprietary microcode updates, see Ryzen and Microcode for details.\n\n"
    },
    {
      "title": "GPU related freezes",
      "level": 2,
      "content": "Some Vega-graphics powered devices, including this one, are suffering from a series of critical random crashes of the AMDGPU kernel driver, which may lead to a sudden freeze of the whole system.\n\nYou can refer to FS#66991 from Arch bug tracker, this bug report on the freedesktop gitlab and this bug report for the kernel side for further information.\n\nIt works *almost* fine for kernel 5.7.12 and newer, expect some infrequent regression though.\n\n"
    },
    {
      "title": "System Performance Mode",
      "level": 2,
      "content": "Note: **This article or section is a candidate for merging with Laptop/Lenovo#Lenovo.** This article or section is a candidate for merging with Laptop/Lenovo#Lenovo.\n\nThis article or section is a candidate for merging with Laptop/Lenovo#Lenovo.\n\nThere are 3 modes available: Intelligent Cooling, Extreme Performance and Battery Saving. To toggle it, you need to call some ACPI methods.\n\nInstall acpi_call (or acpi_call-lts for LTS kernel, acpi_call-dkms for other kernels) and load the kernel module:\n\n```\n# modprobe acpi_call\n```\n\nSet it to Intelligent Cooling mode:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x000FB001' > /proc/acpi/call\n```\n\nSet it to Extreme Performance mode:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x0012B001' > /proc/acpi/call\n```\n\nSet it to Battery Saving mode:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x0013B001' > /proc/acpi/call\n```\n\nTo verify your setting:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.FCMO' > /proc/acpi/call\n# cat /proc/acpi/call | cut -d '' -f1\n```\n\nwhere 0x0 stands for Intelligent Cooling, 0x1 stands for Extreme Performance and 0x2 stands for Battery Saving.\n\n"
    },
    {
      "title": "Rapid Charge",
      "level": 2,
      "content": "Make sure you have set up acpi_call.\n\nTurn on:\n\n```\n#echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x07' > /proc/acpi/call\n```\n\nTurn off:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x08' > /proc/acpi/call\n```\n\nTo verify your setting:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.QCHO' > /proc/acpi/call\n# cat /proc/acpi/call | cut -d '' -f1\n```\n\nwhere 0x0 stands for off and 0x1 stands for on.\n\n"
    },
    {
      "title": "USB-C port failure",
      "level": 2,
      "content": "Sometimes after hibernate or reboot, you might find that the USB-C port cannot function normally. Charging, video output, data transmission all failed.\n\nThis is a common issue for Lenovo Xiaoxin laptop, see [1] (written in Chinese).\n\nTo fix this problem:\n\n1. remove all the devices plugged to a USB ports or the 3.5mm headphone jack.\n1. Then power off your laptop, make sure that the machine is not being charged .\n1. Press Fn+s+v, hold it for a while to enable battery shipping mode.\n1. Now the computer should not be able to boot without AC power.\n1. Finally, connect the laptop to AC power and start it.\n\nThe USB-C port should now function normally, or you should ask for technical support from Lenovo.\n\n"
    }
  ]
}