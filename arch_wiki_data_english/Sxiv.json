{
  "title": "Sxiv",
  "url": "https://wiki.archlinux.org/title/Sxiv",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- feh\n\nsxiv, Simple X Image Viewer is a lightweight and scriptable image viewer written in C.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install one of the following packages:\n\n- nsxiv, a fork of the now-unmaintained sxiv with the purpose of being a (mostly) drop-in replacement for sxiv, maintaining its interface and adding simple, sensible features. Install nsxiv-gitAUR for the development release.\n- sxiv, the original package. Unmaintained.\n\n"
    },
    {
      "title": "Assigning keyboard shortcuts",
      "level": 3,
      "content": "sxiv supports external key events. First you have to press Ctrl-x to send the next key to the external key-handler. The external key-handler requires an executable file ~/.config/sxiv/exec/key-handler and passes the key combination pressed via argument as well the names of the currently marked images as stdin (or, if none are marked, the currently selected image). An example key-handler is shipped, when installing sxiv: /usr/share/sxiv/exec/key-handler. The example is a great start to customize shortcuts.\n\n```\n$ mkdir -p ~/.config/sxiv/exec/\n$ cp /usr/share/sxiv/exec/key-handler ~/.config/sxiv/exec/key-handler\n```\n\nBe sure to mark the script as executable.\n\nIn the following example, we will add the bindings Ctrl+d to execute mv filename ~/.trash, Ctrl+c to copy the current images' names to the clipboard with xclip, and Ctrl+w to set the current wallpaper with nitrogen. Obviously, some commands may only make sense with a single image as an argument, so you may want to revise this to handle cases when those are passed more than one.\n\n```\n~/.config/sxiv/exec/key-handler\n```\n\n```\n#!/bin/sh\nwhile read file\ndo\n        case \"$1\" in\n        \"C-d\")\n                mv \"$file\" ~/.trash ;;\n        \"C-r\")\n                convert -rotate 90 \"$file\" \"$file\" ;;\n        \"C-c\")\n                echo -n \"$file\" | xclip -selection clipboard ;;\n        \"C-w\")\n                nitrogen --save --set-zoom-fill \"$file\" ;;\n        esac\ndone\n```\n\nCreate .trash folder if it does not exist:\n\n```\n$ mkdir ~/.trash\n```\n\n"
    },
    {
      "title": "Browse through images in directory after opening a single file",
      "level": 3,
      "content": "sxiv's developer was requested a few times to make his program browse all images in a directory of the filename given as argument (see [1] and [2]). There are some forks that features the desired behaviour: doronbehar's, qsmodo's and sammoth's.\n\nAlternatively, you can use the official version of sxiv and place this script in /usr/local/bin and call it like this:\n\n```\n$ scriptname a_single_image.jpg\n```\n\nAs indicated in the comments of the script, it may be used to have this behavior when opening images from within ranger.\n\nThis shell script from [3] starts sxiv in thumbnail mode if and only if the passed file argument is a folder:\n\n```\n~/bin/sxiv.sh\n```\n\n```\n#!/bin/sh\n\n    if command -v sxiv >/dev/null 2>&1; then\n      if [ -d \"${@: -1}\" ] || [ -h \"${@: -1}\" ]; then\n        sxiv -t \"$@\"\n      else\n        sxiv    \"$@\"\n      fi\n    elif command -v feh >/dev/null 2>&1; then\n      feh \"$@\"\n    else\n      echo \"Please install SXIV or FEH!\"\n    fi\n```\n\n"
    },
    {
      "title": "Showing the image size in the status bar",
      "level": 3,
      "content": "Place the following executable script in ~/.config/sxiv/exec/image-info and make sure that you have the exiv2 package installed:\n\n```\n~/.config/sxiv/exec/image-info\n```\n\n```\n#!/bin/sh\n\n# Example for ~/.config/sxiv/exec/image-info\n# Called by sxiv(1) whenever an image gets loaded,\n# with the name of the image file as its first argument.\n# The output is displayed in sxiv's status bar.\n\ns=\" | \" # field separator\n\nfilename=$(basename \"$1\")\nfilesize=$(du -Hh \"$1\" | cut -f 1)\n\n# The '[0]' stands for the first frame of a multi-frame file, e.g. gif.\ngeometry=$(identify -format '%wx%h' \"$1[0]\")\n\ntags=$(exiv2 -q pr -pi \"$1\" | awk '$1~\"Keywords\" { printf(\"%s,\", $4); }')\ntags=${tags%,}\n\necho \"${filesize}${s}${geometry}${tags:+$s}${tags}${s}${filename}\"\n```\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Arch Linux forum thread.\n- Sxiv for keyboard layout bépo (keyboard layout in the spirit of Dvorak for French speakers) : Sxiv bépo.\n\n"
    }
  ]
}