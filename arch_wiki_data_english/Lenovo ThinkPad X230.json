{
  "title": "Lenovo ThinkPad X230",
  "url": "https://wiki.archlinux.org/title/Lenovo_ThinkPad_X230",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nTouchpad |  | Yes\nTrackPoint |  | Yes\nKeyboard |  | Yes\nVideo | 8086:0166 | Yes\nWebcam | 04f2:b2ea | Yes\nEthernet | 8086:1502 | Yes\nBluetooth | 0a5c:21e6 | Yes\nSD-card reader | 1180:e823 | Yes\nAudio | 8086:1e20 | Yes\nWireless | 8086:0085 | Yes\nMobile broadband | 0bdb:1926 | Untested\nFingerprint Reader | 147e:2020 | Yes\n\n"
    },
    {
      "title": "Firmware",
      "level": 2,
      "content": "fwupd does not support this device yet.\n\nTo update the firmware on the device, get the latest bootable CD and follow the steps in Flashing BIOS from Linux#Bootable optical disk emulation.\n\n"
    },
    {
      "title": "Display",
      "level": 2,
      "content": "If you experience that your brightness setting is not restored on resume from suspend, then create config:\n\n```\n/usr/share/X11/xorg.conf.d/20-intel.conf\n```\n\n```\nSection \"Device\"\nIdentifier \"card0\"\nDriver \"intel\"\nOption \"Backlight\" \"intel_backlight\"\nBusID \"PCI:0:2:0\"\nEndSection\n```\n\nHD Graphics 4000 supports external 4K display and audio via display port to HDMI adapter, but requires to add 4K mode manually [1]\n\n"
    },
    {
      "title": "Sound control buttons",
      "level": 3,
      "content": "The red LED mute indicators light up automatically, if the corresponding channel is muted in alsamixer. The easiest way to make buttons work is to install PulseAudio and its plugin for your desktop environment.\n\n- GNOME - works out of the box\n- Xfce - install pulseaudio, xfce4-pulseaudio-plugin, add plugin to panel and reboot. Additionally xfce4-pulseaudio-plugin uses pavucontrol as mixer and xfce4-notifyd for sound level popups\n- Handle ACPI events with acpid the hard way. Some functions like thinkpad-mutemic are implemented in thinkpad-scriptsAUR.\n\n"
    },
    {
      "title": "Wacom tablet input",
      "level": 4,
      "content": "Works out of the box with xf86-input-wacom. See Wacom tablet.\n\n"
    },
    {
      "title": "Multitouch screen for the X230t",
      "level": 4,
      "content": "Some X230t models have a multitouch screen in addition to the Wacom tablet. Works out of the box with xf86-input-libinput.\n\n"
    },
    {
      "title": "Touchpad",
      "level": 3,
      "content": "Under certain circumstances, the touchpad may behave very jumpily. Ubuntu Bugtracker offers a solution for this issue. Install Touchpad Synaptics and create the following file:\n\n```\n/etc/X11/xorg.conf.d/50-synaptics.conf\n```\n\n```\nSection \"InputClass\"\n        Identifier \"touchpad\"\n        MatchProduct \"SynPS/2 Synaptics TouchPad\"\n        # MatchTag \"lenovo_x230_all\"\n        Driver \"synaptics\"\n        # fix touchpad resolution\n        Option \"VertResolution\" \"100\"\n        Option \"HorizResolution\" \"65\"\n        # disable synaptics driver pointer acceleration\n        Option \"MinSpeed\" \"1\"\n        Option \"MaxSpeed\" \"1\"\n        # tweak the X-server pointer acceleration\n        Option \"AccelerationProfile\" \"2\"\n        Option \"AdaptiveDeceleration\" \"16\"\n        Option \"ConstantDeceleration\" \"16\"\n        Option \"VelocityScale\" \"20\"\n        Option \"AccelerationNumerator\" \"30\"\n        Option \"AccelerationDenominator\" \"10\"\n        Option \"AccelerationThreshold\" \"10\"\n\t# Disable two fingers right mouse click\n\tOption \"TapButton2\" \"0\"\n        Option \"HorizHysteresis\" \"100\"\n        Option \"VertHysteresis\" \"100\"\n        # fix touchpad scroll speed\n        Option \"VertScrollDelta\" \"500\"\n        Option \"HorizScrollDelta\" \"500\"\nEndSection\n```\n\n"
    },
    {
      "title": "OpenCL",
      "level": 2,
      "content": "Thinkpad X230 based on Intel Ivy Bridge (3rd generation) platform which meets OpenCL 1.2 specification. Unfortunately GPU support in Linux is broken, so beignetAUR and intel-openclAUR will not work. Use CPU-only intel-opencl-runtimeAUR instead.\n\nOpenCL computation performance differ between CPU and GPU, depending on task. In many cases GPU is preferable. For Core(TM) i5-3210M CPU, which incorporates HD Graphics 4000 GPU:\n\n- GPU hashcat -m2500 -b -D 2 --force reports 3095 H/s (checked in Windows)\n- CPU hashcat -m2500 -b -D 1 reports only 2660 H/s, which is the same as no-OpenCL aircrack-ng -S\n\nIn this example OpenCL does not give any advantage, and it is better to look for other options such as building native binaries for your system.\n\n"
    },
    {
      "title": "Power saving",
      "level": 2,
      "content": "Main article: Power saving\n\n"
    },
    {
      "title": "TLP",
      "level": 3,
      "content": "Users of TLP need to pay attention to a hardware bug according to which it is recommended to only use either the upper or lower charging threshold. The following configuration is recommended by the developer of TLP.[2]\n\n```\n/etc/tlp.conf\n```\n\n```\nSTART_CHARGE_THRESH_BAT0=67\nSTOP_CHARGE_THRESH_BAT0=100\n```\n\n"
    },
    {
      "title": "UEFI",
      "level": 2,
      "content": "Laptop incorporates InsydeH2OÂ® UEFI BIOS with classic text interface. It supports UEFI with Secure Boot, UEFI-CSM and Legacy BIOS modes.\n\n"
    },
    {
      "title": "Boot configuration",
      "level": 3,
      "content": "UEFI boot options can be safely (no bricking) set with efibootmgr or UEFI Shell v2 (checked with BIOS 2.77 (G2ETB7WW) EC 1.15). Though you can delete any boot variable, so be careful!\n\nAn EFI boot stub on SSD boots into a display manager in less than 25 seconds in non-CSM mode. Small ESP (100 MiB fat32) also supported.\n\n"
    },
    {
      "title": "USB UEFI update",
      "level": 3,
      "content": "All official updates, including Windows utility, Bootable CD and documentation can be found here. You can use geteltoritoAUR to create bootable USB images from the Bootable CD:\n\n```\n$ geteltorito.pl g2uj24us.iso > update.img \n# dd bs=512K if=update.img of=/dev/sdX\n```\n\nInsert USB stick, reboot and press F12, choose your USB. Follow the instructions.\n\n"
    },
    {
      "title": "Trusted Platform Module",
      "level": 3,
      "content": "Laptop has dedicated TPM 1.2 chip onboard[3][4]. It does not looks like it can be upgraded to TPM 2.0. Chip itself disabled by default sometimes, also owner clearing will not appear without Supervisor password set:\n\n1. Enter Thinkpad UEFI Setup by pressing F1\n1. Set Security > Password > Supervisor password\n1. Set Security > Security Chip > Security Chip [Active]\n1. Save settings by pressing F10 and reboot\n1. Turn laptop off, turn on and UEFI option Security > Security Chip > Clear Security Chip eventually will appear.\n\nProcess described in \"ThinkPad X230 and X230i User Guide\", Chapter 4. Security > Setting the security chip.\n\n"
    },
    {
      "title": "Known issues",
      "level": 2,
      "content": "- There is a BIOS bug that gets in the way of the boot process with LUKS and full-disk encryption. The user is stuck at the \"Loading initial ramdisk\" step, and does not see a password prompt to unlock the encrypted device. You can actually enter your password at this step, and boot-up will continue. However, updating the BIOS will resolve this completely. If you are using coreboot as a BIOS replacement, you can fix this issue by adding 'i915' to the MODULES list in /etc/mkinitcpio.conf and rebuilding your initrams with mkinitcipio -p.\n- UEFI option to clear TPM not working. STM chip datasheet describes physical presence pin, which, probably, can be used as workaround.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Official page\n- Datasheet\n- Hardware maintenance manual\n- ThinkWiki page\n- PCB schematic\n- A Hacker's Ongoing Review for Lenovo ThinkPad X230\n- Installing \"Heads\" and using TPM\n\n"
    }
  ]
}