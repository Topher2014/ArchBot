{
  "title": "Lenovo IdeaPad 5i (16IRU9)",
  "url": "https://wiki.archlinux.org/title/Lenovo_IdeaPad_5i_(16IRU9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Table content:\nHardware | PCI/USB ID | Working?\nBluetooth | 0bda:4853 | Yes\nWireless | 10ec:b852 | Yes\nWebcam | 30c9:00c5 | Yes\nGPU | 8086:a7ac | Yes\nTouchpad | 04f3:327e | Yes\nSD card reader | 1217:8621 | Yes\nAudio | 8086-51ca | Yes\nFingerprint | 04f3:0c98 | Yes\n\nThe Lenovo IdeaPad 5i (16IRU9) is a laptop computer with a 16\" screen, Intel® Core™ 5 120U Processor or Core™ 7 150U Processor , 8GB/16GB of memory, dual-array microphone, stereo speakers, Bluetooth 5.2, and WiFi 6.\n\nThe available ports are:\n\n- 2x USB 3.2 Gen 1 Type-A (one supports USB charging)\n- 2x USB 3.2 Gen 1 Type-C (full function)\n- HDMI 1.4b\n- Headphones / microphone combo jack\n- MicroSD card reader\n\nAll hardware except the fingerprint reader (see #Fingerprint reader) works as tested with Linux Kernel 6.12.1.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Disable Secure Boot in the UEFI before installing. Press the F2 key on boot to access the UEFI setup menu. The bottom of the laptop also has a hole to access the Novo button, which will boot directly to the firmware and boot device selection screens.\n\n"
    },
    {
      "title": "Accessibility",
      "level": 2,
      "content": "The appearance of the UEFI is pretty simple and not very colorful, so it might work well with OCR software. It works with the touchpad and touchscreen.\n\n"
    },
    {
      "title": "Firmware",
      "level": 2,
      "content": "The firmware of the Elan Touchpad and Luxvisions integrated camera can be updated using fwupd.\n\n"
    },
    {
      "title": "Fingerprint reader",
      "level": 2,
      "content": "The Elan Microelectronics ARM-M4 fingerprint reader requires a version of libfprint which supports it (the elanmoc.c driver needs to recognize the 04f3:0c98 vendor and product IDs). Patching this file and installing the library allowed fingerprints to be enrolled and verified.\n\n"
    },
    {
      "title": "Sound",
      "level": 2,
      "content": "If sound and microphones do not work, be sure the sof-firmware package has been installed.\n\n"
    },
    {
      "title": "Bluetooth",
      "level": 2,
      "content": "Bluetooth works just by following the Bluetooth instructions. Sometimes Bluetooth will not enable due to no default controller being found; if so, see Bluetooth#bluetoothctl: No default controller available.\n\n"
    },
    {
      "title": "Hibernation",
      "level": 2,
      "content": "Hibernation works, but the system is unresponsive for 30 seconds if an external monitor is connected when hibernation is initiated. This occurs if the sof-firmware package is installed. A workaround is to add snd_hda_codec_hdmi.enable_silent_stream=N to the modprobe configuration file or the kernel command line, or use systemd to remove the sound card when hibernation begins and add the card back when hibernation ends:\n\n```\n[Unit]\nDescription=Disable and reconnect Intel Raptor Lake-P/U/H cAVS sound device on hibernation\nBefore=sleep.target\nStopWhenUnneeded=yes\n\n[Service]\nUser=root\nType=oneshot\nRemainAfterExit=yes\nExecStart=/usr/bin/bash -c \"echo 1 > /sys/bus/pci/devices/$(lspci -D | grep 'Raptor Lake-P/U/H cAVS' | cut -d' ' -f1)/remove\"\nExecStart=/usr/bin/sleep 1.0s\nExecStop=/usr/bin/sleep 0.5s\nExecStop=/usr/bin/bash -c \"echo 1 > /sys/bus/pci/rescan\"\n\n[Install]\nWantedBy=sleep.target\n```\n\n"
    },
    {
      "title": "Battery conservation",
      "level": 2,
      "content": "The battery conservation mode works. Unlike other Lenovo models, the charge limit threshold appears to be approximately 80% of the battery capacity.\n\n"
    },
    {
      "title": "Power management",
      "level": 2,
      "content": "The power management features described for the Lenovo Ideapad 5 15are05 work. Setting the ideapad_laptop.allow_v4_dytc=1 kernel parameter enables the settings necessary for the power-profiles-daemon to choose the Power Save, Performance, or Balanced power profile. The ACPI calls described there do not work, however, as the BIOS has different ACPI methods.\n\n"
    },
    {
      "title": "Function keys",
      "level": 2,
      "content": "Note: These are only applicable to Linux Kernel 6.12.1 as of late November 2024. Earlier kernel versions do not support the Fn+F4 and Fn+F8 keys.\n\nTable content:\nKey | Visible?1 | Marked?2 | Effect\nFn+Esc | No | Yes | Enables Fn lock\nFn+F1 | Yes | Yes | XF86AudioMute\nFn+F2 | Yes | Yes | XF86AudioLowerVolume\nFn+F3 | Yes | Yes | XF86AudioRaiseVolume\nFn+F4 | Yes | Yes | XF86AudioMicMute\nFn+F5 | Yes | Yes | XF86MonBrightnessDown\nFn+F6 | Yes | Yes | XF86MonBrightnessUp\nFn+F7 | Yes | Yes | XF86Display\nFn+F8 | Yes | Yes | XF86RFKill\nFn+F9 | Yes | Yes | Inputs Super_L+i\nFn+F10 | Yes | Yes | XF86ScreenSaver\nFn+F11 | Yes | Yes | Inputs Control_L+Alt_L+Tab\nFn+F12 | Yes | Yes | XF86Calculator\nFn+Insert | Yes | Yes | XF86Favorites\nFn+PrtSc | Yes | Yes | invokes Print Screen function\n\n1. The key is visible to xev and similar tools\n1. The physical key has a symbol on it, which describes its function\n\n"
    }
  ]
}