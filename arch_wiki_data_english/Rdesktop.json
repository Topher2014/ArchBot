{
  "title": "Rdesktop",
  "url": "https://wiki.archlinux.org/title/Rdesktop",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- xrdp\n- Remmina\n\nrdesktop is a free, open source client for Microsoft's proprietary RDP protocol released under the GNU General Public License. Use rdesktop to connect to Windows RDP server to remotely administrate the Windows box.\n\nAs of July 2008, rdesktop implements a large subset of the RDP 5 protocol, including:\n\n- Bitmap caching\n- File system, audio, serial port and printer port redirection\n- Mappings for most international keyboards\n- Stream compression and encryption\n- Automatic authentication\n- Smartcard support\n- RemoteApp like support called \"seamless\" mode via SeamlessRDP\n\nStill unimplemented are:\n\n- Remote Assistance requests\n- USB device redirection\n\nSupport for the additional features available in RDP 5.1 and RDP 6 (including multi-head display spanning and window composition) also have not yet been implemented.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install the rdesktop package.\n\n"
    },
    {
      "title": "Usage",
      "level": 2,
      "content": "For a complete listing of options see rdesktop(1). Here is a typical line:\n\n```\n$ rdesktop -g 1440x900 -P -z -x l -r sound:off -u windowsuser 98.180.102.33:3389\n```\n\nReading from left to right:\n\nTable content:\n-g 1440x900 | Sets the resolution of the display to 1440x900\n-P | Enables bitmap caching/speeds up xfers.\n-z | Enables RDP datastream compression\n-x l | Uses the \"lan\" quality experience level, see rdesktop(1) § x\n-r sound:off | Redirects sound generated on the server to null\n-u windowsuser | This defines the username to use when logging into the Windows box\n98.180.102.33:3389 | This is the IP address and port number of the target machine\n\n"
    },
    {
      "title": "Automatic scaling of geometry",
      "level": 3,
      "content": "In order to automatically scale the geometry to fit the screen, one can use the -g command line option. Either by using percentage:\n\n```\n$ rdesktop -g 100% -P -z 98.180.102.33:3389\n```\n\nor with numerical values:\n\n```\n-g $(xrandr -q | awk '/Screen 0/ {print int($8/1.28) $9 int($10/1.2)}' | sed 's/,//g')\n```\n\n"
    },
    {
      "title": "Remote desktop using NetBIOS names instead of using IP address",
      "level": 3,
      "content": "If you do not know the IP address of a Windows computer in a network, you have to enable wins support. To do so, you have to install samba. To enable wins in samba add the following line:\n\n```\n/etc/samba/smb.conf\n```\n\n```\nwins support = yes\n```\n\nThen you have to install winbind, then edit the /etc/nsswitch.conf and add the \"wins\" to the list of hosts.\n\nRestart smb and nmb services and test your success by pinging a Windows NetBIOS host.\n\n"
    },
    {
      "title": "Supplying missing cursors",
      "level": 3,
      "content": "See Cursor themes#Supplying missing cursors.\n\n"
    },
    {
      "title": "Failed to initialize NLA",
      "level": 3,
      "content": "When trying to remote desktop into a Windows 10 or Windows 11 host, you might get this error:\n\n```\nFailed to initialize NLA, do you have correct Kerberos TGT initialized ?\nFailed to connect, CredSSP required by server (check if server has disabled old TLS versions, if yes use -V option)\n```\n\nIf you own or have admin access to the host, you can work around this issue by allowing clients to connect without NLA. Search rdp disable nla for instructions. Note that this might introduce security issues on a public-facing host, so use this with caution.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- rdesktop official homepage\n- freerdp a rdesktop fork that supports RDP 7.1 features including network level authentication (NLA). See also [1].\n\n"
    }
  ]
}