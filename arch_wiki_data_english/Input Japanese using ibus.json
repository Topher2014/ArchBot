{
  "title": "Input Japanese using ibus",
  "url": "https://wiki.archlinux.org/title/Input_Japanese_using_ibus",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section is a candidate for merging with ibus.** This article or section is a candidate for merging with ibus.\n\nThis article or section is a candidate for merging with ibus.\n\nThis page explains how to get the Japanese input to work using IBus.\n\nIf you use SCIM, see Smart Common Input Method platform.\n\nIf you use Uim, see Input Japanese using uim.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "You need the following packages to input Japanese.\n\n- Japanese fonts\n- Japanese input method (Kana to Kanji conversion engine)\n- Input method framework: ibus\n\n"
    },
    {
      "title": "Japanese fonts",
      "level": 3,
      "content": "see also Fonts, Font configuration and Localization/Japanese for configuration or more detail.\n\nRecommended Japanese fonts are as follows.\n\n"
    },
    {
      "title": "Sans-serif",
      "level": 4,
      "content": "- adobe-source-han-sans || adobe-source-han-sans-jp-fonts or adobe-source-han-sans-otc-fonts\n\n"
    },
    {
      "title": "Serif and Sans-serif",
      "level": 4,
      "content": "- IPA fonts || otf-ipafont\n\nIf you want to show 2channel Shift JIS art properly, use the following fonts:\n\n- Monapo font (AUR: ttf-monapoAUR)\n\n"
    },
    {
      "title": "ibus",
      "level": 3,
      "content": "Install the ibus package.\n\n"
    },
    {
      "title": "Anthy",
      "level": 4,
      "content": "Anthy is one of the most popular Japanese input methods in the open source world.\n\nInstall ibus-anthy from the official repositories.\n\n"
    },
    {
      "title": "Mozc",
      "level": 4,
      "content": "See Mozc.\n\nMozc is a Japanese Input Method Editor (IME) designed for multi-platform such as Chromium OS, Windows, Mac and Linux which originates from Google Japanese Input.\n\nInstall ibus-mozcAUR which is available on AUR.\n\n"
    },
    {
      "title": "Environment variables",
      "level": 3,
      "content": "Apply the following environment variables to Xorg:\n\n```\nGTK_IM_MODULE='ibus'\nQT_IM_MODULE='ibus'\nGLFW_IM_MODULE='ibus'\nXMODIFIERS='@im=ibus'\n```\n\n"
    },
    {
      "title": "Using systemd",
      "level": 3,
      "content": "If you are using systemd to manage your X session, you will need to set the environment variables in your systemd session rather than an init script.\n\n```\n~/.config/systemd/user/ibus-env.service\n```\n\n```\n[Unit]\nDescription=ibus environment initialization\nBefore=xorg.target\n\n[Service]\nType=oneshot\nExecStart=/usr/bin/systemctl --user set-environment XMODIFIERS=@im=ibus\nExecStart=/usr/bin/systemctl --user set-environment GTK_IM_MODULE=ibus\nExecStart=/usr/bin/systemctl --user set-environment QT_IM_MODULE=ibus\nExecStart=/usr/bin/systemctl --user set-environment GLFW_IM_MODULE=ibus\n```\n\n```\n~/.config/systemd/user/ibus.service\n```\n\n```\n[Unit]\nDescription=ibus daemon\nWants=ibus-env.service\nAfter=xorg.target\n\n[Service]\nExecStart=/usr/bin/ibus-daemon\nRestart=on-abort\n\n[Install]\nWantedBy=xorg.target\n```\n\nLastly, you will need to enable ibus.service\n\n"
    },
    {
      "title": "ibus preferences",
      "level": 3,
      "content": "Configure ibus preferences by running:\n\n```\n$ ibus-setup\n```\n\nwhich brings forth a GUI.\n\nNavigate to the 'Input Method' tab, click on 'Add', click on 'Japanese' and select your input method.\n\nNow click on the newly added list entry and click on 'Preferences' to configure your input method.\n\n"
    },
    {
      "title": "Anthy preferences",
      "level": 4,
      "content": "Change 'Input Mode:' from 'Latin' to 'Hiragana'\n\n"
    },
    {
      "title": "After cofiguration",
      "level": 4,
      "content": "You can run ibus-daemon -dr or restart X to test your settings.\n\nBy default Super+Space cycles between your input methods\n\nProvided everything went well you should be able to input Japanese in X.\n\n"
    }
  ]
}