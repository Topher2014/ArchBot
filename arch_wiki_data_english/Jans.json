{
  "title": "Jans",
  "url": "https://wiki.archlinux.org/title/Jans",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Janssen Project is an open source digital identity platform that provides an OAuth Authorization Server and a certified OpenID Connect Provider. It is an alternative to Keycloak.\n\n"
    },
    {
      "title": "Jans Auth Server",
      "level": 2,
      "content": "A very complete Java OAuth Authorization Server and a certified OpenID Connect Provider.\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install jans-auth-serverAUR\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "Jans supports several Database backends LDAP, Couchbase. PostgreSQL, MySQL and Spanner.\n\nEdit /etc/jans/conf/jans.properties and set persistence.type accordingly.\n\nTo create configuration, execute:\n\n```\n# /usr/share/jans/bin/generate_config.sh auth example.org:8080\n```\n\n"
    },
    {
      "title": "LDAP",
      "level": 4,
      "content": "The best support is for OpenDJ, but you might be able to use OpenLDAP as well.\n\nUpdate jans-ldap.properties with your LDAP settings:\n\n```\n# sed -i \"s|%(persistence_type)s|ldap|\" /etc/jans/conf/jans.properties\n# sed -i \"s|%(ldap_binddn)s|cn=Directory Manager|\" /etc/jans/conf/jans-ldap.properties\n# sed -i \"s|%(ldap_hostname)s:%(ldaps_port)s|127.0.0.1:1389|\" /etc/jans/conf/jans-ldap.properties\n# sed -i \"s|useSSL: true|useSSL: false|\" /etc/jans/conf/jans-ldap.properties\n```\n\n```\n# sed -i \"s|%(ldap_bind_encoded_pw)s|$(echo -n \"YOUR_LDAP_PASSWORD_HERE\" | openssl des-ede3-ecb -e -a -K $(cat \"/etc/jans/conf/salt\" | cut -d '=' -f 2 | xxd -p))|\" /etc/jans/conf/jans-ldap.properties\n```\n\nCopy LDAP schema:\n\n```\n# cp /usr/share/jans/schema-opendj/101-jans.ldif /var/lib/opendj/config/schema/\n```\n\nLoad generated config in LDAP:\n\n```\n#  opendj-ldapmodify -D \"cn=Directory Manager\" -p 1389 -w $PASSWORD /tmp/jansconfig/auth.ldif\n```\n\n"
    },
    {
      "title": "Jetty",
      "level": 4,
      "content": "Install jetty11AUR\n\nAdd necessary modules:\n\n```\n# java -jar /usr/share/jetty11/start.jar jetty.base=/etc/jetty11 --add-module=deploy,jsp,websocket-jakarta,logging-log4j2,http,console-capture\n```\n\nInstall webapp:\n\n```\n# ln -sf /etc/jans/jetty/start.d/jans.ini /etc/jetty11/start.d/jans.ini\n# ln -sf /etc/jans/jetty/webapps/jans-auth-server.xml /var/lib/jetty11/webapps/\n# ln -sf /etc/jans/jetty/webapps/agama_web_resources.xml /var/lib/jetty11/webapps/\n```\n\nStart/enable jetty11.service.\n\n"
    },
    {
      "title": "Jans Config API",
      "level": 2,
      "content": "RESTful control plane for all Janssen components.\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install jans-config-apiAUR\n\nAvailable plugins:\n\n- jans-config-usersAUR\n- jans-config-fidoAUR\n- jans-config-linkAUR\n- jans-config-samlAUR\n- jans-config-scimAUR\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "Execute:\n\n```\n# /usr/share/jans/bin/generate_config.sh config example.org:8080\n```\n\n"
    },
    {
      "title": "LDAP",
      "level": 4,
      "content": "```\n#  opendj-ldapmodify -D \"cn=Directory Manager\" -p 1389 -w $PASSWORD /tmp/jansconfig/config-api.ldif\n```\n\n"
    },
    {
      "title": "Jetty",
      "level": 4,
      "content": "Install webapp:\n\n```\n# ln -sf /etc/jans/jetty/webapps/jans-config-api.xml /var/lib/jetty11/webapps/\n```\n\n"
    },
    {
      "title": "Jans SCIM",
      "level": 2,
      "content": "SCIM JSON/REST API for user management, including associated FIDO devices.\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install jans-scim-serverAUR and jans-config-scimAUR for Jans Config API.\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "Execute:\n\n```\n# /usr/share/jans/bin/generate_config.sh scim example.org:8080\n```\n\n"
    },
    {
      "title": "LDAP",
      "level": 4,
      "content": "```\n#  opendj-ldapmodify -D \"cn=Directory Manager\" -p 1389 -w $PASSWORD /tmp/jansconfig/scim.ldif\n```\n\n"
    },
    {
      "title": "Jetty",
      "level": 4,
      "content": "Install webapp:\n\n```\n# ln -sf /etc/jans/jetty/webapps/jans-scim.xml /var/lib/jetty11/webapps/\n```\n\n"
    },
    {
      "title": "Jans Text UI (\"TUI\")",
      "level": 2,
      "content": "Command-line and interactive configuration tools to help you correctly call the Config API.\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install jans-cli-tuiAUR\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "Execute:\n\n```\n# /usr/share/jans/bin/generate_config.sh cli example.org:8080\n```\n\n"
    },
    {
      "title": "LDAP",
      "level": 4,
      "content": "```\n#  opendj-ldapmodify -D \"cn=Directory Manager\" -p 1389 -w $PASSWORD /tmp/jansconfig/cli.ldif\n```\n\n"
    },
    {
      "title": "Jans FIDO",
      "level": 2,
      "content": "Enables end-users to enroll and authenticate with passkeys and other FIDO authenticators.\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install jans-fido2AUR and jans-config-fidoAUR for Jans Config API.\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "Execute:\n\n```\n# /usr/share/jans/bin/generate_config.sh fido2 example.org:8080\n```\n\n"
    },
    {
      "title": "LDAP",
      "level": 4,
      "content": "```\n#  opendj-ldapmodify -D \"cn=Directory Manager\" -p 1389 -w $PASSWORD /tmp/jansconfig/fido2.ldif\n```\n\n"
    },
    {
      "title": "Jetty",
      "level": 4,
      "content": "Install webapp:\n\n```\n# ln -sf /etc/jans/jetty/webapps/jans-fido2.xml /var/lib/jetty11/webapps/\n```\n\n"
    },
    {
      "title": "Jans LDAP Link",
      "level": 2,
      "content": "A group of components that provide synchronization services to update the Janssen User Store from an external authoritative LDAP data source.\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install jans-linkAUR and jans-config-linkAUR for Jans Config API.\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "Execute:\n\n```\n# /usr/share/jans/bin/generate_config.sh link\n```\n\n"
    },
    {
      "title": "LDAP",
      "level": 4,
      "content": "```\n#  opendj-ldapmodify -D \"cn=Directory Manager\" -p 1389 -w $PASSWORD /tmp/jansconfig/link.ldif\n```\n\n"
    },
    {
      "title": "Jetty",
      "level": 4,
      "content": "Install webapp:\n\n```\n# ln -sf /etc/jans/jetty/webapps/jans-link.xml /var/lib/jetty11/webapps/\n```\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install jans-config-samlAUR for Jans Config API.\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "Execute:\n\n```\n# /usr/share/jans/bin/generate_config.sh saml keycloak.example.org\n```\n\n"
    },
    {
      "title": "LDAP",
      "level": 4,
      "content": "```\n#  opendj-ldapmodify -D \"cn=Directory Manager\" -p 1389 -w $PASSWORD /tmp/jansconfig/saml.ldif\n```\n\n"
    },
    {
      "title": "Jans Casa",
      "level": 2,
      "content": "Jans Casa is a self-service web portal for end-users to manage authentication and authorization preferences for their account in the Janssen server.\n\n"
    },
    {
      "title": "Installation",
      "level": 3,
      "content": "Install jans-casaAUR.\n\n"
    },
    {
      "title": "Configuration",
      "level": 3,
      "content": "Execute:\n\n```\n# /usr/share/jans/bin/generate_config.sh casa example.org:8080\n```\n\n"
    },
    {
      "title": "LDAP",
      "level": 4,
      "content": "```\n#  opendj-ldapmodify -D \"cn=Directory Manager\" -p 1389 -w $PASSWORD /tmp/jansconfig/casa.ldif\n```\n\n"
    },
    {
      "title": "Jetty",
      "level": 4,
      "content": "Add necessary modules:\n\n```\n# java -jar /usr/share/jetty11/start.jar jetty.base=/etc/jetty11 --add-module=deploy,jsp,websocket-jakarta,logging-log4j2,http,console-capture,cdi-decorate\n```\n\nInstall webapp:\n\n```\n# ln -sf /etc/jans/jetty/webapps/casa.xml /var/lib/jetty11/webapps/\n# ln -sf /etc/jans/jetty/webapps/jans-casa_web_resources.xml /var/lib/jetty11/webapps/\n```\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Janssen Project Documentation\n\n"
    }
  ]
}