{
  "title": "Lenovo Yoga 7i",
  "url": "https://wiki.archlinux.org/title/Lenovo_Yoga_7i",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Table content:\nHardware | PCI/USB ID | Working?\nGPU | 8086:9a49 | Yes\n8086:46a6 | Yes\nWi-Fi | 8086:a0f0 | Yes\n8086:51f0 | Yes\nBluetooth | 8087:0026 | Yes\n8087:0033 | Yes\nAudio | 8086:a0c8 | Yes\n8086:51c8 | Yes\nWebcam | 5986:212a | Yes\n5986:2146 | Yes\nKeyboard |  | Yes\nTouchpad |  | Yes\nTouchscreen |  | Yes\nActive pen |  | Yes\nFingerprint reader | 27c6:55b4 | Yes\n\nThis page provides information for the Gen 6 and Gen 7 version of the Intel-equipped Yoga 7 laptops.\n\nMany of these points mentioned here should also be applicable to Gen 8 versions. See Lenovo Yoga 7i Gen 8 (16IRL8) for details on one specific Yoga 7i Gen 8 model.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "If you see Possibly missing firmware for module xhci_pci when you run mkinitcpio, you can safely ignore the message as this laptop does not have a Renesas USB3 controller. See Mkinitcpio#Possibly missing firmware for module XXXX for details.\n\n"
    },
    {
      "title": "Accessibility",
      "level": 2,
      "content": "The speakers do not work out of the box (see below), so in particular speech-aided installation is not possible.\n\n"
    },
    {
      "title": "Control Power Saving Modes",
      "level": 3,
      "content": "Install power-profiles-daemon and then enable/start power-profiles-daemon.service.\n\nDesktop environments will then detect support for it.\n\n"
    },
    {
      "title": "Activating S3 sleep",
      "level": 3,
      "content": "In order to support \"Windows Modern Standby\", the BIOS does not advertise S3 sleep (suspend to RAM), as discussed in detail in this forum post.\n\nFollow DSDT#Recompiling it yourself to patch the DSDT table with the following patch:\n\n```\n--- dsdt.dsl\n+++ dsdt.dsl\n@@ -18,7 +18,7 @@\n  *     Compiler ID      \"INTL\"\n  *     Compiler Version 0x20210105 (539033861)\n  */\n-DefinitionBlock (\"\", \"DSDT\", 2, \"LENOVO\", \"CB-01   \", 0x00000002)\n+DefinitionBlock (\"\", \"DSDT\", 2, \"LENOVO\", \"CB-01   \", 0x00000003)\n {\n     External (_GPE.AL6F, MethodObj)    // 0 Arguments\n     External (_GPE.P0L6, MethodObj)    // 0 Arguments\n@@ -516,7 +516,7 @@\n\n     Name (SS1, Zero)\n     Name (SS2, Zero)\n-    Name (SS3, Zero)\n+    Name (SS3, One)\n     Name (SS4, One)\n     OperationRegion (GNVS, SystemMemory, 0x45AB8018, 0x0A9B)\n     Field (GNVS, AnyAcc, Lock, Preserve)\n```\n\nSee Power management/Suspend and hibernate#Changing suspend method for more details on the general context.\n\n"
    },
    {
      "title": "Battery conservation mode",
      "level": 3,
      "content": "See Laptop/Lenovo#Battery conservation mode.\n\n"
    },
    {
      "title": "Function keys",
      "level": 2,
      "content": "Table content:\nKey | Visible?1 | Marked?2 | Effect\nFn+Esc | No | Yes | Enables Fn lock\nF1 | Yes | Yes | XF86AudioMute\nF2 | Yes | Yes | XF86AudioLowerVolume\nF3 | Yes | Yes | XF86AudioRaiseVolume\nF4 | Yes | Yes | XF86AudioMicMute\nF5 | Yes | Yes | XF86MonBrightnessDown, see below\nF6 | Yes | Yes | XF86MonBrightnessUp, see below\nF7 | Yes | Yes | Super+p\nF8 | Yes3 | Yes | XF86RFKill, toggles soft-block Wi-Fi and bluetooth\nF9 | Yes | Yes | Super+i\nF10 | Yes | Yes | Super+l\nF11 | Yes | Yes | Ctrl+Alt+Tab\nF12 | Yes | Yes | XF86Calculator\nIns | No | Yes | Opens Lenovo Vantage on Windows, not usable on Linux\nPrint | Yes | Yes | Mod+Shift+s\nFn+Space | No | Yes | Change keyboard backlight level\n\n1. The key is visible to xev and similar tools\n1. The physical key has a symbol on it, which describes its function\n1. systemd-logind handles this by default\n\n"
    },
    {
      "title": "Brightness keys",
      "level": 3,
      "content": "The brightness hotkeys only emit signals after resuming from suspend-to-RAM or hibernation, but not after (re)booting. This is because they depend on initialization by an ACPI method which is called when resuming from a sleep state but not on boot.\n\nThis should be fixed in kernel 6.2.x: https://bugzilla.kernel.org/show_bug.cgi?id=214899\n\n"
    },
    {
      "title": "Speaker audio",
      "level": 2,
      "content": "Install all the packages listed by Sound Open Firmware.\n\nIf your speakers sound tinny due to ALSA only using the tweeters, use the snd-sof-intel-hda-common hda_model=alc287-yoga9-bass-spk-pin kernel module parameter.\n\nOn more recent kernels (>=6.11.0 at least), use snd-sof-intel-hda-generic hda_model=alc287-yoga9-bass-spk-pin instead.\n\n"
    },
    {
      "title": "Tablet PC",
      "level": 2,
      "content": "Install iio-sensor-proxy to get the accelerometer working and enable support for screen rotation in Destop Environments such as GNOME or KDE.\n\nCheck out Tablet PC for more information.\n\n"
    },
    {
      "title": "GNOME Screen Rotation",
      "level": 3,
      "content": "See Tablet PC#With GNOME 2.\n\n"
    },
    {
      "title": "Fingerprint reader",
      "level": 2,
      "content": "There is experimental support for the Goodix 55b4 fingerprint reader this laptop ships with. Thanks to the Goodix Fingerprint Discord.\n\nTo get it working:\n\n1. Install fprintd and libfprint-goodixtls-55x4AUR\n1. Follow the instructions at https://github.com/goodix-fp-linux-dev/goodix-fp-dump#how-to-use-it to reflash the firmware of the fingerprint reader\n1. Start the fprintd service for the first time and enroll fingerprints in your DE or following instructions in fprint\n\nThere is a known issue with this experimental driver where sometimes after a long sleep mode period you will need to restart the fprintd service to get it working again.\n\n"
    },
    {
      "title": "Screen flickering",
      "level": 2,
      "content": "If you see screen flickering or stuttering, follow the instructions at Intel graphics#Screen flickering.\n\n"
    }
  ]
}