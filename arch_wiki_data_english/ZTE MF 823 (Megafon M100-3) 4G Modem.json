{
  "title": "ZTE MF 823 (Megafon M100-3) 4G Modem",
  "url": "https://wiki.archlinux.org/title/ZTE_MF_823_(Megafon_M100-3)_4G_Modem",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.** This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nThis article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "As described below, usb_modeswitch will likely comes out handy. Install it.\n\n"
    },
    {
      "title": "Device identification",
      "level": 2,
      "content": "When the device is switched to an 1405 product code you will get:\n\n```\n$ lsusb\n```\n\n```\nBus 002 Device 018: ID 19d2:1405 ZTE WCDMA Technologies MSM\n```\n\nHere are the USB product codes for this device:\n\nIf your modem does not appear as 19d2:1405 (or 1403), check the USB 3G Modem#Mode switching article.\n\n"
    },
    {
      "title": "Ethernet connection established",
      "level": 2,
      "content": "When the device has an Ethernet interface the usual Network configuration programs should handle it. When they are, you will see that the LED (Blue - 2G/3G or Green - 4G) on modem is not blinking. To establish a connection, the following link (CGI command) should be entered in a browser:\n\nhttp://192.168.0.1/goform/goform_set_cmd_process?goformId=CONNECT_NETWORK\n\nTo avoid entering this link every time, switch the device to auto-connection mode:\n\nhttp://192.168.0.1/goform/goform_set_cmd_process?goformId=SET_CONNECTION_MODE&ConnectionMode=auto_dial\n\nIf you are setting up internet using a command-line shell you should make request with referrer, as in:\n\n```\ncurl --header \"Referer: http://192.168.0.1/index.html\" http://192.168.0.1/goform/goform_set_cmd_process?goformId=CONNECT_NETWORK\n```\n\notherwise you will get response {\"result\":\"faulure\"}\n\n"
    },
    {
      "title": "Commands",
      "level": 2,
      "content": "CGI command for 2G/3G/4G mode selection:\n\n```\nhttp://192.168.0.1/goform/goform_set_cmd_process?goformId=SET_BEARER_PREFERENCE&BearerPreference=\n```\n\nfollowing options available after \"=\" sign (case-sensetive)\n\n```\nNETWORK_auto\nWCDMA_preferred\nGSM_preferred\nOnly_GSM\nOnly_WCDMA\nOnly_LTE\nWCDMA_AND_GSM\nWCDMA_AND_LTE\nGSM_AND_LTE\n```\n\nThis should be followed by the NETWORK CONNECT CGI command given before.\n\nTo switch the modem to FACTORY mode (WARNING! Unable to recieve further CGI commands, connection will be lost!), issue this link:\n\n```\nhttp://192.168.0.1/goform/goform_process?goformId=MODE_SWITCH&switchCmd=FACTORY\n```\n\nYou may then need to run the following command (as root) in order to access the AT command serial port:\n\n```\n# echo 0x19d2 0x16 > /sys/module/usbserial/drivers/usb-serial:generic/new_id\n```\n\nThe port should appear as /dev/ttyUSBn, e.g. /dev/ttyUSB1. When you discover the command port, you can use your favourite serial terminal emulation program to control the device. The commands below may be especially useful (here shown with modem-cmd):\n\n```\n# modem-cmd /dev/ttyUSB1 AT+ZCDRUN=8     # switch to 1403 mode (RNDIS)\n# modem-cmd /dev/ttyUSB1 AT+ZCDRUN=9     # switch to 1225 mode (default)\n# modem-cmd /dev/ttyUSB1 AT+ZCDRUN=F     # exit DOWNLOAD mode and switch to selected mode (RNDIS or default)\n```\n\n"
    },
    {
      "title": "Telnet connection",
      "level": 2,
      "content": "The modem is available for telnet connection:\n\n```\ntelnet 192.168.0.1\nlogin: root\npassword: zte9x15\n```\n\nAs you can see, the modem has an embeded Linux system inside. You can even install some ARM-base packages (mc, nano...) or change something in Web-menu. Explore it carefully!\n\n"
    },
    {
      "title": "Possible usage with product code 1403",
      "level": 2,
      "content": "For some reason this device can get stuck in mode 0016 and fails to switch to any other mode. I was unsuccessful in trying to switch modes using usb_modeswitch or sending AT commands to /dev/ttyUSB0 on various Linux systems. I successfully managed to change modes from 0016 to 1403 using Mac OSX. I was then able to use the dongle on Linux.\n\nIn mode 0016 on OSX you will see the follow interfaces:\n\n```\n/dev/tty.ZTEUSBATPort_\n/dev/tty.ZTEUSBModem_\n/dev/tty.ZTEUSBDIAGPort_\n```\n\nYou can switch modes to 1403 by sending AT commands to the USBModem_ port by doing:\n\n```\nscreen /dev/tty.ZTEUSBModem_ 9600\n\n>>ATI\nManufacturer: ZTE CORPORATION\nModel: MF823\nRevision: MF823_T03\nIMEI: 866948013728723\n+GCAP: +CGSM\n\n>>AT+CREG?\n+CREG: 0,1\nOK\n\n>>AT+COPS?\n+COPS: 0,0,\"Telstra Mobile\",7\nOK\n\n>>AT+ZCDRUN=8+AT+ZCDRUN=F\nexit download mode result(0:FAIL 1:SUCCESS):1\nOK\n```\n\nNow the device should act as a ethernet interface no matter which system you plug it into.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "whirlpool.net.au - Linux & Serial Diags\n\ngsmforum.ru - ZTE MF823 thread (partially paywalled, in Russian)\n\n"
    }
  ]
}