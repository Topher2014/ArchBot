{
  "title": "Diretrizes de pacotes de shell",
  "url": "https://wiki.archlinux.org/title/Diretrizes_de_pacotes_de_shell",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "32-bit – CLR – CMake – Cross – DKMS – Eclipse – Electron – Fonte – Free Pascal – GNOME – Go – Haskell – Java – KDE – Kernel – Lisp – Meson – MinGW – Node.js – Nonfree – OCaml – Perl – PHP – Python – R – Ruby – Rust – Shell – VCS – Web – Wine\n\nArtigos relacionados\n\n- Shell de linha de comando\n\n"
    },
    {
      "title": "Instalação",
      "level": 2,
      "content": "Para usuários alterarem os shells, o shell deve aparecer em /etc/shells. A maioria dos pacotes de shell têm que instalar scripts como o abaixo:\n\n```\nnome_do_shell.install\n```\n\n```\npost_install() {\n    grep -Fqx /bin/nome_do_shell /etc/shells || echo /bin/nome_do_shell >>/etc/shells\n    grep -Fqx /usr/bin/nome_do_shell /etc/shells || echo /usr/bin/nome_do_shell >>/etc/shells\n}\n\npost_upgrade() {\n    post_install\n}\n\npost_remove() {\n    sed -i -r '/^(\\/usr)?\\/bin\\/nome_do_shell$/d' etc/shells\n}\n```\n\n"
    },
    {
      "title": "Completações de shell",
      "level": 2,
      "content": "A maioria dos shells fornece um conjunto integrado de completações para alguns comandos comuns, enquanto também verifica pelo menos um diretório do sistema em busca de funções que podem ser fornecidas por outros pacotes. A tabela a seguir é um resumo de onde os pacotes podem colocar os arquivos de completação e quais arquivos devem ser nomeados.\n\nTable content:\nShell | Diretório | Arquivo\nBash | /usr/share/bash-completion/completions | nome_do_binário\nfish | /usr/share/fish/vendor_completions.d | nome_do_binário.fish\nZsh | /usr/share/zsh/site-functions | _nome_do_binário\n\nOutros shells:\n\n- Elvish fornece algumas completações padrão, mas não tem um diretório de todo o sistema onde as completações podem ser fornecidos ainda[1]. Para pacotes que geram funções de completações de shell para Elvish, uma solução seria empacotá-los /usr/share/elvish/completions/nome_do_binário.elv e usar um post_install() para imprimir uma dica para os usuários fazerem um link simbólico para o diretório $XDG_CONFIG_HOME/elvish/lib/.\n\n"
    }
  ]
}