{
  "title": "Lenovo ThinkPad X240",
  "url": "https://wiki.archlinux.org/title/Lenovo_ThinkPad_X240",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nThe Lenovo X240 is a laptop from the Lenovo Ultrabook Series and also is a complete redesign of the X Series. This can be observed especially with devices like the touchpad, which has been changed to be a one-click touchpad instead of having the classic 5 button touchpad. The X240 is a very light device, weighing in at just 2.84 lbs (1.36 kg) and measuring 12.02\" x 8.19\" x 0.79\".\n\n"
    },
    {
      "title": "Tested Configuration",
      "level": 2,
      "content": "Table content:\nFeature | X240 | X240 (20AMS4SM00) | X240 (20ALA0K-WIG) | X240 (20ALCTO1WW)\nCPU | Intel(R) Core(TM) i7-4600U CPU @ 2.10GHz | Intel(R) Core(TM) i5-4210U CPU @ 2.7GHz | Inter(R) Core(TM) i5-4200U CPU @ 1.6 GHz | Inter(R) Core(TM) i5-4300U CPU @ 1.9 GHz\nGraphics | Intel HD 4400 - Haswell-ULT | Intel HD 4400 - Haswell-ULT | Intel HD 4400 - Haswell-ULT | Intel HD 4400 - Haswell-ULT\nRam | 8 GB | 8 GB | 4 GB | 4 GB\nDisk | Samsung 5120 SSD | Seagate ST500LM000-SSHD-8GB | WDC WD10JPVX-08JC3T5 | Samsung 840 Evo\nDisplay | 12.5\" IPS FHD (1920x1080) | 12.5\" IPS FHD (1920x1080) | 12.5\" IPS 1366x768 | 12.5\" IPS FHD 1920x1080\nWireless | Intel Corporation Wireless 7260 | Intel Corporation Wireless 7260 | Intel Corporation Wireless 7260 | Intel Corporation Wireless 7260\nBuilt-in Battery | 9 Cell | 9 Cell | Not Tested | 3 Cell\nAdditional Plugable Battery | 6 Cell 19+ | 6 Cell 19+ | 6 Cell 19+ | 3 Cell\nBacklight Keyboard | Yes | Yes | Yes | -\nThinkLight | No | No | No | -\nFingerprint Scanner | Yes | Yes | Yes | Yes\nBluetooth | Yes | Yes | Yes | Yes\nCamera | Yes | Yes | Yes | Yes\nNFC | No | - | - | -\n\n"
    },
    {
      "title": "Use analog sound card by default in ALSA",
      "level": 3,
      "content": "You likely need to change the ALSA default sound card if you want to output sound via line-out by default.\n\nInstall the alsa-utils package, run aplay -l and inspect its output:\n\n```\n**** List of PLAYBACK Hardware Devices ****\ncard 0: HDMI [HDA Intel HDMI], device 3: HDMI 0 [HDMI 0]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\ncard 0: HDMI [HDA Intel HDMI], device 7: HDMI 1 [HDMI 1]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\ncard 0: HDMI [HDA Intel HDMI], device 8: HDMI 2 [HDMI 2]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\ncard 1: PCH [HDA Intel PCH], device 0: ALC3232 Analog [ALC3232 Analog]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\n```\n\nThe card that drives the analog line-out is in this case card #1. Create a global configuration file to make it the default:\n\n```\n$ cat /etc/asound.conf\n```\n\n```\ndefaults.ctl.card 1\ndefaults.pcm.card 1\ndefaults.timer.card 1\n```\n\nAlternatively, the same configuration may be set in $HOME/.asoundrc.\n\n"
    },
    {
      "title": "Touchpad",
      "level": 3,
      "content": "The touchpad works out of the box. You will need to install xf86-input-synaptics.\n\nSome users may prefer to use the trackpoint over the touchpad. In that case, the touchpad can be disabled via synclient TouchpadOff=1 (will be gone after re-login). See Synaptics for more information and options.\n\n"
    },
    {
      "title": "Battery",
      "level": 3,
      "content": "Despite they focus on power management under Microsoft Windows, it might be useful to read the following articles from the official documentation:\n\n- Easy ways to extend your battery life - ideapad/Lenovo/ThinkPad laptops\n- Display contrast reduced while on battery mode on ThinkPad X220\n\n"
    },
    {
      "title": "TrackPoint",
      "level": 3,
      "content": "The TrackPoint is usuable out of the box, but the default parameters for speed, sensitivity and inertia yield only insufficient navigation ability given the high-res display. The following udev configuration delivers a snappy experience:\n\n```\n$ cat /etc/udev/rules.d/10-trackpoint.rules\n```\n\n```\nSUBSYSTEM==\"serio\", DRIVERS==\"psmouse\", ACTION==\"change\", ENV{SERIO_TYPE}==\"05\", ATTR{press_to_select}=\"1\", ATTR{sensitivity}=\"196\", ATTR{speed}=\"255\", ATTR{inertia}=\"4\"\n```\n\nConsult the ThinkWiki for other configuration possibilities such as scrolling.\n\n"
    },
    {
      "title": "Keyboard",
      "level": 3,
      "content": "The keyboard works out of the box mostly, including the Fn key and XF86 aliases. For the LED of the XF86AudioMute button to work acpi_osi=\"Linux\" needs to be appended to the kernel parameters.\n\nMost WMs/DEs handle the special XF86 keys automatically, but you might need to add a configuration yourself. Tools like amixer (alsa-utils), xorg-xbacklight, arandr and lxrandr help in this regard.\n\nThe button XF86WLAN automatically toggles the (soft) rfkill block state of the wireless device. Keep this in mind when you set it up to connect/disconnect to your wireless network. You can also unblock wlan without using this key: rfkill unblock wlan.\n\nThe keyboard does not have an LED for CapsLock. If your WM/DE does not come with an indicator you can use indicator-keylockAUR in the tray.\n\nThe indicator LED for XF86AudioMicMute seems to be broken in some way. According to this commit it should work with snd-hda-intel but it does not. There is also an older kernel patch available that might or might not help, but probably does not work with a current kernel as is.\n\n"
    },
    {
      "title": "Keyboard Backlight",
      "level": 4,
      "content": "The default hotkey for the keyboard backlight (Fn+Space) is automatically supported by GNOME. In order to set the keyboard brightness from a terminal it is possible to choose between three different levels of brightness using the following commands:\n\n0% brightness:\n\n```\n# echo 0 > /sys/class/leds/tpacpi::kbd_backlight/brightness\n```\n\n50% brightness:\n\n```\n# echo 1 > /sys/class/leds/tpacpi::kbd_backlight/brightness\n```\n\n100% brightness:\n\n```\n# echo 2 > /sys/class/leds/tpacpi::kbd_backlight/brightness\n```\n\nAlternatively, installing the package acpilightAUR allows to do the same thing using a different syntax:\n\n0% brightness:\n\n```\n# xbacklight -ctrl tpacpi::kbd_backlight -set 0\n```\n\n50% brightness:\n\n```\n# xbacklight -ctrl tpacpi::kbd_backlight -set 50\n```\n\n100% brightness:\n\n```\n# xbacklight -ctrl tpacpi::kbd_backlight -set 100\n```\n\n"
    },
    {
      "title": "Fingerprint Reader",
      "level": 3,
      "content": "The fingerprint reader is a Validity Sensors model (138a:0017) also used on the Thinkpad X1 Carbon and T440. ThinkFinger does NOT support this reader. This fingerprint reader requires libfprint to be build from the current git (https://github.com/ars3niy/fprint_vfs5011.git ). Alternatively, it can also be done going through Fprint, for 20ALA0K-WIG.\n\n"
    },
    {
      "title": "Fingerprint Login",
      "level": 4,
      "content": "Install the fprintd package to enable the fingerprint login in GNOME.\n\n"
    },
    {
      "title": "Common hardware problems",
      "level": 3,
      "content": "This page provides a list and links regarding common issues with X240 hardware.\n\n"
    },
    {
      "title": "NFC Reader",
      "level": 4,
      "content": "Some of the x240 devices have a NFC reader integrated in the touchpad. However it seems that this type of NFC reader is not support for Linux. This post seems to confirm this.\n\n"
    },
    {
      "title": "Grey noise with analog audio when audio is not muted",
      "level": 3,
      "content": "On some X240 and other TP 4xx models, persisting grey noise is hearable when the audio mixer has not been muted. The issue has been reported to the ALSA developers, but as of now, the issue persists. Affected users are encouraged to report their situation in the linked thread.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- A user's configuration walk through\n- Lenovo X240 Hardware Maintenance Manual\n- Lenovo X240 User Guide\n- X240 on ThinkWiki.de (German)\n- X240 on ThinkWiki.org\n\n"
    }
  ]
}