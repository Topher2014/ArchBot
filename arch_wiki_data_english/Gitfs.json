{
  "title": "Gitfs",
  "url": "https://wiki.archlinux.org/title/Gitfs",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "From gitfs:\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install gitfsAUR.\n\n"
    },
    {
      "title": "Usage",
      "level": 2,
      "content": "gitfs enables a user to mount a remote git repository as a FUSE filesystem, for example:\n\n```\n$ gitfs https://example.com/repository.git /mount/directory\n```\n\nSee its documentation for options.\n\n"
    },
    {
      "title": "Write access to /var/lib/gitfs",
      "level": 3,
      "content": "/var/lib/gitfs needs to exist and is not automatically created. Also, if you want to mount gitfs as a regular user, make sure to make it writable for that user:\n\n```\n# mkdir /var/lib/gitfs\n# chown username:users /var/lib/gitfs\n```\n\n"
    },
    {
      "title": "Write access to pygit2",
      "level": 3,
      "content": "On first run gitfs tries to do some self-introspection which fails, if you run it as a regular user. To remedy this, run it once as root. You do not need to actually mount anything. It is enough to show the help message as root:\n\n```\n# gitfs -h\n```\n\n"
    },
    {
      "title": "Options for use with ssh key",
      "level": 3,
      "content": "Gitfs (and pygit2 on which it relies) seems to be under heavy development and options change. Although the official docs state that the option -o key= can be used to change the key, it turns out that version 0.4.1-1 from AUR requires the use of -o ssh_key=. Note that gitfs will not ask for a passphrase, if the key is passphrase protected. It simply returns with the error:\n\n```\n_pygit2.GitError: Failed to authenticate SSH session: Callback returned error\n```\n\nIt is recommended to create a separate key for this by issuing:\n\n```\nssh-keygen\n/home/user/.ssh/gitfs_rsa\n<empty passphrase>\n<empty passphrase again>\n```\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- git worktree\n\n"
    }
  ]
}