{
  "title": "Lenovo IdeaPad Gaming 3",
  "url": "https://wiki.archlinux.org/title/Lenovo_IdeaPad_Gaming_3",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nTouchpad | 04F3:31AD | Yes\nKeyboard | 048d:c966 | Yes\nGPU (Intel) | 8086:9bc4 | Yes\nGPU (AMD) | 1002:1636 | Yes\nGPU (NVIDIA) | 10de:1f99 | Yes\nWebcam | 5986:212b | Yes\nBluetooth | 8087:0029 | Yes\nAudio | 1022:15e3 | Yes\nWireless | 168c:003e | Yes\nEthernet | 10ec:8168 | Yes\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Before installing, disable Secure Boot in the UEFI Setup. You can access the UEFI Setup by pressing F2 at the Splash screen. The boot menu can also be accessed by pressing F12.\n\n"
    },
    {
      "title": "Installing optimus-manager",
      "level": 3,
      "content": "On models with an AMD CPU, after installing Arch with the proprietary NVIDIA driver on Xorg (Wayland is not currently tested), any external monitors over HDMI will most likely not work out of the box. In fact, the NVIDIA dedicated GPU will most likely not work straight away. To fix this, install optimus-manager-gitAUR.\n\nAfter this, you can check your current GPU mode (integrated/nvidia/hybrid) with\n\n```\n# optimus-manager --status\n```\n\nTo change your GPU mode temporarily, you can use\n\n```\n# optimus-manager --switch mode\n```\n\n"
    },
    {
      "title": "Permanently setting the default GPU mode",
      "level": 3,
      "content": "To change it permanently you can set the Kernel parameter optimus-manager.startup=mode where mode is integrated, nvidia, hybrid (i.e. use both) or auto (i.e. use integrated when booting while on battery and NVIDIA when booting while on AC power). Note that hybrid mode results in significantly worse performance than nvidia mode and is thus not suitable for graphics-intensive applications such as games. It is however the least battery-intensive way of being able to use an external monitor via the HDMI port.\n\n"
    },
    {
      "title": "Accessibility",
      "level": 2,
      "content": "The UEFI firmware settings can be entered by pressing F2 repeatedly during boot.\n\n"
    },
    {
      "title": "Navigation",
      "level": 3,
      "content": "The interface can be fully navigated and controlled with a keyboard and mouse. Up and down arrow keys let the user choose categories, settings items within each category and values for settings. Left and right arrow keys let the user leave and enter a category, settings item or value picker. The enter key can also be used to enter a category or enter and leave an item's value picker. Settings can be saved and the system restarted by pressing F10.\n\n"
    },
    {
      "title": "Secure Boot",
      "level": 3,
      "content": "In order to boot an Arch installation medium, Secure Boot must be disabled in the UEFI settings. Once disabled, press F12 on the next boot to enter the boot device menu and select your Arch installation medium.\n\n"
    },
    {
      "title": "Firmware",
      "level": 2,
      "content": "This laptop is not supported by fwupd. You need a Windows installation in order to update UEFI.\n\n"
    },
    {
      "title": "Power management",
      "level": 2,
      "content": "Note: **The factual accuracy of this article or section is disputed.** The factual accuracy of this article or section is disputed.\n\nThe factual accuracy of this article or section is disputed.\n\nNote: **This article or section is a candidate for merging with Laptop/Lenovo#Lenovo.** This article or section is a candidate for merging with Laptop/Lenovo#Lenovo.\n\nThis article or section is a candidate for merging with Laptop/Lenovo#Lenovo.\n\nInstall acpi_call (or acpi_call-lts for LTS kernel, acpi_call-dkms for other kernels) and load the kernel module:\n\n```\n# modprobe acpi_call\n```\n\n"
    },
    {
      "title": "System Performance Mode",
      "level": 3,
      "content": "There are 3 modes available: Intelligent Cooling, Extreme Performance and Battery Saving. To switch between them, press Fn+Q on the IdeaPad's internal keyboard.\n\nUsing ACPI calls directly (tested on 15ACH6):\n\nSet it to Intelligent Cooling mode:\n\n```\n# echo '\\_SB_.GZFD.WMAA 0 0x2C 2' > /proc/acpi/call\n```\n\nSet it to Extreme Performance mode:\n\n```\n# echo '\\_SB_.GZFD.WMAA 0 0x2C 3' > /proc/acpi/call\n```\n\nSet it to Battery Saving mode:\n\n```\n# echo '\\_SB_.GZFD.WMAA 0 0x2C 1' > /proc/acpi/call\n```\n\nTo view the currently activated System Performance Mode in 15ARH05 or 15ACH6 and its family series:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.SPMO' > /proc/acpi/call \n# cat /proc/acpi/call; printf '\\n'\n```\n\nIn some 15ACH6 and 15ARH7 and its family series :\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.GZ44' > /proc/acpi/call \n# cat /proc/acpi/call; printf '\\n'\n```\n\nAs a result you get the value for the bit SPMO / GZ44 (either 0x0, 0x1 or 0x2). The value of the bit corresponds to the following System Performance Modes:\n\nTable content:\nSPMO / GZ44 | Mode\n0x0 | Intelligent Cooling\n0x1 | Extreme Performance\n0x2 | Battery Saving\n\n"
    },
    {
      "title": "Rapid Charge",
      "level": 3,
      "content": "Turn on Rapid Charge:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x07' > /proc/acpi/call\n```\n\nTurn off Rapid Charge:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x08' > /proc/acpi/call\n```\n\nGet the status of Rapid Charge:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.QCHO' > /proc/acpi/call\n# cat /proc/acpi/call; printf '\\n'\n```\n\nFor some 15ACH6:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.FCGM' > /proc/acpi/call\n# cat /proc/acpi/call; printf '\\n'\n```\n\nwhere 0x0 stands for off and 0x1 stands for on.\n\n"
    },
    {
      "title": "Battery Conservation",
      "level": 3,
      "content": "Similarly to the #Rapid Charge, make sure you have set up acpi_call.\n\nTurn on:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x03' > /proc/acpi/call\n```\n\nNote: **will not** \n\nTurn off:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x05' > /proc/acpi/call\n```\n\nTo verify your setting:\n\n```\n# echo '\\_SB.PCI0.LPC0.EC0.BTSM' > /proc/acpi/call \n# cat /proc/acpi/call; printf '\\n'\n```\n\nwhere 0x0 stands for off and 0x1 stands for on.\n\nThere is also an alternative way to control the Conservation Mode of the battery:\n\nFirst make sure the ideapad_laptop kernel module is loaded with the lsmod command.\n\nIf it is, run the following command as root to enable Battery Conservation Mode:\n\n```\n# echo 1 > /sys/bus/platform/drivers/ideapad_acpi/VPC2004:00/conservation_mode\n```\n\nA 0 will in turn disable the feature.\n\n"
    },
    {
      "title": "Function keys",
      "level": 2,
      "content": "Table content:\nKey | Marked? | Effect\nFn+Esc | Yes | Toggle Fn lock\nFn+F1 | Yes | Mute audio\nFn+F2 | Yes | Volume down\nFn+F3 | Yes | Volume up\nFn+F4 | Yes | Mute microphone\nFn+F5 | Yes1 | Screen brightness down\nFn+F6 | Yes1 | Screen brightness up\nFn+F7 | Yes | Show screen projecting menu (same as Super+P)\nFn+F8 | Yes | Turn on airplane mode\nFn+F10 | Yes | Turn touchpad on/off\nFn+Space | Yes | Toggle keyboard backlight (off/low/bright)\nFn+Q | No | Switch between performance modes, see #System Performance Mode\nFn+Home | Yes | (Media) Play/Pause\nFn+End | Yes | (Media) Stop\nFn+PageUp | Yes | (Media) Previous\nFn+PageDown | Yes | (Media) Next\n\n1. If the backlight controls does not work on the AMD/NVIDIA variant by default, add the following kernel parameter: amdgpu.backlight=0.\n\n"
    },
    {
      "title": "Advanced UEFI/BIOS",
      "level": 2,
      "content": "To access the advanced UEFI/BIOS setup utility, do the following:\n\n1. Power off completely\n1. Press the power button\n1. Repeatedly press F2 to enter UEFI/BIOS\n1. Press the following key sequence 3 times, one key at a time:Fn, R, N\n1. Press F10 and Enter to save and exit\n1. Repeatedly press F2 to enter UEFI/BIOS, this should now have the advanced options visible\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Product Specifications Reference (PSREF)\n- Hardware maintenance manual\n- User guide\n\n"
    }
  ]
}