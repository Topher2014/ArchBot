{
  "title": "Linux-ck",
  "url": "https://wiki.archlinux.org/title/Linux-ck",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Repo-ck is an unofficial Arch Linux repository hosting generic and CPU-optimized kernels. It has been in operation since 2011 and is maintained by graysky.\n\n"
    },
    {
      "title": "Kernels package",
      "level": 2,
      "content": "Table content:\nBrand | Group Alias | Description | Build flags enabled by patchset\nAny | ck-generic | x86-64 generic kernel good for any supported CPU | -march=x86-64\nck-generic-v2 | x86-64-v2 generic kernel good for any supported CPU | -march=x86-64-v2\nck-generic-v3 | x86-64-v3 generic kernel good for any supported CPU | -march=x86-64-v3\nck-generic-v4 | x86-64-v4 generic kernel good for any supported CPU | -march=x86-64-v4\n\n"
    },
    {
      "title": "Selecting the correct CPU optimized package",
      "level": 2,
      "content": "If a model specific kernel is not offered, users should select one of the three generic packages that is best matched to the specific hardware. To tell which generic package is best, simply run:\n\n```\n$ /lib/ld-linux-x86-64.so.2 --help | grep supported\n```\n\nIf x86-64-v3 (supported, searched) is in the output, use the ck-generic-v3 group. If only x86-64-v2 (supported, searched) is in the output, use the ck-generic-v2 group. If neither are in the output, use the ck-generic group.\n\nThose wanting CPU-specific optimized packages can run the following command (assuming that base-devel is installed):\n\n```\n$ gcc -c -Q -march=native --help=target | grep march\n```\n\nThe resulting -march is what GCC would use natively. Refer to the table above for a mapping of this value to the correct group; again, not every possible value will have a specific group.\n\nFor further help, see:\n\n- gentoo:Safe CFLAGS#Intel\n- gentoo:Safe CFLAGS#AMD\n- http://www.linuxforge.net/docs/linux/linux-gcc.php\n\n"
    },
    {
      "title": "Speed benefits of CPU optimized packages",
      "level": 3,
      "content": "Extensive testing comparing the effect of GCC compile options show varying results, from no change to rather significant speed ups. [1] [2] [3]\n\nNote: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\n"
    },
    {
      "title": "Add repository",
      "level": 3,
      "content": "Add the repository to /etc/pacman.conf under the Arch official repositories:\n\n```\n/etc/pacman.conf\n```\n\n```\n[repo-ck]\nServer = http://repo-ck.com/$arch\n```\n\nSign graysky's key:\n\n```\n# pacman-key -r 5EE46C4C --keyserver keyserver.ubuntu.com && pacman-key --lsign-key 5EE46C4C\n```\n\n"
    },
    {
      "title": "Additional mirror",
      "level": 4,
      "content": "aviallon hosts a mirror with better bandwidth and stability, synchronized every 6 hours. You can add it to your pacman.conf:\n\n```\n/etc/pacman.conf\n```\n\n```\n[repo-ck]\nServer = https://mirror.lesviallon.fr/$repo/os/$arch\nServer = http://repo-ck.com/$arch\n```\n\n"
    },
    {
      "title": "Install kernel",
      "level": 3,
      "content": "Update your sync database and install the chosen kernel variant (see above for available variants):\n\n```\n# pacman -Syu linux-ck\n```\n\n"
    },
    {
      "title": "Update boot loader configuration",
      "level": 3,
      "content": "If you are using GRUB with a common setup, then you can update its configuration by regenerating the main configuration file.\n\n"
    },
    {
      "title": "Support",
      "level": 3,
      "content": "Please use the BBS thread.\n\n"
    },
    {
      "title": "Error: signature from graysky is unknown trust",
      "level": 3,
      "content": "Users must import and sign graysky's gpg key. Instructions along with his key ID are located at repo-ck.com. See also Pacman/Package signing#Adding unofficial keys.\n\n"
    }
  ]
}