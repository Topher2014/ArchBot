{
  "title": "PulseAudio/Troubleshooting",
  "url": "https://wiki.archlinux.org/title/PulseAudio/Troubleshooting",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Related articles\n\n- PulseAudio/Examples\n\n"
    },
    {
      "title": "Getting debug output from PulseAudio",
      "level": 2,
      "content": "It can be useful to stop the pulseaudio.socket and pulseaudio.service user units, and start manually in a terminal during debugging:\n\n```\n$ pulseaudio -v\n```\n\nAdd vs to increase verbosity.\n\n"
    },
    {
      "title": "Volume",
      "level": 2,
      "content": "Here you will find some hints on volume issues and why you may not hear anything.\n\n"
    },
    {
      "title": "Auto-Mute Mode",
      "level": 3,
      "content": "Auto-Mute Mode is a configurable setting from amixer. For more information, see ALSA#Disabling auto mute on startup.\n\n"
    },
    {
      "title": "Muted audio device",
      "level": 3,
      "content": "If one experiences no audio output via any means while using ALSA, attempt to unmute the sound card. To do this, launch alsamixer and make sure each column has a green 00 under it (this can be toggled by pressing m):\n\n```\n$ alsamixer -c 0\n```\n\nTo troubleshoot via CLI only, install pamixer and check the output of the following command:\n\n```\n$ pamixer --get-volume-human\n```\n\nIf the output says muted, run pamixer -u to unmute. If it displays a low percentage value, you can run pamixer -i 10 several times to turn up the volume gradually.\n\n"
    },
    {
      "title": "Output stuck muted while Master is toggled",
      "level": 3,
      "content": "In setups with multiple outputs (e.g. 'Headphone' and 'Speaker'), using plain amixer to toggle Master can trigger PulseAudio to mute the active output too, but it does not necessarily unmute it when Master is toggled back to be unmuted. [1] To resolve this, amixer must have the device flag set to pulse (requires pulseaudio-alsa):\n\n```\n$ amixer -D pulse sset Master toggle\n```\n\nThis will cause amixer to ask PulseAudio to do the toggling rather than toggling it directly. Because of this, PulseAudio will correctly unmute Master as well as any applicable output.\n\n"
    },
    {
      "title": "Muted application",
      "level": 3,
      "content": "If a specific application is muted or low while all else seems to be in order, it may be due to individual sink-input settings. With the offending application playing audio, run:\n\n```\n$ pacmd list-sink-inputs\n```\n\nFind and make note of the index of the corresponding sink input. The properties: application.name and application.process.binary, among others, should help here. Ensure sane settings are present, specifically those of muted and volume.\n\nIf the sink input is muted, it can be unmuted by:\n\n```\n$ pacmd set-sink-input-mute index false\n```\n\nIf the volume needs adjusting, it can be set to 100% by:\n\n```\n$ pacmd set-sink-input-volume index 0x10000\n```\n\n"
    },
    {
      "title": "Volume adjustment does not work properly",
      "level": 3,
      "content": "Check /usr/share/pulseaudio/alsa-mixer/paths/analog-output.conf.common.\n\nIf the volume does not appear to increment/decrement properly using alsamixer or amixer, it may be due to PulseAudio having a larger number of increments (65537 to be exact). Try using larger values when changing volume (e.g. amixer set Master 655+).\n\n"
    },
    {
      "title": "Per-application volumes change when the Master volume is adjusted",
      "level": 3,
      "content": "This is because your PulseAudio configuration uses flat volumes, instead of relative volumes, relative to an absolute master volume. If this is found to be inconvenient, asinine, or otherwise undesireable, relative volumes can be enabled by disabling flat volumes in the PulseAudio daemon's configuration file:\n\n```\n/etc/pulse/daemon.conf or ~/.config/pulse/daemon.conf\n```\n\n```\nflat-volumes = no\n```\n\nand then restarting PulseAudio by executing\n\n```\n$ pulseaudio -k\n$ pulseaudio --start\n```\n\n"
    },
    {
      "title": "Volume gets louder every time a new application is started",
      "level": 3,
      "content": "Per default, it seems as if changing the volume in an application sets the global system volume to that level instead of only affecting the respective application. Applications setting their volume on startup will therefore cause the system volume to \"jump\".\n\nFix this by disabling flat volumes, as demonstrated in the previous section. When PulseAudio comes back after a few seconds, applications will not alter the global system volume anymore but have their own volume level again.\n\n"
    },
    {
      "title": "Sound output is only mono on M-Audio Audiophile 2496 sound card",
      "level": 3,
      "content": "Add the following:\n\n```\n/etc/pulseaudio/default.pa\n```\n\n```\nload-module module-alsa-sink sink_name=delta_out device=hw:M2496 format=s24le channels=10 channel_map=left,right,aux0,aux1,aux2,aux3,aux4,aux5,aux6,aux7\nload-module module-alsa-source source_name=delta_in device=hw:M2496 format=s24le channels=12 channel_map=left,right,aux0,aux1,aux2,aux3,aux4,aux5,aux6,aux7,aux8,aux9\nset-default-sink delta_out\nset-default-source delta_in\n```\n\n"
    },
    {
      "title": "No sound below a volume cutoff or Clipping on a particular output device",
      "level": 3,
      "content": "Known issue (will not fix): https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/223133\n\nIf sound does not play when PulseAudio's volume is set below a certain level, or if you hear clipping on output even at low volume (including Bluetooth devices), try setting ignore_dB=1 in /etc/pulse/default.pa:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-udev-detect ignore_dB=1\n```\n\nHowever, be aware that it may cause another bug preventing PulseAudio to unmute speakers when headphones or other audio devices are unplugged.\n\n"
    },
    {
      "title": "Low volume for internal microphone",
      "level": 3,
      "content": "If you experience low volume on internal notebook microphone, try setting:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nset-source-volume 1 300000\n```\n\n"
    },
    {
      "title": "Clients alter master output volume (a.k.a. volume jumps to 100% after running application)",
      "level": 3,
      "content": "If changing the volume in specific applications or simply running an application changes the master output volume, this is likely due to flat volumes mode of PulseAudio. Before disabling it, KDE users should try lowering the volume in System Settings > Sound > Notification Sounds to something reasonable. Changing the Event Sounds volume in KMix or another volume mixer application will not help here. This should make the flat-volumes mode work out as intended, if it does not work, some other application is likely requesting 100% volume when its playing something. If all else fails, you can try to disable flat-volumes:\n\n```\n/etc/pulse/daemon.conf\n```\n\n```\nflat-volumes = no\n```\n\nThen restart the PulseAudio daemon:\n\n```\n$ pulseaudio -k\n$ pulseaudio --start\n```\n\n"
    },
    {
      "title": "No sound after resume from suspend",
      "level": 3,
      "content": "If audio generally works, but stops after resume from suspend, try \"reloading\" PulseAudio by executing:\n\n```\n$ /usr/bin/pasuspender /bin/true\n```\n\nThis is better than completely killing and restarting it (pulseaudio -k followed by pulseaudio --start), because it does not break already running applications.\n\nIf the above fixes your problem, you may wish to automate it, by creating a systemd service file.\n\nCreate the template service file in\n\n```\n/etc/systemd/system/resume-fix-pulseaudio@.service\n```\n\n```\n[Unit]\nDescription=Fix PulseAudio after resume from suspend\nAfter=suspend.target\n\n[Service]\nUser=%I\nType=oneshot\nEnvironment=\"XDG_RUNTIME_DIR=/run/user/%U\"\nExecStart=/usr/bin/pasuspender /bin/true\n\n[Install]\nWantedBy=suspend.target\n```\n\nDo a daemon-reload and enable this service for your user account (i.e. resume-fix-pulseaudio@username.service)\n\n"
    },
    {
      "title": "ALSA channels mute when headphones are plugged/unplugged improperly",
      "level": 3,
      "content": "If when you unplug your headphones or plug them in the audio remains muted in alsamixer on the wrong channel due to it being set to 0%, you may be able to fix it by opening /etc/pulse/default.pa and commenting out the line:\n\n```\nload-module module-switch-on-port-available\n```\n\nThen restart the pulseaudio.service user unit.\n\n"
    },
    {
      "title": "Volume resets to 50% every few seconds",
      "level": 3,
      "content": "Install alsa-tools and use hdajackretask:\n\n- Set Not Connected to everything but the ports you are using. It seems the other unused audio ports on the motherboard interfere with the used ones.\n- Then, if you want, use the Boot Override to save this change between reboots. There is a possibility it is the Front Green Headphone that is causing the bug, if you need it override the Front Microphone to Headphone and the Front Green Headphone to Not Connected and use the Front Microphone port as your headphone port.\n\nMore info about this problem: [2].\n\n"
    },
    {
      "title": "Volume low/too quiet on analog headphones/speakers",
      "level": 3,
      "content": "If you added the ignore_dB=1 option earlier to the load-module module-udev-detect line in your /etc/pulse/default.pa, try removing it.\n\n"
    },
    {
      "title": "Delay when changing volume using media keys",
      "level": 3,
      "content": "Edit /etc/pulse/daemon.conf and set enable-deferred-volume = no. This might cause some sound crackles when changing volume, in that case you might want to leave that option enabled and tweak the deferred-volume-safety-margin-usec and deferred-volume-extra-delay-usec options instead.\n\n"
    },
    {
      "title": "Microphone not detected by PulseAudio",
      "level": 3,
      "content": "Determine the card and device number of your microphone:\n\n```\n$ arecord -l\n```\n\n```\n**** List of CAPTURE Hardware Devices ****\ncard 0: PCH [HDA Intel PCH], device 0: ALC269VC Analog [ALC269VC Analog]\nSubdevices: 1/1\nSubdevice #0: subdevice #0\n```\n\nIn hw:CARD,DEVICE notation, you would specify the above device as hw:0,0.\n\nThen, edit /etc/pulse/default.pa and insert a load-module line specifying your device as follows:\n\n```\nload-module module-alsa-source device=hw:0,0\n# the line above should be somewhere before the line below\n.ifexists module-udev-detect.so\n```\n\nFinally, restart PulseAudio to apply the new settings:\n\n```\n$ pulseaudio -k ; pulseaudio -D\n```\n\nIf everything worked correctly, you should now see your microphone show up when running pavucontrol (under the Input Devices tab).\n\n"
    },
    {
      "title": "PulseAudio uses wrong microphone",
      "level": 3,
      "content": "If PulseAudio uses the wrong microphone, and changing the Input Device with pavucontrol did not help, take a look at alsamixer. It seems that pavucontrol does not always set the input source correctly.\n\n```\n$ alsamixer\n```\n\nPress F6 and choose your sound card, e.g. HDA Intel. Now press F5 to display all items. Try to find the item: Input Source. With the up/down arrow keys you are able to change the input source.\n\nNow try if the correct microphone is used for recording.\n\n"
    },
    {
      "title": "No microphone on ThinkPad T400/T500/T420",
      "level": 3,
      "content": "Run:\n\n```\n$ alsamixer -c 0\n```\n\nUnmute and maximize the volume of the \"Internal Mic\".\n\nOnce you see the device with:\n\n```\n$ arecord -l\n```\n\nyou might still need to adjust the settings. The microphone and the audio jack are duplexed. Set the configuration of the internal audio in pavucontrol to Analog Stereo Duplex.\n\n"
    },
    {
      "title": "No microphone input on Acer Aspire One and Lenovo Ideapad 310-15ISK/330-15ARR",
      "level": 3,
      "content": "Install and run pavucontrol, unlink the microphone channels and turn down the volume of one of the channels (which one depends on the device) to 0.\n\nSome applications can change microphone levels causing the same issue. Try disabling volume adjustment in the application settings. For example, in Chromium, open chrome://flags and set Allow WebRTC to adjust the input volume to Disabled. If the application does not have such an option, a workaround is to remap stereo input to mono and use the remapped device as default.\n\n"
    },
    {
      "title": "Static noise in microphone recording",
      "level": 3,
      "content": "If we are getting static noise in Skype, gnome-sound-recorder, arecord, etc.'s recordings, then the sound card sample rate is incorrect. That is why there is static noise in Linux microphone recordings. To fix this, we need to set the sampling rate in /etc/pulse/daemon.conf for the sound hardware.\n\nIn addition to the guide below, since PulseAudio 11 it is possible to set avoid-resampling = yes in daemon.conf.\n\n"
    },
    {
      "title": "Determine sound cards in the system (1/5)",
      "level": 4,
      "content": "This requires alsa-utils and related packages to be installed:\n\n```\n$ arecord --list-devices\n```\n\n```\n**** List of CAPTURE Hardware Devices ****\ncard 0: Intel [HDA Intel], device 0: ALC888 Analog [ALC888 Analog]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\ncard 0: Intel [HDA Intel], device 2: ALC888 Analog [ALC888 Analog]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\n```\n\nThe sound card is hw:x,y where x is the card number and y is the device number. In the above example, it is hw:0,0.\n\n"
    },
    {
      "title": "Determine sampling rate of the sound card (2/5)",
      "level": 4,
      "content": "We aim to find the highest sample rate supported by the hw:0,0 sound card using a trial-and-error procedure starting from a low value. When the top value is reached, we got a warning message:\n\n```\narecord -f dat -r 60000 -D hw:0,0 -d 5 test.wav\n```\n\n```\n\"Recording WAVE 'test.wav' : Signed 16 bit Little Endian, Rate 60000 Hz, Stereo\nWarning: rate is not accurate (requested = 60000Hz, got = 44100Hz)\nplease, try the plug plugin\n```\n\nobserve, the got = 44100Hz. This is the maximum sampling rate of our card.\n\n"
    },
    {
      "title": "Setting the sound card's sampling rate into PulseAudio configuration (3/5)",
      "level": 4,
      "content": "The default sampling rate in PulseAudio:\n\n```\n$ grep \"default-sample-rate\" /etc/pulse/daemon.conf\n```\n\n```\n; default-sample-rate = 48000\n```\n\n48000 is disabled and needs to be changed to 44100:\n\n```\n# sed 's/; default-sample-rate = 48000/default-sample-rate = 44100/g' -i /etc/pulse/daemon.conf\n```\n\n"
    },
    {
      "title": "Restart PulseAudio to apply the new settings (4/5)",
      "level": 4,
      "content": "```\n$ pulseaudio -k\n$ pulseaudio --start\n```\n\n"
    },
    {
      "title": "Finally check by recording and playing it back (5/5)",
      "level": 4,
      "content": "Let us record some voice using a microphone for, say, 10 seconds. Make sure the microphone is not muted and all\n\n```\n$ arecord -f cd -d 10 test-mic.wav\n```\n\nAfter 10 seconds, let us play the recording...\n\n```\n$ aplay test-mic.wav\n```\n\nNow hopefully, there is no static noise in microphone recording anymore.\n\n"
    },
    {
      "title": "Another possible cause",
      "level": 4,
      "content": "Another possible cause is that your mic has two channels but only one channel can provide a valid sound signal. Some information can be found here. The solution is to remap the stereo input to a mono input:\n\n1. Find your source name from the following command; for example alsa_input.pci-0000_00_1f.3.analog-stereo\n\n```\n$ pacmd list-sources | grep 'name:.*input'\n```\n\n2. Edit /etc/pulse/default.pa and add the following lines, where INPUT_NAME is name of the input source from above step:\n\n```\nload-module module-remap-source source_name=record_mono master=INPUT_NAME master_channel_map=front-left channel_map=mono\nset-default-source record_mono\n```\n\n3. Restart PulseAudio:\n\n```\n$ pulseaudio -k\n$ pulseaudio --start\n```\n\nNow arecord hopefully works. You may still need to change the RecordStream from setting to Remapped Built-in Audio Analog Stereo of a specific application in the Recording tab of pavucontrol.\n\n"
    },
    {
      "title": "If using a USB microphone",
      "level": 4,
      "content": "Try plugging it into a different port (eg: ports at the back rather than front).\n\n"
    },
    {
      "title": "No microphone on Steam or Skype with enable-remixing = no",
      "level": 3,
      "content": "When you set enable-remixing = no on /etc/pulse/daemon.conf you may find that your microphone has stopped working on certain applications like Skype or Steam. This happens because these applications capture the microphone as mono only and because remixing is disabled, PulseAudio will no longer remix your stereo microphone to mono.\n\nTo fix this you need to tell PulseAudio to do this for you:\n\n1. Find the name of the source\n\n```\n$ pacmd list-sources\n```\n\nExample output edited for brevity, the name you need is in bold:\n\n```\nindex: 2\n       name: <alsa_input.pci-0000_00_14.2.analog-stereo>\n       driver: <module-alsa-card.c>\n       flags: HARDWARE HW_MUTE_CTRL HW_VOLUME_CTRL DECIBEL_VOLUME LATENCY DYNAMIC_LATENCY\n```\n\n2. Add a remap rule to /etc/pulse/default.pa, use the name you found with the previous command, here we will use alsa_input.pci-0000_00_14.2.analog-stereo as an example:\n\n```\n/etc/pulse/default.pa\n```\n\n```\n### Remap microphone to mono\nload-module module-remap-source master=alsa_input.pci-0000_00_14.2.analog-stereo master_channel_map=front-left,front-right channels=2 channel_map=mono,mono\n```\n\n3. Restart PulseAudio\n\n```\n$ pulseaudio -k\n```\n\n```\n$ pulseaudio --start\n```\n\n"
    },
    {
      "title": "Microphone distorted due to automatic adjustment",
      "level": 3,
      "content": "If your microphone volume creeps up automatically and causes the sound to be distorted, you can fix it by disabling mic boost:\n\nIn all files /usr/share/pulseaudio/alsa-mixer/paths/analog-input*.conf,\n\n- Under [Element Capture] set volume to zero\n- Under [Element Internal Mic Boost] set volume to zero.\n- Under [Element Int Mic Boost] set volume to zero.\n- Under [Element Mic Boost] set volume to zero.\n\nincluding all variations such as [Element Headphone Mic Boost] and [Element Mic Boost (+20dB)]\n\nThen restart PulseAudio:\n\n```\n$ pulseaudio -k\n```\n\n"
    },
    {
      "title": "Microphone crackling with Realtek ALC892",
      "level": 3,
      "content": "Sometimes ALC892 chips have crackling sound while recording using a microphone. Some PulseAudio configuration changes may help:\n\n```\n/etc/pulse/daemon.conf\n```\n\n```\nresample-method = src-sinc-best-quality\ndefault-sample-format = s16le\ndefault-sample-rate = 48000\n```\n\nand add the use_ucm option to\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-udev-detect use_ucm=0 tsched=0\n```\n\nthen restart PulseAudio.\n\n"
    },
    {
      "title": "Echo test",
      "level": 3,
      "content": "If you are unsure about your microphone setup, you can hear the input from the microphone in real-time by enabling the loopback module (source):\n\n```\n$ pactl load-module module-loopback\n```\n\nThe module will show up in the Recording tab of the pavucontrol program, where the source and volume can be configured. While latency should be low, it should be sufficient to get a feeling of the sound quality as you will hear yourself speak in the microphone. To make the change permanent, add the following PulseAudio configuration:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-loopback\n```\n\nWatch out for feedback! Be ready to lower all volumes in case the microphone picks up the output from the loudspeakers. Naturally, it is better to run such a test with headphones.\n\n"
    },
    {
      "title": "Troubleshooting buffer underruns (glitches, skips, crackling)",
      "level": 3,
      "content": "The newer implementation of the PulseAudio sound server uses timer-based audio scheduling instead of the traditional, interrupt-driven approach.\n\nTimer-based scheduling may expose issues in some ALSA drivers. On the other hand, other drivers might have a tendency to experience buffer underruns without it on, so check to see what works on your system.\n\nTo turn timer-based scheduling off, add tsched=0 in /etc/pulse/default.pa:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-udev-detect tsched=0\n```\n\nThen restart the PulseAudio server:\n\n```\n$ pulseaudio -k\n$ pulseaudio --start\n```\n\nDo the reverse to enable timer-based scheduling, if not already enabled by default.\n\nIf you are using Intel's IOMMU and experience buffer underruns, add intel_iommu=igfx_off to your kernel command line.\n\nIf you experience buffer underruns because of kernel page locking or late scheduling, see Gaming#Tweaking kernel parameters for response time consistency.\n\n"
    },
    {
      "title": "Static noise when using headphones",
      "level": 3,
      "content": "Time-based scheduling may be causing this, disable it as explained in #Troubleshooting buffer underruns (glitches, skips, crackling).\n\nAnother reason you are encountering static noise in your headphone jack could be ALSA's loopback mixing.\n\nMake sure you have alsa-utils installed, launch alsamixer, then select your audio device (pressing F6), navigate all the way left using the left arrow, and stop on Loopback, if Enabled disable it using the down arrow. This should not impact audio playback or microphone recording negatively, unless you require loopback mixing.\n\nSome notebook models, like Dell XPS 13 9360, suffer from continuous hissing sound when a headphone is plugged in.\n\nYet another reason for this symptom could be the power-saving mode of your audio device.[3] If you followed Power management#Audio, revert the changes and check if it solves the problem.\n\n"
    },
    {
      "title": "Setting the default fragment number and buffer size in PulseAudio",
      "level": 3,
      "content": "Note: **This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.** This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nThis article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\n"
    },
    {
      "title": "Disabling timer-based scheduling",
      "level": 4,
      "content": "By default, PulseAudio uses timer-based scheduling. In this mode, fixed-size fragments are not used at all, and so the default-fragments and default-fragment-size-msec parameters are ignored. To turn timer-based scheduling off, add tsched=0 in /etc/pulse/default.pa:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-udev-detect tsched=0\n```\n\n"
    },
    {
      "title": "Decide on audio device parameters",
      "level": 4,
      "content": "Instructions below will cause PulseAudio to use a fixed size and number for audio fragments. These settings directly affect latency and power consumption. The latency is determined as default-fragments * default-fragment-size-msec, and the interrupt rate (i.e. how often the application is notified that some sound has indeed been played) is 1000 / default-fragment-size-msec. The considerations are:\n\n- The total number of fragments must be within the limits accepted by the hardware. Most sound cards are OK with two or more fragments, but some require three or more.\n- Giving the sound card more fragments than strictly necessary increases the latency, does not change power consumption, and does not remove the load from the scheduler. Therefore, it is advised only in the cases when the interrupts are not reliably delivered to the CPU, and one extra fragment beyond the minimum required should always be enough.\n- Giving the sound card bigger fragments increases latency and decreases power consumption.\n- Some applications (games and VoIP) request low latency and result in buffer underruns when PulseAudio cannot fulfill their request.\n- Setting the latency too low will put a lot of stress on the scheduler, also resulting in buffer underruns.\n\nIf one does not care about excessive power consumption, then 2 or 3 fragments, 5 ms each, are a reasonable choice.\n\n"
    },
    {
      "title": "Modify PulseAudio's configuration file",
      "level": 4,
      "content": "```\n/etc/pulse/daemon.conf\n```\n\n```\ndefault-fragments = 3\ndefault-fragment-size-msec = 5\n```\n\n"
    },
    {
      "title": "See if it helps",
      "level": 4,
      "content": "Restart the pulseaudio.service user unit.\n\nRun your applications, listen to the sounds they produce, inspect the journal.\n\nIf the buffer underruns are occasional and mostly correlated to the system being highly loaded: this is a scheduler problem, the latency needs to be increased.\n\nIf there is metallic sound with the wrong speed from all applications: the most common reason is that you are trying to configure the fragment size which is way too small, like 1 ms. Do not do this.\n\nIf some, but not all, applications experience buffer underruns: this is an application that assumes a low-latency setup. So the fragment size must be decreased so that the application request becomes valid.\n\n"
    },
    {
      "title": "Choppy sound with analog surround sound setup",
      "level": 3,
      "content": "Try to enable LFE remixing as described in PulseAudio/Examples#LFE remixing.\n\n"
    },
    {
      "title": "Laggy sound",
      "level": 3,
      "content": "This issue is due to incorrect buffer sizes. First verify that the variables default-fragments and default-fragment-size-msec are not being set to non default values in the file /etc/pulse/daemon.conf. If the issue is still present, try setting them to the following values:\n\n```\n/etc/pulse/daemon.conf\n```\n\n```\ndefault-fragments = 5\ndefault-fragment-size-msec = 2\n```\n\n"
    },
    {
      "title": "Choppy/distorted sound",
      "level": 3,
      "content": "This can result from an incorrectly set sample rate. Try the following setting:\n\n```\n/etc/pulse/daemon.conf\n```\n\n```\navoid-resampling = yes #(Needs PA11 or higher)\ndefault-sample-rate = 48000\n```\n\nand restart the PulseAudio server.\n\nIf one experiences choppy sound in applications using OpenAL, change the sample rate in /etc/openal/alsoft.conf:\n\n```\n/etc/openal/alsoft.conf\n```\n\n```\nfrequency = 48000\n```\n\nSetting the PCM volume above 0 dB can cause clipping. Running alsamixer will allow you to see if this is the problem and if so fix it. Note that ALSA may not correctly export the dB information to PulseAudio. Try the following:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-udev-detect ignore_dB=1\n```\n\nand restart the PulseAudio server. See also #No sound below a volume cutoff or Clipping on a particular output device.\n\n"
    },
    {
      "title": "Sound stuttering when streaming over network",
      "level": 3,
      "content": "When streaming over Wi-Fi using module-native-protocol-tcp, you can experience periodic sound stuttering with buffer underruns. As a workaround, you can try to use the rtp protocol. Install pulseaudio-rtp on both sides. On the sender side, create an rtp sink:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-null-sink sink_name=rtp\nload-module module-rtp-send source=rtp.monitor\n```\n\nand switch to it:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nset-default-sink rtp\n```\n\nOn the receiver side, load the rtp module:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-rtp-recv\n```\n\n"
    },
    {
      "title": "Pops when starting and stopping playback",
      "level": 3,
      "content": "PulseAudio can suspend sinks after a period of inactivity. This can make an audible noise (like a crack/pop/scratch). Sometimes even when move the slider volume, or open and close windows. This behavior is enabled in default configuration files:\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-suspend-on-idle\n```\n\n```\n/etc/pulse/system.pa\n```\n\n```\nload-module module-suspend-on-idle\n```\n\nCommenting that line in relevant file fixes that issue. A better solution is to add the following file:\n\n```\n~/.config/pulse/default.pa\n```\n\n```\n.include /etc/pulse/default.pa\n.nofail\nunload-module module-suspend-on-idle\n.fail\n```\n\nFor some devices (eg. Bose Quietcomfort 35 II), setting high enough volume of the device (usually via physical buttons or a slider) eliminates the audible noise after stopping playback.\n\n"
    },
    {
      "title": "No HDMI sound output after some time with the monitor turned off",
      "level": 3,
      "content": "The monitor is connected via HDMI/DisplayPort, and the audio jack is plugged in the headphone jack of the monitor, but PulseAudio insists that it is unplugged:\n\n```\npactl list sinks\n```\n\n```\n...\nhdmi-output-0: HDMI / DisplayPort (priority: 5900, not available)\n...\n```\n\nThis leads to no sound coming from HDMI output. A workaround for this is to switch to another VT and back again. If that does not work, try: turn off your monitor, switch to another VT, turn on your monitor, and switch back. This problem has been reported by ATI/Nvidia/Intel users.\n\nAnother workaround could be to disable the switch-on-port-available module by commenting it in /etc/pulse/default.pa [4]:\n\n```\n/etc/pulse/default.pa\n```\n\n```\n...\n### Should be after module-*-restore but before module-*-detect\n#load-module module-switch-on-port-available\n...\n```\n\n"
    },
    {
      "title": "No HDMI sound using a headless server",
      "level": 3,
      "content": "You might want to use HDMI audio with your a/v receiver but no display. HDMI requires a video signal, which we have from the virtual terminal.\n\nWhen the video signal turns off, the audio sink gets lost as well, so make sure that console blanking is disabled. See Display Power Management Signaling#Linux console for details.\n\n"
    },
    {
      "title": "No cards",
      "level": 3,
      "content": "If PulseAudio starts, run pacmd list. If no cards are reported, make sure that the ALSA devices are not in use:\n\n```\n$ fuser -v /dev/snd/*\n$ fuser -v /dev/dsp\n```\n\nMake sure any applications using the pcm or dsp files are shut down before restarting PulseAudio.\n\n"
    },
    {
      "title": "Starting an application interrupts other app's sound",
      "level": 3,
      "content": "If you have trouble with some applications (such as TeamSpeak or Mumble) interrupting sound output of already running applications (such as DeaDBeeF), you can solve this by commenting out the line load-module module-role-cork in /etc/pulse/default.pa like shown below:\n\n```\n/etc/pulse/default.pa\n```\n\n```\n### Cork music/video streams when a phone stream is active\n# load-module module-role-cork\n```\n\nThen restart PulseAudio:\n\n```\n$ pulseaudio -k\n$ pulseaudio --start\n```\n\n"
    },
    {
      "title": "The only device shown is \"dummy output\" or newly connected cards are not detected",
      "level": 3,
      "content": "If the only playback device is the Dummy Output, PulseAudio cannot access your sound devices. It is possible there is an issue with logind giving permissions, see General troubleshooting#Session permissions for more information.\n\nAn application might also not have been configured to work with PulseAudio. This happens with FluidSynth for example. To see which application is responsible for a direct access to the sound card via alsa, run the following command:\n\n```\n# fuser -v /dev/snd/*\n```\n\nTry to close these applications. PulseAudio, if running, should take again precedence over these applications and all the applications relying on PulseAudio should work again like expected.\n\nIf the above does not work, try to restart pulseaudio.service.\n\nRestarting pulseaudio.service can also be useful if PulseAudio fails to detect any hardware after resuming from hibernate or suspend.\n\n"
    },
    {
      "title": "No 5/7.1 selection for HDMI device",
      "level": 3,
      "content": "If you are unable to select 5/7.1 channel output for a working HDMI device, then turning off \"stream device reading\" in /etc/pulse/default.pa might help.\n\nSee #Fallback device is not respected.\n\n"
    },
    {
      "title": "Failed to create sink input: sink is suspended",
      "level": 3,
      "content": "If you do not have any output sound and receive dozens of error messages related to a suspended sink from running journalctl -b as root, then backup first and then delete your user-specific PulseAudio folders:\n\n```\n$ rm -r ~/.pulse ~/.pulse-cookie ~/.config/pulse\n```\n\n"
    },
    {
      "title": "Simultaneous output to multiple sound cards / devices",
      "level": 3,
      "content": "Simultaneous output to two different devices can be very useful. For example, being able to send audio to your A/V receiver via your graphics card's HDMI output, while also sending the same audio through the analogue output of your motherboard's built-in audio. This is much less hassle than it used to be (in this example, we are using GNOME desktop).\n\nUsing paprefs, simply select Add virtual output device for simultaneous output on all local sound cards from under the Simultaneous Output tab. Then, under GNOME's sound settings, select the simultaneous output you have just created.\n\nIf this does not work, try adding the following to ~/.asoundrc:\n\n```\npcm.dsp {\n   type plug\n   slave.pcm \"dmix\"\n}\n```\n\n"
    },
    {
      "title": "Simultaneous output to multiple sinks on the same sound card not working",
      "level": 3,
      "content": "This can be useful for users who have multiple sound sources and want to play them on different sinks/outputs. An example use-case for this would be if you play music and also voice chat and want to output music to speakers (in this case Digital S/PDIF) and voice to headphones. (Analog)\n\nThis is sometimes auto detected by PulseAudio but not always. If you know that your sound card can output to both Analog and S/PDIF at the same time and PulseAudio does not have this option in its profiles in pavucontrol or veromix, then you probably need to create a configuration file for your sound card.\n\nMore in detail you need to create a profile-set for your specific sound card. This is done in two steps mostly.\n\n- Create udev rule to make PulseAudio choose your PulseAudio configuration file specific to the sound card.\n- Create the actual configuration.\n\nCreate a PulseAudio udev rule.\n\n- This is only an example for Asus Xonar Essence STX. Read udev to find out the correct values.\n- Your configuration file should have lower number than the original PulseAudio rule to take effect.\n\n```\n/usr/lib/udev/rules.d/90-pulseaudio-Xonar-STX.rules\n```\n\n```\nACTION==\"change\", SUBSYSTEM==\"sound\", KERNEL==\"card*\", \\\nATTRS{subsystem_vendor}==\"0x1043\", ATTRS{subsystem_device}==\"0x835c\", ENV{PULSE_PROFILE_SET}=\"asus-xonar-essence-stx.conf\"\n```\n\nNow, create a configuration file. If you bother, you can start from scratch and make it saucy. However you can also use the default configuration file, rename it, and then add your profile there that you know works. Less pretty but also faster.\n\nTo enable multiple sinks for Asus Xonar Essence STX, you only need to add this in.\n\n```\n/usr/share/pulseaudio/alsa-mixer/profile-sets/asus-xonar-essence-stx.conf\n```\n\n```\n[Profile analog-stereo+iec958-stereo]\ndescription = Analog Stereo Duplex + Digital Stereo Output\ninput-mappings = analog-stereo\noutput-mappings = analog-stereo iec958-stereo\nskip-probe = yes\n```\n\nThis will auto-profile your Asus Xonar Essence STX with default profiles and add your own profile so you can have multiple sinks.\n\nYou need to create another profile in the configuration file if you want to have the same functionality with AC3 Digital 5.1 output.\n\nSee PulseAudio article about profiles\n\n"
    },
    {
      "title": "Some profiles like SPDIF are not enabled by default on the card",
      "level": 3,
      "content": "Some profiles like IEC-958 (i.e. S/PDIF) may not be enabled by default on the selected sink. Each time the system starts up, the card profile is disabled and the pulseaudio daemon cannot select it. You have to add the profile selection to you default.pa file. Verify the card and profile name with:\n\n```\n$ pacmd list-cards\n```\n\nThen edit the configuration to add the profile\n\n```\n~/.config/pulse/default.pa\n```\n\n```\n## Replace with your card name and the profile you want to activate\nset-card-profile alsa_card.pci-0000_00_1b.0 output:iec958-stereo+input:analog-stereo\n```\n\nPulseAudio will add this profile the pool of available profiles\n\n"
    },
    {
      "title": "Only S/PDIF output available",
      "level": 3,
      "content": "This might happen if PulseAudio use the wrong output device. Firstly, set up proper card profile:\n\n```\n$ pacmd set-card-profile alsa_card.pci-0000_00_1f.3 output:analog-stereo\n```\n\nor\n\n```\n$ pacmd set-card-profile alsa_card.pci-0000_00_1f.3 output:analog-stereo+input:analog-stereo\n```\n\nReplace alsa_card.pci-0000_00_1f.3 with your card, and output:analog-stereo or output:analog-stereo+input:analog-stereo with your profile, remember to choose the profile with analog. Using shell auto completion could help you a lot. One could also use check available cards and profiles with:\n\n```\n$ pacmd list-cards\n```\n\nOne might also need to set sink port by:\n\n```\n$ pacmd set-sink-port alsa_output.pci-0000_00_1f.3.analog-stereo analog-output-headphones\n```\n\nCheck available sink ports with:\n\n```\n$ pacmd list-sinks\n```\n\nTo keep these setting, add them to PulseAudio's configuration file default.pa.\n\n```\n~/.config/pulse/default.pa\n```\n\n```\n.include /etc/pulse/default.pa\n\nset-card-profile alsa_card.pci-0000_00_1f.3 output:analog-stereo+input:analog-stereo\nset-sink-port alsa_output.pci-0000_00_1f.3.analog-stereo analog-output-headphones\n```\n\n"
    },
    {
      "title": "Crackling or popping USB sound issues",
      "level": 3,
      "content": "Although not related to PulseAudio, it is also possible that the card is not powered properly by its USB port, or that it does not provide enough bandwidth.\n\nTry connecting the USB DAC directly to your computer's USB ports, avoiding any hubs or docks.\n\n"
    },
    {
      "title": "Bluetooth",
      "level": 2,
      "content": "See Bluetooth headset#Troubleshooting 2.\n\n"
    },
    {
      "title": "Audacity",
      "level": 3,
      "content": "When starting Audacity, you may find that your headphones no longer work. This can be because Audacity is trying to use them as a recording device. To fix this, open Audacity, then set its recording device to pulse:Internal Mic:0.\n\nUnder some circumstances, playback may be distorted, very fast, or freeze, as explained upstream, start Audacity with:\n\n```\n$ env PULSE_LATENCY_MSEC=30 audacity\n```\n\nIf the solution above does not fix this issue, one may wish to temporarily disable PulseAudio while running Audacity by using the pasuspender command:\n\n```\n$ pasuspender -- audacity\n```\n\nThen, be sure to select the appropriate ALSA input and output devices in Audacity.\n\nSee also #Some applications do not appear in pavucontrol or play sound and #Setting the default fragment number and buffer size in PulseAudio.\n\n"
    },
    {
      "title": "OpenAL",
      "level": 3,
      "content": "Some games may prevent you from switching the output device. Trying to move the sink with pactl gives the following error:\n\n```\npactl move-sink-input 11 alsa_output.pci-0000_01_00.1.hdmi-stereo-extra1\nFailure: Invalid argument\n```\n\nOpenAL needs to be configured to allow moving the sink:\n\n```\n~/.alsoftrc\n```\n\n```\n[pulse]\nallow-moves = true\n```\n\n"
    },
    {
      "title": "Browsers (firefox) load videos but do no play",
      "level": 3,
      "content": "Check your daemon.conf file for the following options:\n\n```\n/etc/pulse/daemon.conf\n```\n\n```\ndefault-sample-rate = 384000\nalternate-sample-rate = 384000\n```\n\nNote: **This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.** This article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nThis article or section needs language, wiki syntax or style improvements. See Help:Style for reference.\n\nFor me, I have my default sample rate changed from 44.1Khz to 384Khz. After that, firefox starts to having problems playing from netflix, hbo max and paramount+ sites. However, spotify is not affected.\n\nIf you have the alternate-sample-rate set to the default 48000, firefox will try to send audio in that sample rate. That triggers a pulseaudio to not resample the audio and send it directly to the audio card, which causes problems of playback.\n\nIf you set the alternate-sample-rate to the same as the default sample rate, it will trigger pulseaudio to resample the audio from firefox. Then everything works correctly.\n\nFinally, opera or other chromium based browsers were not affected by this issue since it seems that they always re-sample to match what pulseaudio's default sample rate. Firefox in that regard is trying to be more bit-perfect in playback, which is a good thing. But unfortunately run into this bug/issue with pulseaudio.\n\n"
    },
    {
      "title": "Some applications do not appear in pavucontrol or play sound",
      "level": 3,
      "content": "To work with PulseAudio, some applications require pulseaudio-alsa. This provides the pulse:... playback and recording devices. See PulseAudio#ALSA for details.\n\n"
    },
    {
      "title": "Cannot update configuration of sound device in pavucontrol",
      "level": 3,
      "content": "pavucontrol is a handy GUI utility for configuring PulseAudio. Under its Configuration tab, you can select different profiles for each of your sound devices e.g. analogue stereo, digital output (IEC958), HDMI 5.1 Surround etc.\n\nHowever, you may run into an instance where selecting a different profile for a card results in the PulseAudio daemon crashing and auto restarting without the new selection \"sticking\". If this occurs, use the other useful GUI tool, paprefs, to check under the Simultaneous Output tab for a virtual simultaneous device. If this setting is active (checked), it will prevent you changing any card's profile in pavucontrol. Uncheck this setting, then adjust your profile in pavucontrol prior to re-enabling simultaneous output in paprefs.\n\n"
    },
    {
      "title": "PulseAudio overwrites ALSA settings",
      "level": 3,
      "content": "PulseAudio usually overwrites the ALSA settings — for example set with alsamixer — at start-up, even when the ALSA daemon is loaded. Since there seems to be no other way to restrict this behaviour, a workaround is to restore the ALSA settings again after PulseAudio has started. Add the following command to .xinitrc or .bash_profile or any other autostart file:\n\n```\nrestore_alsa() {\n while [ -z \"$(pidof pulseaudio)\" ]; do\n  sleep 0.5\n done\n alsactl -f /var/lib/alsa/asound.state restore\n}\nrestore_alsa &\n```\n\n"
    },
    {
      "title": "Daemon startup failed",
      "level": 3,
      "content": "Try resetting PulseAudio:\n\n```\n$ rm -rf /tmp/pulse* ~/.pulse* ~/.config/pulse\n$ pulseaudio -k\n$ pulseaudio --start\n```\n\n- Check that options for sinks are set up correctly.\n- If you configured in default.pa to load and use the OSS modules, then check with lsof that /dev/dsp device is not used by another application.\n- Set a preferred working resample method. Use pulseaudio --dump-resample-methods to see a list with all available resample methods you can use.\n- To get details about currently appeared unfixed errors or to just get the status of the daemon, use commands like pax11publish -d and pulseaudio -v where v option can be used multiple time to set the verbosity of log output equal to the --log-level[=LEVEL] option where LEVEL is from 0 to 4. See the #Outputs by PulseAudio error status check utilities section.\n\nSee also man pages for pax11publish(1) and pulseaudio(1) for more details.\n\n"
    },
    {
      "title": "Outputs by PulseAudio error status check utilities",
      "level": 4,
      "content": "If the pax11publish -d shows error like:\n\n```\nN: [pulseaudio] main.c: User-configured server at \"user\", refusing to start/autospawn.\n```\n\nthen run pax11publish -r command then could be also good to logout and login again.\n\nIf the pulseaudio -vvvv command shows error like:\n\n```\nE: [pulseaudio] module-udev-detect.c: You apparently ran out of inotify watches, probably because Tracker/Beagle took them all away. I wished people would do their homework first and fix inotify before using it for watching whole directory trees which is something the current inotify is certainly not useful for. Please make sure to drop the Tracker/Beagle guys a line complaining about their broken use of inotify.\n```\n\nThis can be resolved temporary by:\n\n```\n$ echo 100000 > /proc/sys/fs/inotify/max_user_watches\n```\n\nFor permanent use save settings in the 99-sysctl.conf file:\n\n```\n/etc/sysctl.d/99-sysctl.conf\n```\n\n```\n# Increase inotify max watchs per user\nfs.inotify.max_user_watches = 100000\n```\n\nSee also\n\n- proc_sys_fs_inotify and dnotify, inotify- more details about inotify/max_user_watches\n- reasonable amount of inotify watches with Linux\n- inotify(7) - man page\n\n"
    },
    {
      "title": "Daemon already running",
      "level": 3,
      "content": "On some systems, PulseAudio may be started multiple times. journalctl will report:\n\n```\n[pulseaudio] pid.c: Daemon already running.\n```\n\nMake sure to use only one method of autostarting applications. pulseaudio includes these files:\n\n- /etc/xdg/autostart/pulseaudio.desktop\n- /etc/xdg/Xwayland-session.d/00-pulseaudio-x11\n- The pulseaudio.service and pulseaudio.socket user units\n\nAlso check user autostart files and directories, such as xinitrc, ~/.config/autostart/ etc.\n\n"
    },
    {
      "title": "Subwoofer stops working after end of every song",
      "level": 3,
      "content": "Known issue: https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/494099\n\nTo fix this, enable LFE remixing as described in PulseAudio/Examples#LFE remixing.\n\n"
    },
    {
      "title": "Unable to select surround configuration other than \"Surround 4.0\"",
      "level": 3,
      "content": "If you are unable to set 5.1 surround output in pavucontrol because it only shows \"Analog Surround 4.0 Output\", open the ALSA mixer and change the output configuration there to 6 channels. Then restart PulseAudio, and pavucontrol will list many more options.\n\n"
    },
    {
      "title": "Realtime scheduling",
      "level": 3,
      "content": "If rtkit does not work, you can manually set up your system to run PulseAudio with real-time scheduling, which can help performance. To do this, add the following lines to /etc/security/limits.conf:\n\n```\n@pulse-rt - rtprio 9\n@pulse-rt - nice -11\n```\n\nAfterwards, you need to add your user to the pulse-rt group.\n\n"
    },
    {
      "title": "Fallback device is not respected",
      "level": 3,
      "content": "PulseAudio does not have a true default device. Instead it uses a \"fallback\", which only applies to new sound streams. This means previously run applications are not affected by the newly set fallback device.\n\ngnome-control-center, mate-media and paswitchAUR handle this gracefully. Alternatively:\n\n1. Move the old streams in pavucontrol manually to the new sound card.\n1. Stop PulseAudio, erase the \"stream-volumes\" in ~/.config/pulse and/or ~/.pulse and restart PulseAudio. This also resets application volumes.\n1. Disable stream device reading. This may be not wanted when using different soundcards with different applications.\n\n```\n/etc/pulse/default.pa\n```\n\n```\nload-module module-stream-restore restore_device=false\n```\n\n"
    },
    {
      "title": "RTP/UDP packet flood",
      "level": 3,
      "content": "In some cases, the default configuration might flood the network with UDP packets.[5] To fix this problem, launch paprefs and disable Multicast/RTP Sender.[6]\n\n"
    },
    {
      "title": "New audio source streams auto-select to \"blank\" stream instead of BT headphones",
      "level": 3,
      "content": "Example scenario: Restarting, stopping, fast forwarding a Youtube video on Firefox 68.0.1 on KDE + Arch might set the \"sink\" associated with it in PulseAudio to a blank state, and then output sound over laptop speakers. Inconsistently reproducible on Dell 9360.\n\nFix seems to be to kill and restart PulseAudio.\n\n```\n$ pulseaudio -k\n$ pulseaudio --start\n```\n\n"
    }
  ]
}