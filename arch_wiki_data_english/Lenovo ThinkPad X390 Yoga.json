{
  "title": "Lenovo ThinkPad X390 Yoga",
  "url": "https://wiki.archlinux.org/title/Lenovo_ThinkPad_X390_Yoga",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section does not follow the Laptop page guidelines.** This article or section does not follow the Laptop page guidelines.\n\nThis article or section does not follow the Laptop page guidelines.\n\nTable content:\nHardware | PCI/USB ID | Working?\nTouchpad |  | Yes\nTouchScreen |  | Yes\nTrackPoint |  | Yes\nKeyboard |  | Yes\nVideo |  | Yes\nWebcam |  | Yes\nEthernet |  | Untested\nBluetooth |  | Yes\nmicroSD-Card slot |  | Yes\nAudio |  | Yes\nWireless |  | Yes\nMobile broadband |  | Yes\nFingerprint Reader |  | Yes\n\n"
    },
    {
      "title": "Firmware",
      "level": 2,
      "content": "In August of 2018 Lenovo has joined the Linux Vendor Firmware Service (LVFS) project, which enables firmware updates from within the OS. BIOS updates (and possibly other firmware such as the Thunderbolt controller) can be queried for and installed through fwupd.\n\n"
    },
    {
      "title": "Touchscreen",
      "level": 2,
      "content": "One option for fixing the touchscreen after resume is reloading the wacom kernel module:\n\n```\n/usr/lib/systemd/system-sleep/10-wacom.sh\n```\n\n```\n#!/bin/bash\n\ncase $1/$2 in\n  pre/*)\n    # echo \"Going to $2...\"\n    /usr/bin/rmmod wacom\n    ;;\n  post/*)\n    # echo \"Waking up from $2...\"\n    /usr/bin/modprobe wacom\n    ;;\nesac\n```\n\nThis reloads the wacom kernel module during standby and fixes the issue for me. Other possible options can be found in the related ThinkPad articles, like disabling Thunderbolt or using rtcwake for 1 second. Both options did not work reliably for me.\n\nThe touchscreen appears to perform much better using libinput. Created the following file:\n\n```\n/etc/X11/xorg.conf.d/40-libinput.conf\n```\n\n```\nSection \"InputClass\"\n  Identifier \"touchscreen config\"\n  MatchProduct \"Wacom|WACOM|PTK-540WL|ISD-V4\"\n  MatchDevicePath \"/dev/input/event*\"\n  MatchIsTouchscreen \"on\"\n  Driver \"libinput\"\n  Option \"Tapping\" \"true\"\n  Option \"TappingDrag\" \"true\"\nEndSection\n```\n\nThis uses libinput and fixes scrolling with the finger in the desktop environment.\n\n"
    },
    {
      "title": "Fingerprint reader",
      "level": 2,
      "content": "See fprint.\n\n"
    },
    {
      "title": "Function keys",
      "level": 2,
      "content": "Table content:\nKey | Visible?1 | Marked?2 | Effect\nFn |  |  | XF86WakeUp\nFn+F1 |  |  | XF86AudioMute\nFn+F2 |  |  | XF86AudioLowerVolume\nFn+F3 |  |  | XF86AudioRaiseVolume\nFn+F4 |  |  | XF86AudioMicMute\nFn+F5 |  |  | XF86MonBrightnessDown\nFn+F6 |  |  | XF86MonBrightnessUp\nFn+F7 |  |  | XF86Display\nFn+F8 |  |  | XF86WLAN\nFn+F9 |  |  | XF86Tools\nFn+F10 |  |  | XF86Bluetooth\nFn+F11 |  |  | ??\nFn+F12 |  |  | XF86Favorites\n\n1. The key is visible to xev and similar tools.\n1. The physical key has a symbol on it, which describes its function.\n\n"
    }
  ]
}