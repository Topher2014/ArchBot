{
  "title": "Shadowsocks",
  "url": "https://wiki.archlinux.org/title/Shadowsocks",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\nRelated articles\n\n- Trojan\n\nShadowsocks is a lightweight proxy. It is based on the SOCKS5 protocol, but additionally uses encryption, which improves security and helps to bypass firewalls.\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Several implementations are packaged for Arch Linux. You can install one of them:\n\n- shadowsocks — the initial implementation written in Python.\n- shadowsocks-rust — the newest and actively developed implementation written in Rust.\n- go-shadowsocks2AUR, shadowsocks-goAUR — written in Go.\n- shadowsocks-libev-staticAUR — written in C. No longer in development, superseded by shadowsocks-rust.\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "Shadowsocks configuration is done with a JSON formatted file. See Configuration via Config File.\n\n- To specify multiple server IPs, the following syntax can be used \"server\":[\"1.1.1.1\",\"2.2.2.2\"],.\n- To find out the fastest method running on your machine, you can benchmark with the script iperf.sh.\n\n"
    },
    {
      "title": "From the command line",
      "level": 4,
      "content": "The client is started with the ss-local (shadowsocks-libev) or sslocal (shadowsocks, shadowsocks-rust) command, see sslocal(1) for details:\n\n```\nsslocal -b 127.0.0.1:1080 --server-url ss://\n```\n\nOr via config file:\n\n```\nsslocal -c config.json\n```\n\n```\nconfig.json\n```\n\n```\n{\n \"remarks\": \"Server name\",\n \"server\": \"111.111.111.111\",\n \"server_port\": 804,\n \"local_port\": 1080,\n \"method\": \"chacha20-ietf-poly1305\",\n \"password\": \"server_password\"\n}\n```\n\n"
    },
    {
      "title": "Daemon management",
      "level": 4,
      "content": "The Shadowsocks client can be controlled with an instance of shadowsocks@.service (shadowsocks) or shadowsocks-libev@.service (shadowsocks-libev) through systemctl. To use the configuration file /etc/shadowsocks/config.json, start and enable shadowsocks-libev-server@config.service or shadowsocks-server@config.service.\n\nYou may also be interested in running an instance of shadowsocks@ or shadowsocks-libev@ after the network is up.\n\n"
    },
    {
      "title": "From the command line",
      "level": 4,
      "content": "The server is started with the ss-server (shadowsocks-libev) or ssserver (shadowsocks, shadowserver-rust) command, see the ssserver(1) manual.\n\n"
    },
    {
      "title": "Daemon management",
      "level": 4,
      "content": "The Shadowsocks server can be controlled with an instance of shadowsocks-rust-server@.service (shadowsocks-rust) or shadowsocks-server@.service (shadowsocks). To use the configuration file /etc/shadowsocks/config.json, start and enable shadowsocks-rust-server@config.service or shadowsocks-server@config.service.\n\nTo bind Shadowsocks to a privileged port (less than 1024), the server should be started as user root:\n\n```\n/etc/systemd/system/shadowsocks-server@.service.d/start-as-root.conf\n```\n\n```\n[Service]\nUser=root\n```\n\n"
    },
    {
      "title": "Performance optimization",
      "level": 3,
      "content": "- Use common ports such as 443. The Great Firewall checks relatively few commonly used ports to reduce stress.\n- Enable TCP Fast Open.\n- Enable BBR.\n- Install python-gevent to increase the speed of shadowsocks.\n- Optimize kernel parameters, see Optimizing Shadowsocks.\n\n"
    },
    {
      "title": "Encryption",
      "level": 3,
      "content": "See AEAD Ciphers.\n\nInstalling the python-m2cryptoAUR package will make encryption a little faster.\n\nTo use Salsa20 or ChaCha20 ciphers, install the libsodium package.\n\n"
    },
    {
      "title": "See also",
      "level": 2,
      "content": "- Shadowsocks Home Page\n- GitHub project (shadowsocks)\n- GitHub project (shadowsocks-rust)\n- GitHub project (shadowsocks-libev)\n- Python package\n- GitHub wiki (some suggestions for optimization)\n\n"
    }
  ]
}