{
  "title": "OpenSearch",
  "url": "https://wiki.archlinux.org/title/OpenSearch",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "From Wikipedia:OpenSearch (software):\n\n"
    },
    {
      "title": "Installation",
      "level": 2,
      "content": "Install the opensearch package.\n\nVarious plugins are listed as optional dependencies which can be installed according to your needs. If you are using opensearch-dashboards remember to install the corresponding Dashboards plugins.\n\n"
    },
    {
      "title": "Configuration",
      "level": 2,
      "content": "The main OpenSearch configuration file is well-documented and located at /etc/opensearch/opensearch.yml. The official documentation should prove helpful as well.\n\n- By default OpenSearch is public accessible, it may be preferred to allow only access on the host instead:\n\n```\nnetwork.host: 127.0.0.1\n```\n\n- It is possible to use a custom port instead of the default 9200:\n\n```\nhttp.port: 9200\n```\n\n"
    },
    {
      "title": "Usage",
      "level": 2,
      "content": "If you do not have a keystore at /etc/opensearch/opensearch.keystore, you need to create one before starting OpenSearch:\n\n```\n# opensearch-keystore create\n```\n\nAfterwards, you can start/enable opensearch.service.\n\nEnsure OpenSearch is running and accessible by using CURL:\n\n```\n$ curl http://127.0.0.1:9200\n```\n\n```\n{\n  \"name\" : \"opensearch.example.net\",\n  \"cluster_name\" : \"opensearch\",\n  \"cluster_uuid\" : \"TRylpzbsQB-Nk2KgktTQtA\",\n  \"version\" : {\n    \"number\" : \"7.10.2\",\n    \"build_type\" : \"tar\",\n    \"build_hash\" : \"unknown\",\n    \"build_date\" : \"2022-01-07T15:57:30.358290Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"8.10.1\",\n    \"minimum_wire_compatibility_version\" : \"6.8.0\",\n    \"minimum_index_compatibility_version\" : \"6.0.0-beta1\"\n  },\n  \"tagline\" : \"The OpenSearch Project: https://opensearch.org/\"\n}\n```\n\nThe OpenSearch server management (document maintenance, performing search, etc.) is usually done by clients that should provide a seamless integration with the preferred programming language.\n\nUseful tools to manage OpenSearch instances and clusters like opensearch-dashboards and opensearch-cli are also available to simplify management.\n\n"
    },
    {
      "title": "Upgrading from Elasticsearch OSS",
      "level": 3,
      "content": "To upgrade multi-node clusters of Elasticsearch OSS to OpenSearch one should consult the official guide.\n\nFor standalone nodes it might suffice to copy any configuration changes and move the index data to its new location:\n\nStop elasticsearch.service\n\n```\n# cp -r /var/lib/elasticsearch/nodes /var/lib/opensearch/\n```\n\n```\n# chown opensearch:opensearch -R /var/lib/opensearch\n```\n\nStart opensearch.service\n\n"
    },
    {
      "title": "Compatibility with Beats OSS",
      "level": 3,
      "content": "Beats agents like filebeat are not compatible with OpenSearch in newer versions, the official documentation provides compatibility tables. Versions 7.13.X and above will not work and all 7.X versions need a workaround in the configuration:\n\n```\n/etc/opensearch/opensearch.yml\n```\n\n```\n[...]\ncompatibility.override_main_response_version: true\n[...]\n```\n\nThis will make OpenSearch return 7.10.2 as its version number.\n\nAgent versions compatible with the above workaround are available:\n\nNote: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\n- metricbeat-ossAUR\n- filebeat-ossAUR\n- packetbeat-ossAUR\n- heartbeat-ossAUR\n- auditbeat-ossAUR\n- journalbeat-ossAUR\n\n"
    }
  ]
}